<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1, maximum-scale=1"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <script>
        var icon = window.location.search.match(/[?&]app=(.*?)(?:&|$)/);
        if (icon) {
            document.write('<link rel="icon" type="image/png" href="/api/icon?app=' + icon[1] + '" />');
        }
    </script>
    <title>One Flag Studio - Simulator</title>
</head>
<body></body>
<script>
    // Copyright (c) 2010
    // Michael Carter (cartermichael@gmail.com)
    // Martin Hunt (mghunt@gmail.com)
    //
    // Permission is hereby granted, free of charge, to any person obtaining a copy
    // of this software and associated documentation files (the "Software"), to deal
    // in the Software without restriction, including without limitation the rights
    // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    // copies of the Software, and to permit persons to whom the Software is
    // furnished to do so, subject to the following conditions:
    //
    // The above copyright notice and this permission notice shall be included in
    // all copies or substantial portions of the Software.
    //
    // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    // THE SOFTWARE.

    // Initialization of js.io occurs in a closure, preventing local variables
    // from entering the global scope.  During execution, the method `jsio` is
    // added to the global scope.


    (function () {
        function init(cloneFrom) {
            // We expect this code to be minified before production use, so we may
            // write code slightly more verbosely than we otherwise would.

            var INITIAL_FILE = '<initial file>';
            var MODULE_NOT_FOUND = 'MODULE_NOT_FOUND';

            // Should we parse syntax errors in the browser?
            var DEBUG = true;

            // Store a reference to the slice function for converting objects of
            // type arguments to type array.
            var SLICE = Array.prototype.slice;

            // js.io supports multiple JavaScript environments such as node.js and
            // most web browsers (IE, Firefox, WebKit).  The ENV object wraps
            // any utility functions that contain environment-specific code (e.g.
            // reading a file using node's `fs` library or a browser's
            // `XMLHttpRequest`).  Running js.io in other JavaScript environments
            // is as easy as implementing an environment object that conforms to
            // the abstract interface for an environment (provided below) and
            // calling `jsio.setEnv()`.
            var ENV;

            // Checks if the last character in a string is `/`.
            var rexpEndSlash = /(\/|\\)$/;

            function getModuleDef(path) {
                path += '.js';
                return jsio.__modules[path] || new ModuleDef(path);
            }

            // Creates an object containing metadata about a module.
            function ModuleDef(path) {
                this.path = path;
                this.friendlyPath = path;

                util.splitPath(path, this);
                this.directory = util.resolve(ENV.getCwd(), this.directory);
            };

            ModuleDef.prototype.setBase = function (baseMod, basePath) {
                this.baseMod = baseMod;
                this.basePath = basePath + '/' + baseMod;
            };

            var HOST = /^([a-z][a-z0-9+\-\.]*:\/\/.*?\/)(.*)$/;
            var PROTOCOL = /^[a-z][a-z0-9+\-\.]*:/

            // Utility functions
            var util = {
                // `util.bind` returns a function that, when called, will execute
                // the method passed in with the provided context and any additional
                // arguments passed to `util.bind`.
                //       util.bind(obj, 'f', a) -> function() { return obj.f(a); }
                //       util.bind(obj, g, a, b, c) -> function() { return g.call(g, a, b, c); }
                bind: function (context, method/*, args... */) {
                    var args = SLICE.call(arguments, 2);
                    return function () {
                        method = (typeof method == 'string' ? context[method] : method);
                        return method.apply(context, args.concat(SLICE.call(arguments, 0)));
                    };
                },

                // `util.addEndSlash` accepts a string.  That string is returned with a `/`
                // appended if the string did not already end in a `/`.
                addEndSlash: function (str) {
                    return rexpEndSlash.test(str) ? str : str + '/';
                },

                // `util.removeEndSlash` accepts a string.  It removes a trailing `/` if
                // one is found.
                removeEndSlash: function (str) {
                    return str.replace(rexpEndSlash, '');
                },

                // `util.relative` accepts two paths (strings) and returns the second path
                // relative to the first.
                //
                //  - if `path` starts with `relativeTo`, then strip `path` off the
                //    `relativeTo` part
                //
                //         util.relative('abc/def/', 'abc') -> 'def'
                //
                //  - if `path` starts with some substring of `relativeTo`, remove
                //    this substring and add `../` for each remaining segment of
                //    `relativeTo`.
                //
                //         util.relative('abc/def/', 'abc/hij') -> '../def'
                //
                relative: function (relativeTo, path) {
                    var len = relativeTo.length;
                    if (path.substring(0, len) == relativeTo) {
                        // if the relative path now starts with a path separator
                        // either (/ or \), remove it
                        /* Note: we're casting a boolean to an int by adding len to it */
                        return path.slice(len + /[\/\\]/.test(path.charAt(len)));
                    }

                    var sA = util.removeEndSlash(path).split(ENV.pathSep),
                        sB = util.removeEndSlash(relativeTo).split(ENV.pathSep),
                        i = 0;

                    /* Count how many segments match. */
                    while (sA[i] == sB[i]) {
                        ++i;
                    }

                    if (i) {
                        /* If at least some segments matched, remove them.  The result is our new path. */
                        path = sA.slice(i).join(ENV.pathSep);

                        /* Prepend `../` for each segment remaining in `relativeTo`. */
                        for (var j = sB.length - i; j > 0; --j) {
                            path = '../' + path;
                        }
                    }

                    return path;
                },

                // `buildPath` accepts an arbitrary number of string arguments to concatenate into a path.
                //     util.buildPath('a', 'b', 'c/', 'd/') -> 'a/b/c/d/'
                buildPath: function () {
                    var pieces = [];
                    for (var i = 0, n = arguments.length; i < n; ++i) {
                        var piece = arguments[i];
                        if (PROTOCOL.test(piece)) {
                            pieces.length = 0;
                        }

                        if (piece != '.' && piece != './' && piece) {
                            pieces.push(piece);
                        }
                    }

                    return util.resolveRelativePath(pieces.join('/'));
                },

                // `resolveRelativePath` removes relative path indicators.  For example:
                //     util.resolveRelativePath('a/../b') -> b
                resolveRelativePath: function (path) {
                    /* If the path starts with a protocol+host, store it and remove it (add it
                     back later) so we don't accidently modify it. */
                    var protocol = path.match(HOST);
                    if (protocol) {
                        path = protocol[2];
                    }

                    /* Remove multiple slashes and trivial dots (`/./ -> /`). */
                    path = path.replace(/\/+/g, '/').replace(/\/\.\//g, '/');

                    /* Loop to collapse instances of `../` in the path by matching a previous
                     path segment.  Essentially, we find substrings of the form `/abc/../`
                     where abc is not `.` or `..` and replace the substrings with `/`.
                     We loop until the string no longer changes since after collapsing
                     possible instances once, we may have created more instances that can
                     be collapsed.
                     */
                    var o;
                    while ((o = path) != (path = path.replace(/(^|\/)(?!\.?\.\/)([^\/]+)\/\.\.\//g, '$1'))) {
                    }
                    /* Don't forget to prepend any protocol we might have removed earlier. */
                    return protocol ? protocol[1] + path.replace(/^\//, '') : path;
                },

                isAbsolutePath: function (path) {
                    return /^\//.test(path) || PROTOCOL.test(path);
                },

                resolve: function (from, to) {
                    return this.isAbsolutePath(to) ? util.resolveRelativePath(to) : util.buildPath(from, to);
                },

                resolveRelativeModule: function (modulePath, directory) {
                    var result = [],
                        parts = modulePath.split('.'),
                        len = parts.length,
                        relative = (len > 1 && !parts[0]),
                        i = relative ? 0 : -1;

                    while (++i < len) {
                        result.push(parts[i] ? parts[i] : '..');
                    }
                    return util.buildPath(relative ? directory : '', result.join('/'));
                },
                resolveModulePath: function (modulePath, directory) {
                    // resolve relative paths
                    if (modulePath.charAt(0) == '.') {
                        return [
                            getModuleDef(util.resolveRelativeModule(modulePath, directory)),
                            getModuleDef(util.resolveRelativeModule(modulePath + '.index', directory))
                        ];
                    }

                    // resolve absolute paths with respect to jsio packages/
                    var pathSegments = modulePath.split('.');
                    var baseMod = pathSegments[0];

                    if (jsioPath.cache.hasOwnProperty(baseMod)) {
                        pathSegments.shift();
                        var pathString = pathSegments.join('/');
                        return [
                            getModuleDef(util.buildPath(jsioPath.cache[baseMod], pathString)),
                            getModuleDef(util.buildPath(jsioPath.cache[baseMod], pathString + '/index'))
                        ];
                    }

                    var pathString = pathSegments.join('/');
                    var defs = [];
                    var paths = jsioPath.get();
                    var len = paths.length;
                    for (var i = 0; i < len; ++i) {
                        var base = paths[i];
                        var path = util.buildPath(base, pathString);

                        var moduleDef = getModuleDef(path);
                        moduleDef.setBase(baseMod, base);
                        defs.push(moduleDef);

                        var moduleDef = getModuleDef(path + '/index');
                        moduleDef.setBase(baseMod, base);
                        defs.push(moduleDef);
                    }
                    return defs;
                },
                splitPath: function (path, result) {
                    if (!result) {
                        result = {};
                    }
                    var i = path.lastIndexOf('/') + 1;
                    result.directory = path.substring(0, i);
                    result.filename = path.substring(i);
                    return result;
                }
            };

            // construct the top-level jsio object
            var jsio = util.bind(this, _require, null, null, null);

            jsio.__util = util;
            jsio.__init__ = init;

            var srcCache;
            jsio.setCache = function (cache) {
                srcCache = jsio.__srcCache = cache;
            }
            jsio.setCache(cloneFrom && cloneFrom.__srcCache || {});

            jsio.setCachedSrc = function (path, src, locked) {
                if (srcCache[path] && srcCache[path].locked) {
                    console.warn('Cache is ignoring (already present and locked) src ' + path);
                    return;
                }
                srcCache[path] = {path: path, src: src, locked: locked};
            };
            jsio.getCachedSrc = function (path) {
                return srcCache[path];
            }

            jsio.__filename = 'jsio.js';
            jsio.__cmds = [];
            jsio.__jsio = jsio;
            jsio.__require = _require;
            jsio.__modules = {preprocessors: {}};
            var jsioPath = {
                set: function (path) {
                    this.value = [];
                    (typeof path == 'string' ? [path] : path).map(this.add, this);
                },
                get: function () {
                    return jsioPath.value.slice(0);
                },
                add: function (path) {
                    if (arguments.length == 2) {
                        var from = arguments[0];
                        var to = util.resolve(ENV.getCwd(), arguments[1]);
                        this.cache[from] = to;
                    } else {
                        path = util.resolve(ENV.getCwd(), path);
                        var v = jsioPath.value, len = v.length;
                        for (var i = 0; i < len; ++i) {
                            if (v[i] == path) {
                                return;
                            }
                        }
                        v.push(path);
                    }
                },
                remove: function (path) {
                    var v = jsioPath.value, len = v.length;
                    for (var i = 0; i < len; ++i) {
                        if (v[i] == path) {
                            v.splice(i, 1);
                        }
                    }
                },
                value: [],
                cache: {}
            };

            jsio.path = jsioPath;
            jsio.addPath = util.bind(jsioPath, 'add');
            jsio.addCmd = util.bind(jsio.__cmds, 'push');

            jsio.setEnv = function (envCtor) {
                if (!envCtor && cloneFrom) {
                    ENV = new cloneFrom.__env.constructor(util);
                } else {
                    if (typeof envCtor == 'string') {
                        envCtor = ({
                                node: ENV_node,
                                browser: ENV_browser
                            })[envCtor] || ENV_browser;
                    }

                    ENV = new envCtor(util);
                }

                this.__env = ENV;
                this.__dir = ENV.getCwd();

                if (!ENV.loadModule) {
                    ENV.loadModule = loadModule;
                }

                jsio.path.cache['jsio'] = ENV.getPath();
                if (envCtor == ENV_browser) {
                    jsio.path.set(ENV.getPath());
                }
            }

            if (cloneFrom) {
                jsio.setEnv();
            } else if (typeof JSIO_ENV_CTOR !== 'undefined') {
                jsio.setEnv(JSIO_ENV_CTOR);
            } else if (typeof process !== 'undefined' && process.version) {
                jsio.setEnv('node');
            } else if (typeof XMLHttpRequest != 'undefined' || typeof ActiveXObject != 'undefined') {
                jsio.setEnv('browser');
            }

            jsio.main = ENV && ENV.main;

            var boundJsio;
            var localJsio = function (req) {
                if (!boundJsio) {
                    boundJsio = util.bind(this, _require, {}, ENV.getPath(), 'jsio.js');
                }

                return boundJsio(req, {dontExport: true, dontPreprocess: true});
            };

            /*
             function ENV_abstract() {
             this.global = null;
             this.getCwd = function() {};
             this.getPath = function() {};
             this.eval = function(code, path) {};
             this.fetch = function(path) { return contentsOfPath; };
             this.log = function(args...) {};
             }
             */

            function ENV_node() {
                var Module = module.constructor;

                var parent = module.parent;
                var req = util.bind(parent, parent && parent.require || require);

                var fs = req('fs');
                var path = req('path');
                var vm = req('vm');

                this.requireCache = require.cache;
                this.main = require.main;
                this.name = 'node';
                this.global = global;

                var _cwd = process.cwd();
                this.setCwd = function (cwd) {
                    _cwd = path.resolve(_cwd, cwd);
                }
                this.getCwd = function () {
                    return _cwd;
                }

                this.pathSep = path.sep;

                // var parentPath = util.splitPath(module.parent.filename);
                // module.parent.require = function(request, opts) {
                //   if (!opts) { opts = {}; }
                //   opts.dontExport = true;
                //   return _require({}, parentPath.directory, parentPath.filename, request, opts);
                // };

                this.log = function () {
                    var msg;
                    try {
                        msg = Array.prototype.map.call(arguments, function (a) {
                                if ((a instanceof Error) && a.message) {
                                    return 'Error:' + a.message + '\nStack:' + a.stack + '\nArguments:' + a.arguments;
                                }
                                return (typeof a == 'string' ? a : JSON.stringify(a));
                            }).join(' ') + '\n';
                    } catch (e) {
                        msg = Array.prototype.join.call(arguments, ' ') + '\n';
                    }

                    process.stderr.write(msg);
                    return msg;
                }

                this.getPath = function () {
                    return __dirname;
                }

                this.eval = function (code, path) {
                    return vm.runInThisContext(code, path, true);
                }

                this.fetch = function (p) {
                    p = util.resolve(this.getCwd(), p);

                    try {
                        var dirname = path.dirname(p);
                        var filename = path.basename(p);
                        var lowerFilename = filename.toLowerCase();
                        var files = fs.readdirSync(dirname);
                    } catch (e) {
                        return false;
                    }

                    for (var i = 0, testName; testName = files[i]; ++i) {
                        if (testName.toLowerCase() == lowerFilename && testName != filename) {
                            throw "Invalid case when importing [" + p + "].  You probably meant" + testName;
                        }
                    }

                    try {
                        return fs.readFileSync(p, 'utf8');
                    } catch (e) {
                        return false;
                    }
                }

                var stackRe = /\((?!module.js)(?:file:\/\/)?(.*?)(:\d+)(:\d+)\)/g;
                this.loadModule = function (baseLoader, fromDir, fromFile, item, opts) {
                    if (fromFile == INITIAL_FILE && !opts.initialImport) {
                        var stack = new Error().stack;
                        var match;
                        stackRe.lastIndex = 0;
                        do {
                            match = stackRe.exec(stack);
                        } while (match && /jsio\.js$/.test(match[1]));

                        if (match) {
                            fromDir = path.dirname(match[1]);
                            fromFile = path.basename(match[1]);
                        }
                    }

                    try {
                        return baseLoader(null, fromDir, fromFile, item, opts);
                    } catch (e) {
                        if (e.code == MODULE_NOT_FOUND) {
                            var require = req;
                            // lookup node module for relative imports
                            var module;
                            var filename = path.join(fromDir, fromFile);
                            module = this.requireCache[filename];
                            if (!module) {
                                module = new Module(filename);
                                module.filename = filename;
                                module.paths = Module._nodeModulePaths(path.dirname(filename));
                            }
                            var request = item.original || item.from;
                            try {
                                return {
                                    exports: module ? module.require(request) : require(request),
                                    path: item.from
                                };
                            } catch (e2) {
                                if (e2.code == MODULE_NOT_FOUND) {
                                    throw e;
                                }

                                throw e2;
                            }
                        } else {
                            throw e;
                        }
                    }
                }
            }

            function ENV_browser() {
                var XHR = window.XMLHttpRequest || function () {
                            return new ActiveXObject("Msxml2.XMLHTTP");
                        },
                    cwd = null,
                    path = null,
                    JOIN = Array.prototype.join;

                this.name = 'browser';
                this.global = window;
                this.pathSep = "/";

                if (!this.global.jsio) {
                    this.global.jsio = jsio;
                }

                if (window.console && console.log) {
                    if (!console.log.apply || /Android|iPhone|iPad|iPod/.test(navigator.userAgent)) {
                        this.log = function () {
                            var args = JOIN.call(arguments, ' ');
                            console.log(args);
                            return args;
                        }
                    } else {
                        this.log = function () {
                            console.log.apply(console, arguments);
                            return JOIN.call(arguments, ' ');
                        }
                    }
                } else {
                    this.log = function () {
                        return JOIN.call(arguments, ' ');
                    }
                }

                this.getCwd = function () {
                    if (!cwd) {
                        var loc = window.location, path = loc.pathname;
                        cwd = loc.protocol + '//' + loc.host + path.substring(0, path.lastIndexOf('/') + 1);
                    }
                    return cwd;
                }

                this.getPath = function () {
                    if (!path) {
                        try {
                            var filename = new RegExp('(.*?)' + jsio.__filename + '(\\?.*)?$'),
                                scripts = document.getElementsByTagName('script');

                            for (var i = 0, script; script = scripts[i]; ++i) {
                                var result = script.src.match(filename);
                                if (result) {
                                    path = result[1];
                                    if (/^[A-Za-z]*:\/\//.test(path)) {
                                        path = util.relative(this.getCwd(), path);
                                    }
                                    break;
                                }
                            }
                        } catch (e) {
                        }

                        if (!path) {
                            path = '.';
                        }
                    }
                    return path;
                }

                var debugHost = location.protocol + '//' + location.host + '/';
                var debugPath = location.pathname;
                this.debugPath = function (path) {
                    return util.buildPath(debugHost, path[0] != '/' && debugPath, path);
                }

                // IE6 won't return an anonymous function from eval, so use the function constructor instead
                var rawEval = typeof eval('(function(){})') == 'undefined'
                    ? function (src, path) {
                    return (new Function('return ' + src))();
                }
                    : function (src, path) {
                    var src = src + '\n//# sourceURL=' + path;
                    return window.eval(src);
                };

                // provide an eval with reasonable debugging
                this.eval = function (code, path, origCode) {
                    try {
                        return rawEval(code, this.debugPath(path));
                    } catch (e) {
                        if (e instanceof SyntaxError) {
                            ENV.log("a syntax error is preventing execution of " + path);
                            if (DEBUG && this.checkSyntax) {
                                this.checkSyntax(origCode, path);
                            }
                        }
                        throw e;
                    }
                }

                this.checkSyntax = function (code, path) {
                    try {
                        var syntax = jsio('import .util.syntax', {suppressErrors: true, dontExport: true}),
                            result = syntax(code);
                        syntax.display(result, path);
                    } catch (e) {
                    }
                }

                this.fetch = function (path) {
                    var xhr = new XHR();
                    try {
                        xhr.open('GET', path, false);
                        xhr.send(null);
                    } catch (e) {
                        ENV.log('e:', e);
                        return false; // firefox file://
                    }

                    if (xhr.status == 404 || // all browsers, http://
                        xhr.status == -1100 || // safari file://
                            // XXX: We have no way to tell in opera if a file exists and is empty, or is 404
                            // XXX: Use flash?
                            //(!failed && xhr.status == 0 && !xhr.responseText && EXISTS)) // opera
                        false) {
                        return false;
                    }

                    return xhr.responseText;
                }
            };

            var preprocessorCheck = /^"use (.*?)"\s*;\s*\n/,
                preprocessorFunc = /^(.+)\(.+\)$/,
                failedFetch = {};

            function findModule(possibilities, opts) {
                var src;
                for (var i = 0, possible; possible = possibilities[i]; ++i) {
                    var path = possible.path,
                        cachedVersion = srcCache[path];

                    if (cachedVersion) {
                        // extract a non-absolute dirname from the cache key: absolute paths
                        // built into the cache are made relative during compile time since
                        // absolute paths won't match between host and target device. Use
                        // the cache key as the relative path so future imports can also
                        // successfully lookup paths in the cache.
                        var match = path.match(/^(.*\/)[^\\\/]+$/);
                        possible.directory = match && match[1] || "";
                        possible.src = cachedVersion.src;
                        possible.pre = true;
                        return possible;
                    }

                    /*if (/^\.\//.test(path)) {
                     // remove one path segment for each dot from the cwd
                     path = addEndSlash(ENV.getCwd()) + path;
                     }*/

                    src = ENV.fetch(path);

                    if (src !== false) {
                        possible.src = src;
                        return possible;
                    } else {
                        failedFetch[path] = true;
                    }
                }

                return false;
            }

            function processStack() {
                return importStack.map(function (item, index) {
                    var stack = index == 0 ? new Error().stack : importStack[index - 1].stack;
                    var i = stack.indexOf(item.path);
                    if (i >= 0) {
                        item.line = ':' + parseInt(stack.substring(i + item.path.length + 1));
                    }

                    return (index + 1) + ': "' + item.friendlyPath + '" ' + item.path + (item.line || '');
                });
            }

            // load a module from a file
            function loadModule(baseLoader, fromDir, fromFile, item, opts) {
                var modulePath = item.from;
                var possibilities = util.resolveModulePath(modulePath, fromDir);
                for (var i = 0, p; p = possibilities[i]; ++i) {
                    var path = possibilities[i].path;
                    if (!opts.reload && (path in jsio.__modules)) {
                        return possibilities[i];
                    }

                    if (path in failedFetch) {
                        possibilities.splice(i--, 1);
                    }
                }

                if (!possibilities.length) {
                    if (opts.suppressErrors) {
                        return false;
                    }
                    var e = new Error('Could not import `' + item.from + '`'
                        + "\tImport Stack:\n"
                        + "\t\t" + processStack().join("\n\t\t"));
                    e.jsioLogged = true;
                    e.code = MODULE_NOT_FOUND;
                    throw e;
                }

                var moduleDef = findModule(possibilities, opts),
                    match;
                if (!moduleDef) {
                    if (opts.suppressErrors) {
                        return false;
                    }
                    var paths = [];
                    for (var i = 0, p; p = possibilities[i]; ++i) {
                        paths.push(p.path);
                    }
                    var e = new Error("Could not import `" + modulePath + "`\n"
                        + "\tlooked in:\n"
                        + "\t\t" + paths.join('\n\t\t') + "\n"
                        + "\tImport Stack:\n"
                        + "\t\t" + processStack().join("\n\t\t"));
                    e.code = MODULE_NOT_FOUND;
                    throw e;
                }

                // a (potentially) nicer way to refer to a module -- how it was referenced in code when it was first imported
                moduleDef.friendlyPath = modulePath;

                // cache the base module's path in the path cache so we don't have to
                // try out all paths the next time we see the same base module.
                if (moduleDef.baseMod && !(moduleDef.baseMod in jsioPath.cache)) {
                    jsioPath.cache[moduleDef.baseMod] = moduleDef.basePath;
                }

                // don't apply the standard preprocessors to base.js.  If we're reloading
                // the source code, always apply them.  We also don't want to run them
                // if they've been run once -- moduleDef.pre is set to true already
                // if we're reading the code from the source cache.
                if (modulePath != 'base' && (opts.reload || !opts.dontPreprocess && !moduleDef.pre)) {
                    moduleDef.pre = true;

                    applyPreprocessors(fromDir, moduleDef, ["import", "inlineSlice"], opts);

                    // the order here is somewhat arbitrary and might be overly restrictive (... or overly powerful)
                    // while (moduleDef.src.charAt(0) == '"' && (match = moduleDef.src.match(preprocessorCheck))) {
                    //  moduleDef.src = moduleDef.src.substring(match[0].length - 1);
                    //  applyPreprocessors(fromDir, moduleDef, match[1].split(','), opts);
                    // }
                }

                // any additional preprocessors?
                if (opts.preprocessors) {
                    applyPreprocessors(fromDir, moduleDef, opts.preprocessors, opts);
                }

                return moduleDef;
            }

            function applyPreprocessors(path, moduleDef, names, opts) {
                for (var i = 0, len = names.length; i < len; ++i) {
                    p = getPreprocessor(names[i]);

                    // if we have a recursive import and p isn't a function, just
                    // skip it (handles the case where a preprocessor imports
                    // other modules).
                    if (p && typeof p == 'function') {
                        p(path, moduleDef, opts);
                    }

                }
            }

            function getPreprocessor(name) {
                var module = jsio.__modules['.preprocessors.' + name];
                return typeof name == 'function'
                    ? name
                    : (module && module.exports
                || localJsio('import .preprocessors.' + name));
            }

            function execModuleDef(context, moduleDef) {
                var src = moduleDef.src;
                delete moduleDef.src;

                var code = "(function(_){with(_){delete _;return function $$" + moduleDef.friendlyPath.replace(/[\:\\\/.-]/g, '_') + "(){" + src + "\n}}})";

                var exports = moduleDef.exports = context.exports;

                var fn = ENV.eval(code, moduleDef.path, src);
                fn = fn(context);

                fn.call(exports);

                if (exports != context.module.exports) {
                    // Emulate node.js-style ability to reassign module.exports:
                    //   module.exports = ...
                    //
                    // Note that in node.js and js.io, setting `module.exports` invalidates
                    // the context's `exports` alias. See
                    // http://nodejs.org/api/modules.html#modules_exports_alias for more
                    moduleDef.exports = context.module.exports;
                } else {
                    // js.io-style ability to override exports directly (`exports = `)
                    moduleDef.exports = context.exports;
                }
            };

            function resolveImportRequest(context, request, opts) {
                var cmds = jsio.__cmds,
                    imports = [],
                    result = false;

                for (var i = 0, imp; imp = cmds[i]; ++i) {
                    if ((result = imp(context, request, opts, imports))) {
                        break;
                    }
                }

                if (result !== true) {
                    throw new (typeof SyntaxError != 'undefined' ? SyntaxError : Error)(String(result || 'invalid jsio command: jsio(\'' + request + '\')'));
                }

                return imports;
            };

            function makeContext(ctx, modulePath, moduleDef, dontAddBase) {
                if (!ctx) {
                    ctx = {};
                }
                if (!ctx.exports) {
                    ctx.exports = {};
                }

                ctx.jsio = util.bind(this, _require, ctx, moduleDef.directory, moduleDef.filename);
                ctx.require = function (request, opts) {
                    if (!opts) {
                        opts = {};
                    }
                    opts.dontExport = true;
                    return ctx.jsio(request, opts);
                };

                ctx.require.main = ENV.main;

                ctx.module = {id: modulePath, exports: ctx.exports};
                if (!dontAddBase && modulePath != 'jsio.base') {
                    ctx.jsio('from jsio.base import *', {dontPreprocess: true});
                    ctx.logging.__create(modulePath, ctx);
                }

                // TODO: FIX for "trailing ." case
                ctx.jsio.__jsio = jsio;
                ctx.jsio.__env = jsio.__env;
                ctx.jsio.__dir = moduleDef.directory;
                ctx.jsio.__filename = moduleDef.filename;
                ctx.jsio.path = jsioPath;

                ctx.__dirname = moduleDef.directory;
                ctx.__filename = util.buildPath(ctx.__dirname, moduleDef.filename);
                return ctx;
            };

            var importStack = [];

            function _require(boundContext, fromDir, fromFile, request, opts) {
                opts = opts || {};
                fromDir = fromDir || './';
                fromFile = fromFile || INITIAL_FILE;

                // require is bound to a module's (or global) context -- we can override this
                // by using opts.exportInto
                var exportInto = opts.exportInto || boundContext || ENV.global;

                // parse the import request(s)
                var imports = resolveImportRequest(exportInto, request, opts),
                    numImports = imports.length,
                    retVal = numImports > 1 ? {} : null;

                // import each requested item
                for (var i = 0; i < numImports; ++i) {
                    var item = imports[i];
                    var modulePath = item.from;
                    var modules = jsio.__modules;
                    var path;
                    var moduleDef;
                    var err;

                    try {
                        moduleDef = jsio.__env.loadModule(loadModule, fromDir, fromFile, item, opts);
                    } catch (e) {
                        err = e;
                    }

                    if (moduleDef) {
                        path = moduleDef.path;
                    } else if (moduleDef == false) {
                        return false;
                    }

                    if (err) {
                        if (opts.suppressErrors) {
                            return false;
                        }
                        if (!err.jsioLogged) {
                            ENV.log(
                                '\nError loading module:\n',
                                '    [[', request, ']]\n',
                                '    requested by:', fromDir + fromFile, '\n',
                                '    current directory:', jsio.__env.getCwd(), '\n',
                                '  ' + err.stack.split('\n').join('\n  '));
                            err.jsioLogged = true;
                        }

                        throw err;
                    }

                    if (moduleDef) {
                        importStack.push({
                            friendlyPath: moduleDef.friendlyPath,
                            path: moduleDef.path,
                            stack: new Error().stack
                        });
                    }

                    // eval any packages that we don't know about already
                    if (!(path in modules)) {
                        modules[path] = moduleDef;
                    }

                    if (!moduleDef.exports) {
                        var newContext = makeContext(opts.context, modulePath, moduleDef, item.dontAddBase);
                        if (item.dontUseExports) {
                            var src = [';(function(){'], k = 1;
                            for (var j in item['import']) {
                                newContext.exports[j] = undefined;
                                src[k++] = 'if(typeof ' + j + '!="undefined"&&exports.' + j + '==undefined)exports.' + j + '=' + j + ';';
                            }
                            src[k] = '})();';
                            moduleDef.src += src.join('');
                        }

                        execModuleDef(newContext, moduleDef);
                    }

                    importStack.pop();

                    var module = moduleDef.exports;

                    // return the module if we're only importing one module
                    if (numImports == 1) {
                        retVal = module;
                    }

                    if (!opts.dontExport) {
                        // add the module to the current context
                        if (item.as) {
                            // remove trailing/leading dots
                            var as = item.as.match(/^\.*(.*?)\.*$/)[1],
                                segments = as.split('.'),
                                kMax = segments.length - 1,
                                c = exportInto;

                            // build the object in the context
                            for (var k = 0; k < kMax; ++k) {
                                var segment = segments[k];
                                if (!segment) continue;
                                if (!c[segment]) {
                                    c[segment] = {};
                                }
                                c = c[segment];
                            }

                            c[segments[kMax]] = module;

                            // there can be multiple module imports with this syntax (import foo, bar)
                            if (numImports > 1) {
                                retVal[as] = module;
                            }
                        } else if (item['import']) {
                            // there can only be one module import with this syntax
                            // (from foo import bar), so retVal will already be set here
                            if (item['import']['*']) {
                                for (var k in modules[path].exports) {
                                    exportInto[k] = module[k];
                                }
                            } else {
                                for (var k in item['import']) {
                                    exportInto[item['import'][k]] = module[k];
                                }
                            }
                        }
                    }
                }

                return retVal;
            }

            // DEFINE SYNTAX FOR JSIO('cmd')

            // from myPackage import myFunc
            // external myPackage import myFunc
            jsio.addCmd(function (context, request, opts, imports) {
                var match = request.match(/^\s*(from|external)\s+([\w.\-$]+)\s+(import|grab)\s+(.*)$/);
                if (match) {
                    imports.push({
                        from: match[2],
                        dontAddBase: match[1] == 'external',
                        dontUseExports: match[3] == 'grab' || match[1] == 'external',
                        'import': {}
                    });

                    match[4].replace(/\s*([\w.\-$*]+)(?:\s+as\s+([\w.\-$]+))?/g, function (_, item, as) {
                        imports[0]['import'][item] = as || item;
                    });
                    return true;
                }
            });

            // import myPackage
            jsio.addCmd(function (context, request, opts, imports) {
                var match = request.match(/^\s*import\s+(.*)$/);
                if (match) {
                    match[1].replace(/\s*([\w.\-$]+)(?:\s+as\s+([\w.\-$]+))?,?/g, function (_, fullPath, as) {
                        imports.push(
                            as ? {
                                from: fullPath,
                                as: as
                            } : {
                                from: fullPath,
                                as: fullPath
                            });
                    });
                    return true;
                }
            });

            // CommonJS syntax
            jsio.addCmd(function (context, request, opts, imports) {

                //    ./../b -> ..b
                //    ../../b -> ...b
                //    ../b -> ..b
                //    ./b -> .b

                var match = request.match(/^\s*[\w.0-9$\/\-:\\]+\s*$/);
                if (match) {

                    var req = util.resolveRelativePath(match[0]),
                        isRelative = req.charAt(0) == '.';

                    req = req
                    // .replace(/^\//, '') // remove any leading slash
                        .replace(/\.\.\//g, '.') // replace relative path indicators with dots
                        .replace(/\.\//g, '')
                        .replace(/\/+$/g, '');

                    if (ENV.pathSep === '\\' && req.match(/^[a-zA-Z]:.*/)) {
                        // leave absolute windows paths (start with drive letter) alone
                    } else {
                        // any remaining slashes are path separators
                        req = req.replace(/\//g, '.');
                    }

                    imports[0] = {from: (isRelative ? '.' : '') + req, original: request};
                    return true;
                }
            });

            jsio.install = function () {
                jsio('from .base import *');
                GLOBAL['logger'] = logging.get('jsiocore');
            };

            jsio.eval = function (src, path) {
                path = ENV.getCwd() || '/';
                var moduleDef = new ModuleDef(path);
                moduleDef.src = src;
                applyPreprocessors(path, moduleDef, ["import", "cls"], {});
                execModuleDef(ENV.global, moduleDef);
            };

            jsio.clone = util.bind(null, init, jsio);

            // in node, defines jsio as a module that can be imported
            var moduleInfo = util.resolveModulePath('jsio')[0];
            if (moduleInfo) {
                jsio.__modules[moduleInfo.path] = new ModuleDef(moduleInfo.path);
                jsio.__modules[moduleInfo.path].exports = jsio;
            }

            return jsio;
        }

        var J = init(null, {});
        if (typeof exports != 'undefined') {
            module.exports = J;
        } else {
            jsio = J;
        }
    })();
    jsio.path.set(["node_modules/ff/lib/", "node_modules/printf/lib", "../node_modules\\jsio\\packages"]);
    jsio.path.cache = {
        "jsio": "../node_modules\\jsio\\packages",
        "squill": "node_modules/squill/",
        "util": "../node_modules\\jsio\\packages/util",
        "base": "../node_modules\\jsio\\packages/base",
        "net": "../node_modules\\jsio\\packages/net",
        "std": "../node_modules\\jsio\\packages/std",
        "lib": "../node_modules\\jsio\\packages/lib",
        "math": "../node_modules\\jsio\\packages/math",
        "math2D": "../node_modules\\jsio\\packages/math2D",
        "ff": "node_modules/ff/lib//ff",
        "preprocessors": "../node_modules\\jsio\\packages/preprocessors"
    };
    jsio.setCache({
        "../node_modules\\jsio\\packages/base.js": {
            "path": "../node_modules\\jsio\\packages/base.js",
            "friendlyPath": "jsio.base",
            "directory": "../node_modules\\jsio\\packages",
            "filename": "base.js",
            "src": "/**\n * base.js\n * This file contains all global functions provided by js.io.\n */\n\nexports.log = jsio.__env.log;\nexports.GLOBAL = jsio.__env.global;\n\n/**\n * Various polyfill methods to ensure js.io implementations provide\n * a baseline of JavaScript functionality. Feature compatibility (localStorage,\n * etc.) should be provided elsewhere.\n */\n\n// Array.isArray\n// Not available before ECMAScript 5.\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\n\nif (!Array.isArray) {\n\tArray.isArray = function (arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t}\n};\n\n// Function.prototype.bind\n// Not available before ECMAScript 5.\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\n\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (oThis) {\n    if (typeof this !== \"function\") {\n      // closest thing possible to the ECMAScript 5 internal IsCallable function\n      throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n    }\n\n    var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP = function () {},\n        fBound = function () {\n          return fToBind.apply(this instanceof fNOP\n                                 ? this\n                                 : oThis,\n                               aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    fNOP.prototype = this.prototype;\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n\n/**\n * DEPRECATED. Old js.io polyfills.\n */\n\nvar SLICE = Array.prototype.slice;\n\n/* Use native isArray if available\n */\nif (typeof Array.isArray === 'function') {\n\texports.isArray = Array.isArray;\n} else {\n\texports.isArray = function (obj) {\n\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t}\n}\n\nexports.bind = function(context, method /*, VARGS*/) {\n\tif(arguments.length > 2) {\n\t\tvar args = SLICE.call(arguments, 2);\n\t\treturn typeof method == 'string'\n\t\t\t? function __bound() {\n\t\t\t\tif (context[method]) {\n\t\t\t\t\treturn context[method].apply(context, args.concat(SLICE.call(arguments, 0)));\n\t\t\t\t} else {\n\t\t\t\t\tthrow logger.error('No method:', method, 'for context', context);\n\t\t\t\t}\n\t\t\t}\n\t\t\t: function __bound() { return method.apply(context, args.concat(SLICE.call(arguments, 0))); }\n\t} else {\n\t\treturn typeof method == 'string'\n\t\t\t? function __bound() {\n\t\t\t\tif (context[method]) {\n\t\t\t\t\treturn context[method].apply(context, arguments);\n\t\t\t\t} else {\n\t\t\t\t\tthrow logger.error('No method:', method, 'for context', context);\n\t\t\t\t}\n\t\t\t}\n\t\t\t: function __bound() { return method.apply(context, arguments); }\n\t}\n}\n\n/**\n * Class constructor.\n */\n\nexports.Class = function(name, parent, proto) {\n\treturn exports.__class__(function() { return this.init && this.init.apply(this, arguments); }, name, parent, proto);\n}\n\nexports.__class__ = function (cls, name, parent, proto) {\n\tvar clsProto = function () {};\n\tvar logger;\n\n\tif (typeof name != 'string') {\n\t\tproto = parent;\n\t\tparent = name;\n\t\tname = null;\n\t}\n\n\tif (name) {\n\t\tlogger = exports.logging.get(name);\n\t}\n\n\tif (!parent) { throw new Error('parent or prototype not provided'); }\n\tif (!proto) { proto = parent; parent = null; }\n\n\tif (parent) {\n\t\tif (exports.isArray(parent)) { // multiple inheritance, use at your own risk =)\n\t\t\tclsProto.prototype = {};\n\t\t\tfor(var i = 0, p; p = parent[i]; ++i) {\n\t\t\t\tif (p == Error && ErrorParentClass) { p = ErrorParentClass; }\n\t\t\t\tfor (var item in p.prototype) {\n\t\t\t\t\tif (!(item in clsProto.prototype)) {\n\t\t\t\t\t\tclsProto.prototype[item] = p.prototype[item];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tparent = parent[0];\n\t\t} else {\n\t\t\tif (parent == Error && ErrorParentClass) { parent = ErrorParentClass; }\n\t\t\tclsProto.prototype = parent.prototype;\n\t\t}\n\t}\n\n\tvar supr = parent ? function(context, method, args) {\n\t\t\tvar f = parent.prototype[method];\n\t\t\tif (!f) { throw new Error('method ' + method + ' does not exist'); }\n\t\t\treturn f.apply(context, args || []);\n\t\t} : null;\n\n\tvar p = cls.prototype = new clsProto();\n\tp.constructor = cls;\n\tp.__parentClass__ = parent;\n\tif (name) { p.__class__ = name; }\n\tproto.call(p, logger || supr, logger && supr);\n\treturn cls;\n}\n\nvar ErrorParentClass = exports.__class__(function ErrorCls() {\n\t\tvar err = Error.prototype.constructor.apply(this, arguments);\n\t\tfor (var prop in err) {\n\t\t\tif (err.hasOwnProperty(prop)) {\n\t\t\t\tthis[prop] = err[prop];\n\t\t\t}\n\t\t}\n\t}, function() {});\n\n/**\n * Merge two objects together.\n */\n\nexports.Class.defaults =\nexports.merge = function(base, extra) {\n\tbase = base || {};\n\n\tfor (var i = 1, len = arguments.length; i < len; ++i) {\n\t\tvar copyFrom = arguments[i];\n\t\tfor (var key in copyFrom) {\n\t\t\tif (copyFrom.hasOwnProperty(key) && !base.hasOwnProperty(key)) {\n\t\t\t\tbase[key] = copyFrom[key];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn base;\n}\n\n/**\n * Create a timer delay.\n */\n\nexports.delay = function(orig, timeout) {\n\tvar _timer = null;\n\tvar ctx, args;\n\tvar f = function() { orig.apply(ctx, args); }\n\treturn function() {\n\t\tctx = this;\n\t\targs = arguments;\n\t\tif (_timer) { clearTimeout(_timer); }\n\t\t_timer = setTimeout(f, timeout || 0);\n\t}\n}\n\n/**\n * Log constructor and default \"logger\".\n */\n\nexports.logging = (function() {\n\n\t// logging namespace, this is what is exported\n\tvar logging = {\n\t\t\tDEBUG: 1,\n\t\t\tLOG: 2,\n\t\t\tINFO: 3,\n\t\t\tWARN: 4,\n\t\t\tERROR: 5,\n\t\t\tNONE: 10\n\t\t};\n\n\tvar _loggers = {}; // all loggers\n\tvar _production = false;\n\tvar _prefix = '';\n\n\tlogging.setPrefix = function(prefix) { _prefix = prefix + ' '; }\n\n\tlogging.setProduction = function(prod) {\n\t\t_production = !!prod;\n\t\tfor (var key in _loggers) {\n\t\t\t_loggers[key].setProduction(_production);\n\t\t}\n\t}\n\n\tlogging.get = function(name) {\n\t\treturn _loggers.hasOwnProperty(name) ? _loggers[name]\n\t\t\t: (_loggers[name] = new Logger(name));\n\t}\n\n\tlogging.set = function(name, logger) {\n\t\t_loggers[name] = logger;\n\t}\n\n\tlogging.getAll = function() { return _loggers; }\n\n\tlogging.__create = function(pkg, ctx) { ctx.logger = logging.get(pkg); }\n\n\tvar Logger = exports.__class__(\n\t\tfunction Logger(name, level) {\n\t\t\tthis._name = name;\n\t\t\tthis._isProduction = _production;\n\n\t\t\tthis.setLevel(level || logging.LOG);\n\t\t},\n\t\tfunction () {\n\t\t\tthis.setProduction = function (isProduction) {\n\t\t\t\tthis._isProduction = isProduction;\n\t\t\t\tthis.setLevel(logging.NONE);\n\t\t\t}\n\n\t\t\tthis.setLevel = function(level) {\n\t\t\t\tthis._level = level;\n\n\t\t\t\tif (this._isProduction) {\n\t\t\t\t\tlevel = logging.NONE;\n\t\t\t\t}\n\n\t\t\t\tthis.DEBUG = level <= logging.DEBUG;\n\t\t\t\tthis.LOG   = level <= logging.LOG;\n\t\t\t\tthis.INFO  = level <= logging.INFO;\n\t\t\t\tthis.WARN  = level <= logging.WARN;\n\t\t\t\tthis.ERROR = level <= logging.ERROR;\n\t\t\t}\n\n\t\t\tfunction makeLogger(type) {\n\t\t\t\tvar level = logging[type];\n\t\t\t\treturn function() {\n\t\t\t\t\tif (!this._isProduction && level >= this._level) {\n\t\t\t\t\t\tvar prefix = type + ' ' + _prefix + this._name;\n\t\t\t\t\t\tvar listener = this._listener || exports.log;\n\n\t\t\t\t\t\treturn listener && listener.apply(this._listener, [prefix].concat(SLICE.call(arguments)));\n\t\t\t\t\t}\n\t\t\t\t\treturn arguments[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setListener = function(listener) { this._listener = listener; }\n\n\t\t\tthis.debug = makeLogger(\"DEBUG\");\n\t\t\tthis.log = makeLogger(\"LOG\");\n\t\t\tthis.info = makeLogger(\"INFO\");\n\t\t\tthis.warn = makeLogger(\"WARN\");\n\t\t\tthis.error = makeLogger(\"ERROR\");\n\t\t});\n\n\treturn logging;\n})();\n\nvar logger = exports.logging.get('jsiocore');\n\n",
            "pre": true
        },
        "src/serve/static/simulator/GUI.js": {
            "path": "src/serve/static/simulator/GUI.js",
            "friendlyPath": ".src.serve.static.simulator.GUI",
            "directory": "src/serve/static/simulator/",
            "filename": "GUI.js",
            "src": "/** @license\n * This file is part of the Game Closure SDK.\n *\n * The Game Closure SDK is free software: you can redistribute it and/or modify\n * it under the terms of the Mozilla Public License v. 2.0 as published by Mozilla.\n\n * The Game Closure SDK is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * Mozilla Public License v. 2.0 for more details.\n\n * You should have received a copy of the Mozilla Public License v. 2.0\n * along with the Game Closure SDK.  If not, see <http://mozilla.org/MPL/2.0/>.\n */\n\njsio('import .util.debugging');\n\njsio('import net');\njsio('import std.uri as URI');\njsio('import lib.PubSub');\njsio('import util.Animation');\njsio('import util.ajax');\njsio('from util.browser import $');\n\njsio('import squill.Window');\njsio('import squill.Widget');\njsio('import squill.Delegate');\n\njsio('import .controllers.Device as Device');\njsio('import .controllers.SimulatorServer as SimulatorServer');\n\njsio('import .components.Logger as Logger');\njsio('from .components.viewInspector import ViewInspector');\n\njsio('import .Simulator');\njsio('import .util.TargetCuppa');\n\nvar MainView = Class(squill.Widget, function (supr) {\n\n  this._def = {\n    id: 'devkit',\n    children: [\n      {id: 'header'},\n      {id: 'middle', children: [\n        {id: 'inspector', type: ViewInspector},\n        {id: 'mainContainer', children: [\n          {id: 'myIP', type: 'label'},\n          {id: 'logger', type: Logger}\n        ]}\n      ]},\n      {id: 'bottom'}\n    ]\n  };\n\n  this.buildWidget = function () {\n    var opts = this._opts;\n\n    new squill.Window().subscribe('ViewportChange', this, 'onViewportChange');\n\n    if (opts.simpleUI) {\n      this.myIP.hide();\n      this.logger.hide();\n    }\n\n    this._zIndex = 0;\n    this._simulatorButtons = [];\n\n    this.inspector\n      .on('open', bind(this, 'onViewportChange'))\n      .on('close', bind(this, 'onViewportChange'));\n\n    this.controller.on('activeDevice', bind(this, '_onActiveDevice'));\n\n    util.ajax.get({url: '/api/ip', type: 'json'}, bind(this, '_onIP'));\n  }\n\n  this._onIP = function(err, response) {\n    if (!err) {\n      this.myIP.setLabel(response.ip.join(\", \"));\n    }\n  };\n\n  this.selectSimulator = function (evt) {\n    var x = evt.clientX;\n    var y = evt.clientY;\n    var simulators = this.controller.getSimulators();\n\n    for (var i = simulators.length - 1; i >= 0; --i) {\n      var simulator = simulators[i];\n      var rect = simulator.contents.getBoundingClientRect();\n      if (x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom) {\n        simulator.getElement().style.zIndex = ++this._zIndex;\n\n        try {\n          var evtCopy = new MouseEvent(evt.type, evt);\n          document.elementFromPoint(x, y).dispatchEvent(evtCopy);\n        } catch (e) {}\n        break;\n      }\n    }\n\n    // document.body.dispatchEvent(evtCopy);\n    // debugger;\n  }\n\n  this.getViewInspector = function () { return this.inspector; }\n\n  this._onActiveDevice = function (device) {\n    this.inspector.setDevice(device);\n    this.logger.setDevice(device);\n  }\n\n  this.onViewportChange = function () {\n    this.positionSimulators();\n  };\n\n  this.positionSimulators = function () {\n    this.controller.getSimulators().forEach(function (simulator) {\n      simulator.update();\n    }, this);\n  }\n\n  this.getSimulatorButtons = function () {\n    return this._simulatorButtons;\n  }\n\n  this.addSimulatorButton = function (opts, cb) {\n    var widget = this.addWidget({\n        type: 'button',\n        text: opts.text,\n        attrs: {tooltip: opts.tooltip}\n      }, this.middle);\n\n    this._simulatorButtons.push(widget);\n    widget.remove();\n\n    cb && widget.on('Select', cb);\n    return widget;\n  }\n\n  this.addElement = function (el, where) {\n    var parent = where == 'top' ? this.top : where == 'bottom' ? this.bottom : this.middle;\n    parent.appendChild(el);\n    this.positionSimulators();\n    return el;\n  }\n\n  this.addRightPane = function (def) {\n    var widget = this.addWidget(def, this.middle);\n    var el = widget.getElement ? widget.getElement() : widget;\n    el.style.order = 100;\n\n    this.positionSimulators();\n    return widget;\n  }\n\n  this.getContainer = function () { return this.mainContainer || this._el; }\n\n  this.addWidget = function (widget) {\n    if (widget instanceof Simulator) {\n      widget.getElement().style.zIndex = ++this._zIndex;\n    }\n\n    return supr(this, 'addWidget', arguments);\n  }\n\n  this.getAvailableRect = function () {\n    var rect = this.content.getBoundingClientRect();\n    return {\n      x: rect.left,\n      y: rect.top,\n      width: rect.width,\n      height: rect.height\n    };\n  };\n});\n\nvar PluginAPI = Class(lib.PubSub, function () {\n  this.init = function (controller) {\n    this._controller = controller;\n  }\n\n  // el: a DOM node\n  // where: 'middle', 'top', or 'bottom'\n  this.addElement = function (el, where) {\n    return this._controller.view.addElement(el, where);\n  }\n\n  this.getContentArea = function () {\n    return this._controller.view.middle;\n  }\n\n  this.addSimulatorButton = function (opts, cb) {\n    return this._controller.view.addSimulatorButton(opts, cb);\n  }\n\n  this.getDeviceAPI = function () {\n    return this._deviceAPI;\n  }\n});\n\nvar MainController = exports = Class(lib.PubSub, function() {\n  this.init = function (opts) {\n    this._app = opts.app;\n    this._manifest = opts.manifest;\n\n    this._devices = {};\n    this._simpleUI = opts.simpleUI;\n\n    this.view = new MainView({\n      controller: this,\n      parent: document.body,\n      simpleUI: opts.simpleUI\n    });\n\n    // communicate with local simulators\n    this._server = new SimulatorServer();\n    this._server.listen();\n    this._server.on('connection', bind(this, '_onConn'));\n\n    // connect to DevKit API\n    this._conn = new DevKitConn(this);\n    // net.connect(this._conn, 'csp', {url: '/devices/'});\n    net.connect(this._conn, 'socketio', {namespace: '/devices/'});\n\n    this.api = new PluginAPI(this);\n  };\n\n  this.getApp = function () { return this._app; }\n  this.getManifest = function () { return this._manifest; }\n\n  var DevKitConn = Class(util.TargetCuppa, function (supr) {\n\n    var DEVKIT_CUPPA_TARGET = 'devkit';\n\n    this.init = function (controller) {\n      supr(this, 'init');\n\n      this._controller = controller;\n    }\n\n    this.connectionMade = function () {\n      supr(this, 'connectionMade', arguments);\n\n      var client = this.getClient(DEVKIT_CUPPA_TARGET);\n      client.sendEvent('HANDSHAKE', {type: 'debugger'});\n      client.sendRequest('DEVICES', bind(this, function (err, res) {\n        if (!err) {\n          res.devices.forEach(function (info) {\n            this._addConn(info);\n          }, this);\n        }\n      }));\n\n      client.onEvent('NEW_DEVICE', bind(this, function (evt) {\n        this._addConn(evt.args.device);\n      }));\n    }\n\n    this._addConn = function (info) {\n      this._controller._onConn(this, {\n        deviceId: info.deviceId,\n        isLocal: false,\n        conn: this,\n        type: info.deviceType,\n        userAgent: info.userAgent,\n        screen: info.screen\n      });\n    }\n  });\n\n   // new connection has received HANDSHAKE event\n  this._onConn = function (conn, opts) {\n    var deviceId = opts.deviceId;\n    if (deviceId) {\n      var device = this._devices[deviceId];\n      if (device) {\n        device.setConn(conn, opts);\n      } else {\n        var device = new Device(this, merge({\n            conn: conn,\n            id: deviceId\n          }, opts));\n\n        this.addDevice(device);\n      }\n    }\n  }\n\n  // accepts a string, device opts, or Device instance\n  this.addDevice = function (device) {\n\n    // convert string to opts\n    if (typeof device == 'string') {\n      try {\n        device = {\n          id: 'simulator',\n          simulator: JSON.parse(device)\n        };\n      } catch (e) {\n        device = {\n          id: 'simulator',\n          simulator: {type: 'iphone'}\n        };\n      }\n\n      device.simulator.simpleUI = this._simpleUI;\n    }\n\n    if (!device) { return; }\n\n    // convert opts to Device instance\n    if (!(device instanceof Device)) {\n      device = new Device(this, device);\n    }\n\n    // remove old Device instance\n    var id = device.getId();\n    if (this._devices[id]) {\n      this.removeDevice(id);\n    }\n\n    // add Device instance\n    this._devices[id] = device;\n    if (!this._activeDevice) {\n      this.setActiveDevice(device);\n    }\n\n    device.on('change', bind(this, 'updateURL'));\n  }\n\n  this.removeDevice = function (device) {\n    var id = device && device.getId && device.getId() || device;\n    if (this._devices[id]) {\n      this._devices[id].remove();\n      delete this._devices[id];\n    }\n  }\n\n  this.getActiveDeviceAPI = function () {\n    var device = this._activeDevice;\n    if (device && device.getConn()) {\n      return device.api;\n    } else {\n      return null;\n    }\n  }\n\n  this.setActiveDevice = function (device) {\n    if (this._activeDevice == device) { return; }\n    if (this._activeDevice) {\n      this._activeDevice.unsubscribe('conn', this);\n    }\n\n    if (this.getActiveDeviceAPI()) {\n      this.api.emit('end');\n    }\n\n    this._activeDevice = device;\n\n    var conn = device.getConn();\n    if (conn) {\n      this.api.emit('connect', device.api);\n    }\n\n    device.subscribe('conn', this, function () {\n      if (this.getActiveDeviceAPI()) {\n        this.api.emit('end');\n      }\n\n      this.api.emit('connect', device.api);\n    });\n\n    this.api.emit('device', device.api);\n    this.emit('activeDevice', device);\n  }\n\n  this.getSimulators = function () {\n    return Object.keys(this._devices).map(function (deviceId) {\n      return this._devices[deviceId].getSimulator();\n    }, this);\n  }\n\n  this.updateURL = function () {\n    var deviceOpts;\n    for (var id in this._devices) {\n      var device = this._devices[id];\n      if (device.isLocal()) {\n        var sim = device.getSimulator();\n        if (!sim) { continue; }\n        var json = sim.toJSON();\n\n        if (deviceOpts) {\n          if (!isArray(deviceOpts)) {\n            deviceOpts = [deviceOpts];\n          }\n\n          deviceOpts.push(json);\n        } else {\n          deviceOpts = json;\n        }\n        break;\n      }\n    }\n\n    if (deviceOpts) {\n      var kvp = URI.parseQuery(location.hash.replace(/^\\#/, ''));\n      kvp.device = JSON.stringify(deviceOpts);\n      window.location.hash = safeHash(URI.buildQuery(kvp));\n    }\n  }\n\n  function safeHash(url) {\n    return url\n      .replace(/\\%7B/g, '{')\n      .replace(/\\%7D/g, '}')\n      .replace(/\\%3A/g, ':')\n      .replace(/\\%22/g, '\"')\n      .replace(/\\%2C/g, ',');\n  }\n});\n\nvar _controller;\n\n/**\n * Launch simulator.\n */\nexports.start = function () {\n  jsio('import ff');\n  jsio('import util.ajax');\n  jsio('import squill.cssLoad');\n\n  // extract app from query string\n  var uri = new URI(window.location);\n  var app = uri.query('app');\n  if (!app) {\n    location = '/';\n    return;\n  }\n\n  var simpleUI = !!uri.hash('simpleUI');\n\n  // set window/tab title to app title\n  util.ajax.get({\n      url: '/api/title',\n      query: {\n        app: app\n      }\n    }, function (err, title) {\n      if (title) {\n        document.title = title;\n      }\n    });\n\n  // load css, host any modules with simulator extensions\n  var f = new ff(function () {\n    squill.cssLoad.get('/stylesheets/simulator.styl', f.wait());\n    util.ajax.get({\n      url: '/api/hostModules',\n      query: {\n        app: app\n      }\n    }, f());\n    util.ajax.get({\n      url: '/api/manifest',\n      query: {\n        app: app\n      }\n    }, f());\n  }, function (modules, manifest) {\n    _controller = new MainController({\n      app: app,\n      manifest: manifest,\n      modules: modules,\n      simpleUI: simpleUI\n    });\n\n    _controller.addDevice(uri.hash('device'));\n\n    var api = _controller.api;\n    GLOBAL.devkit = api;\n\n    modules.names.forEach(function (name) {\n      $({\n        parent: document.body,\n        tag: 'iframe',\n        src: '/api' + modules.route + name,\n        className: 'module-frame'\n      });\n    });\n\n  }).error(function (err) {\n    if (err.stack) { throw err; }\n\n    if (err.response) {\n      document.body.appendChild(document.createElement('div')).innerHTML = err.response + '<br><br>';\n    }\n\n    try {\n      var e = typeof err == 'string' ? err : (err.stack || JSON.stringify(err, null, '  '));\n    } catch (e2) {\n      throw err;\n    }\n    document.body.appendChild(document.createElement('div')).innerText = e;\n    document.body.style.cssText = 'white-space: pre-wrap; word-break: break-all; padding: 40px; font: bold 16px \"Monaco\", \"Andale Mono\", Consolas, monospace;';\n  });\n};\n\n$.onEvent(document.body, 'dragenter', this, function (evt) { evt.preventDefault(); });\n$.onEvent(document.body, 'dragover', this, function (evt) { evt.preventDefault(); });\n$.onEvent(document.body, 'dragleave', this, function (evt) { evt.preventDefault(); });\n$.onEvent(document.body, 'drop', this, function (evt) { evt.preventDefault(); });\n\nexports.start();\n",
            "pre": true
        },
        "src/serve/static/simulator/util/debugging.js": {
            "path": "src/serve/static/simulator/util/debugging.js",
            "friendlyPath": ".util.debugging",
            "directory": "src/serve/static/simulator/util/",
            "filename": "debugging.js",
            "src": "// TODO we should be able to check syntax at compile-time!\n\njsio('import util.path');\n\nvar originalSyntax = jsio.__env.checkSyntax.bind(jsio.__env);\n\n// jsio.__env.debugPath = function (path) {\n//   return util.path.resolveRelativePath('http://devkit.simulator/' + path);\n// }\n\njsio.__env.checkSyntax = function (code, filename) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('POST', '/api/syntax', false);\n  xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState != 4) { return; }\n\n    if (xhr.status == 200 && xhr.responseText) {\n      var err;\n      try {\n        var response = JSON.parse(xhr.responseText);\n        err = response[1];\n      } catch(e) {\n        err = xhr.responseText;\n      }\n\n      if (console.group) {\n        console.group('%c' + filename + '\\n', 'color: #33F; font-weight: bold');\n        err.forEach(function (e) {\n            if (e.err) {\n              console.log('%c' + e.err.replace(/error - parse error.\\s+/i, ''), 'color: #F55');\n              console.log('%c' + e.line + ':%c' + e.code[0], 'color: #393', 'color: #444');\n              console.log(new Array(('' + e.line).length + 2).join(' ') + e.code[1]);\n            } else {\n              console.log('%c ' + e.code.join('\\n'), 'color: #F55');\n            }\n          });\n        console.groupEnd();\n      } else {\n        console.log(filename);\n        err.forEach(function (e) {\n            if (e.err) {\n              console.log(e.err.replace(/error - parse error.\\s+/i, ''));\n              console.log(e.line + ':' + e.code[0]);\n              console.log(new Array(('' + e.line).length + 2).join(' ') + e.code[1]);\n            } else {\n              console.log(e.code.join('\\n'));\n            }\n          });\n      }\n\n      document.body.style.background = 'black';\n      document.body.innerHTML = '<pre style=\\'margin-left: 10px; font: bold 12px Consolas, \"Bitstream Vera Sans Mono\", Monaco, \"Lucida Console\", Terminal, monospace; color: #FFF;\\'>'\n        + '<span style=\"color:#AAF\">' + filename + '</span>\\n\\n'\n        + err.map(function (e) {\n            if (e.err) {\n              return '<span style=\"color:#F55\">' + e.err.replace(/error - parse error.\\s+/i, '') + '</span>\\n'\n                + ' <span style=\"color:#5F5\">' + e.line + '</span>: '\n                  + ' <span style=\"color:#EEE\">' + e.code[0] + '</span>\\n'\n                  + new Array(('' + e.line).length + 5).join(' ') + e.code[1];\n            } else {\n              return'<span style=\"color:#F55\">' + e.code.join('\\n') + '</span>';\n            }\n          }).join('\\n')\n        + '</pre>';\n    } else if (xhr.status > 0) {\n      originalSyntax(code, filename);\n    }\n  }\n\n  xhr.send('javascript=' + encodeURIComponent(code));\n}\n\njsio('import base').logging.setPrefix('simulator');\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/util/path.js": {
            "path": "../node_modules\\jsio\\packages/util/path.js",
            "friendlyPath": "util.path",
            "directory": "../node_modules\\jsio\\packages/util",
            "filename": "path.js",
            "pre": true,
            "baseMod": "util",
            "basePath": "c:\\Users\\Surface\\cloud\\node_modules\\jsio\\packages/util",
            "src": "var util = jsio.__jsio.__util;\n\nexports.join = util.buildPath;\nexports.resolveRelativePath = util.resolveRelativePath;\nexports.splitPath = util.splitPath;\nexports.relative = util.relative;\nexports.splitExt = function(path) {\n\tvar res = exports.splitPath(path);\n\tvar i = res.filename.lastIndexOf('.');\n\tif (i == -1) {\n\t\tres.basename = res.filename;\n\t\tres.ext = '';\n\t} else {\n\t\tres.basename = res.filename.substring(0, i);\n\t\tres.ext = res.filename.substring(i);\n\t}\n\treturn res;\n}\n"
        },
        "../node_modules\\jsio\\packages/net/env/browser/csp.js": {
            "path": "../node_modules\\jsio\\packages/net/env/browser/csp.js",
            "friendlyPath": "net.env.browser.csp",
            "directory": "../node_modules\\jsio\\packages/net/env/browser",
            "filename": "csp.js",
            "src": "jsio('import ...interfaces');\njsio('from ...csp.client import CometSession');\njsio('import ....std.utf8 as utf8');\n\n/**\n * @extends net.interfaces.Connector\n */\nexports.Connector=__class__;exports.Connector=exports.Connector(function exports_Connector(){return this.init&&this.init.apply(this,arguments)},interfaces.Connector, function() {\n\tthis.connect = function() {\n\t\tthis._state = interfaces.STATE.CONNECTING;\n\n\t\tvar conn = new CometSession();\n\t\tconn.onconnect = bind(this, 'cometSessionOnConnect', conn);\n\t\tconn.ondisconnect = bind(this, 'onDisconnect');\n\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"net.env.browser.csp\",'opening the connection');\n\t\tif (!this._opts.encoding) { this._opts.encoding = 'utf8'; }\n\t\tconn.connect(this._opts.url, this._opts);//{encoding: 'plain'});\n\t}\n\n\tthis.cometSessionOnConnect = function(conn) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"net.env.browser.csp\",'conn has opened');\n\t\tthis.onConnect(new Transport(conn));\n\t}\n});\n\nTransport=__class__;var Transport=Transport(function Transport(){return this.init&&this.init.apply(this,arguments)},interfaces.Transport, function() {\n\tthis.init = function(conn) {\n\t\tthis._conn = conn;\n\t}\n\n\tthis.makeConnection = function(protocol) {\n\t\tthis._conn.onread = bind(protocol, 'dataReceived');\n\t}\n\n\tthis.write = function(data) {\n\t\tthis._conn.write(data);\n\t}\n\n\tthis.loseConnection = function(protocol) {\n\t\tthis._conn.close();\n\t}\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/interfaces.js": {
            "path": "../node_modules\\jsio\\packages/net/interfaces.js",
            "friendlyPath": "...interfaces",
            "directory": "../node_modules\\jsio\\packages/net",
            "filename": "interfaces.js",
            "src": "// Sort of like a twisted protocol\njsio('import .index as net');\njsio('import ..lib.Enum as Enum');\njsio('import ..lib.PubSub as PubSub');\n\nvar ctx = jsio.__env.global;\n\nexports.Protocol=__class__;exports.Protocol=exports.Protocol(function exports_Protocol(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.connectionMade = function(isReconnect) {}\n\tthis.dataReceived = function(data) {}\n\tthis.connectionLost = function(reason) {}\n\n\tthis._connectionMade = function() {\n\t\tthis._isConnected = true;\n\t\tthis.connectionMade.apply(this, arguments);\n\t}\n\n\tthis._connectionLost = function() {\n\t\tthis._isConnected = false;\n\t\tthis.connectionLost.apply(this, arguments);\n\t}\n\n\tthis._isConnected = false;\n\tthis.isConnected = function() {\n\t\treturn !!this._isConnected;\n\t}\n\n\tthis.end = function () {\n\t\tif (this.transport) {\n\t\t\tthis.transport.loseConnection();\n\t\t}\n\t}\n});\n\nexports.Client=__class__;exports.Client=exports.Client(function exports_Client(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(protocol) {\n\t\tthis._protocol = protocol;\n\t}\n\n\tthis.connect = function(transportName, opts) {\n\t\tthis._remote = new this._protocol();\n\t\tthis._remote._client = this;\n\t\tnet.connect(this._remote, transportName, opts);\n\t}\n});\n\n// Sort of like a twisted factory\nexports.Server=__class__;exports.Server=exports.Server(function exports_Server(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(protocolClass) {\n\t\tthis._protocolClass = protocolClass;\n\t}\n\n\tthis.buildProtocol = function() {\n\t\treturn new this._protocolClass();\n\t}\n\n\tthis.listen = function(transportName, opts) {\n\t\treturn net.listen(this, transportName, opts);\n\t}\n});\n\nexports.Transport=__class__;exports.Transport=exports.Transport(function exports_Transport(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis._encoding = 'plain'\n\tthis.write = function(data, encoding) {\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\tthis.getPeer = function() {\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\tthis.setEncoding = function(encoding) {\n\t\tthis._encoding = encoding;\n\t}\n\tthis.getEncoding = function() {\n\t\treturn this._encoding;\n\t}\n});\n\n// emits 'error' event if listen fails\nexports.Listener=__class__;exports.Listener=exports.Listener(function exports_Listener(){return this.init&&this.init.apply(this,arguments)},PubSub, function() {\n\tthis.init = function(server, opts) {\n\t\tthis._server = server;\n\t\tthis._opts = opts || {};\n\t}\n\n\tthis.onConnect = function(transport) {\n\t\t//try {\n\t\t\tvar p = this._server.buildProtocol();\n\t\t\tp.transport = transport;\n\t\t\tp.server = this._server;\n\t\t\ttransport.protocol = p;\n\t\t\ttransport.makeConnection(p);\n\t\t\tp._connectionMade();\n\t\t//} catch(e) {\n\t\t//\tlogger.ERROR&&console.error(\"ERROR\",\"...interfaces\",e);\n\t\t//}\n\t}\n\n\tthis.listen = function() { throw new Error('Abstract class'); }\n\tthis.stop = function() {}\n});\n\nexports.STATE = Enum('INITIAL', 'DISCONNECTED', 'CONNECTING', 'CONNECTED');\nexports.Connector=__class__;exports.Connector=exports.Connector(function exports_Connector(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(protocol, opts) {\n\t\tthis._protocol = protocol;\n\t\tthis._opts = opts;\n\t\tthis._state = exports.STATE.INITIAL;\n\t}\n\n\tthis.getState = function() { return this._state; }\n\n\tthis.onConnect = function(transport) {\n\t\tthis._state = exports.STATE.CONNECTED;\n\n\t\ttransport.makeConnection(this._protocol);\n\t\tthis._protocol.transport = transport;\n\t\ttry {\n\t\t\tthis._protocol._connectionMade();\n\t\t} catch(e) {\n\t\t\tthrow logger.ERROR&&console.error(\"ERROR\",\"...interfaces\",e);\n\t\t}\n\t}\n\n\tthis.onDisconnect = function(err) {\n\t\tvar wasConnected = this._state == exports.STATE.CONNECTED;\n\t\tthis._state = exports.STATE.DISCONNECTED;\n\n\t\ttry {\n\t\t\tthis._protocol._connectionLost(err, wasConnected);\n\t\t} catch(e) {\n\t\t\tthrow logger.ERROR&&console.error(\"ERROR\",\"...interfaces\",e);\n\t\t}\n\t}\n\n\tthis.getProtocol = function() { return this._protocol; }\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/index.js": {
            "path": "../node_modules\\jsio\\packages/net/index.js",
            "friendlyPath": "net",
            "directory": "../node_modules\\jsio\\packages/net",
            "filename": "index.js",
            "baseMod": "net",
            "basePath": "c:\\Users\\Surface\\cloud\\node_modules\\jsio\\packages/net",
            "src": "jsio('import .env');\njsio('import ..std.JSON as JSON');\njsio('import .interfaces');\n\nJSON.createGlobal(); // create the global JSON object if it doesn't already exist\n\n/**\n * @namespace\n */\n\nexports.listen = function(server, transportName, opts) {\n  if (!transportName) {\n    throw logger.ERROR&&console.error(\"ERROR\",\"net\",'No transport provided for net.listen');\n  }\n\n  var ctor = typeof transportName == 'string'\n        ? env.getListener(transportName)\n        : transportName;\n\n  var listener = new ctor(server, opts);\n\n  listener.listen();\n  return listener;\n}\n\nexports.connect = function(protocolInstance, transportName, opts) {\n  var ctor = typeof transportName == 'string' ? env.getConnector(transportName) : transportName,\n    connector = new ctor(protocolInstance, opts);\n  connector.connect();\n  return connector;\n}\n\nexports.quickServer = function(protocolClass) {\n  return new interfaces.Server(protocolClass);\n}\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/env/index.js": {
            "path": "../node_modules\\jsio\\packages/net/env/index.js",
            "friendlyPath": ".env",
            "directory": "../node_modules\\jsio\\packages/net/env",
            "filename": "index.js",
            "src": "function getObj(objectName, transportName, envName) {\n\n  try {\n    var DYNAMIC_IMPORT_ENV = 'from .' + (envName || jsio.__env.name) + '.' + transportName + ' import ' + objectName + ' as result';\n    jsio(DYNAMIC_IMPORT_ENV);\n  } catch(e) {\n    throw logger.ERROR&&console.error(\"ERROR\",\".env\",'Invalid transport (', transportName, ') or environment (', envName, ')', e);\n  }\n  return result;\n}\n\nexports.getListener = bind(this, getObj, 'Listener');\nexports.getConnector = bind(this, getObj, 'Connector');\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/std/JSON.js": {
            "path": "../node_modules\\jsio\\packages/std/JSON.js",
            "friendlyPath": "..std.JSON",
            "directory": "../node_modules\\jsio\\packages/std",
            "filename": "JSON.js",
            "src": "// Based on json2.js (version 2009-09-29) http://www.JSON.org/json2.js\n// exports createGlobal, stringify, parse, stringifyDate\n\n/**\n * if a global JSON object doesn't exist, create one\n */\nexports.createGlobal = function() {\n\tif(typeof JSON == 'undefined') { JSON = {}; }\n\tif(typeof JSON.stringify !== 'function') {\n\t\tJSON.stringify = exports.stringify;\n\t}\n\tif(typeof JSON.parse !== 'function') {\n\t\tJSON.parse = exports.parse;\n\t}\n};\n\n;(function() {\n\tvar cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n\t\tescapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n\t\tgap,\n\t\tindent,\n\t\tmeta = {\t// table of character substitutions\n\t\t\t'\\b': '\\\\b',\n\t\t\t'\\t': '\\\\t',\n\t\t\t'\\n': '\\\\n',\n\t\t\t'\\f': '\\\\f',\n\t\t\t'\\r': '\\\\r',\n\t\t\t'\"' : '\\\\\"',\n\t\t\t'\\\\': '\\\\\\\\'\n\t\t},\n\t\trep;\n\t\n\tfunction quote(string) {\n\t\t// quote the string if it doesn't contain control characters, quote characters, and backslash characters\n\t\t// otherwise, replace those characters with safe escape sequences\n\t\tescapable.lastIndex = 0;\n\t\treturn escapable.test(string)\n\t\t\t? '\"' + string.replace(escapable, function (a) {\n\t\t\t\t\tvar c = meta[a];\n\t\t\t\t\treturn typeof c === 'string' ? c : '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n\t\t\t\t}) + '\"'\n\t\t\t: '\"' + string + '\"';\n\t}\n\t\n\t// Produce a string from holder[key].\n\tfunction str(key, holder) {\n\t\tvar mind = gap, value = holder[key];\n\t\t\n\t\t// If the value has a toJSON method, call it to obtain a replacement value.\n\t\tif (value && typeof value === 'object' && typeof value.toJSON === 'function') {\n\t\t\tvalue = value.toJSON(key);\n\t\t}\n\t\t\n\t\t// If we were called with a replacer function, then call the replacer to\n\t\t// obtain a replacement value.\n\t\tif (typeof rep === 'function') { value = rep.call(holder, key, value); }\n\t\t\n\t\tswitch (typeof value) {\n\t\t\tcase 'string':\n\t\t\t\treturn quote(value);\n\t\t\tcase 'number':\n\t\t\t\t// JSON numbers must be finite\n\t\t\t\treturn isFinite(value) ? String(value) : 'null';\n\t\t\tcase 'boolean':\n\t\t\t\treturn String(value);\n\t\t\tcase 'object': // object, array, date, null\n\t\t\t\tif (value === null) { return 'null'; } // typeof null == 'object'\n\t\t\t\tif (value.constructor === Date) { return exports.stringifyDate(value); }\n\t\t\t\n\t\t\t\tgap += indent;\n\t\t\t\tvar partial = [];\n\t\t\t\t\n\t\t\t\t// Is the value an array?\n\t\t\t\tif (value.constructor === Array) {\n\t\t\t\t\tvar length = value.length;\n\t\t\t\t\tfor (var i = 0; i < length; i += 1) {\n\t\t\t\t\t\tpartial[i] = str(i, value) || 'null';\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Join all of the elements together, separated with commas, and wrap them in brackets.\n\t\t\t\t\tvar v = partial.length === 0 ? '[]' :\n\t\t\t\t\t\tgap ? '[\\n' + gap +\n\t\t\t\t\t\t\t\tpartial.join(',\\n' + gap) + '\\n' +\n\t\t\t\t\t\t\t\t\tmind + ']' :\n\t\t\t\t\t\t\t  '[' + partial.join(',') + ']';\n\t\t\t\t\tgap = mind;\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (rep && typeof rep === 'object') { // rep is an array\n\t\t\t\t\tvar length = rep.length;\n\t\t\t\t\tfor (var i = 0; i < length; i += 1) {\n\t\t\t\t\t\tvar k = rep[i];\n\t\t\t\t\t\tif (typeof k === 'string') {\n\t\t\t\t\t\t\tvar v = str(k, value);\n\t\t\t\t\t\t\tif (v) {\n\t\t\t\t\t\t\t\tpartial.push(quote(k) + (gap ? ': ' : ':') + v);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else { // iterate through all of the keys in the object.\n\t\t\t\t\tfor (var k in value) {\n\t\t\t\t\t\tif (Object.hasOwnProperty.call(value, k)) {\n\t\t\t\t\t\t\tvar v = str(k, value);\n\t\t\t\t\t\t\tif (v) {\n\t\t\t\t\t\t\t\tpartial.push(quote(k) + (gap ? ': ' : ':') + v);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Join all of the member texts together, separated with commas,\n\t\t\t\t// and wrap them in braces.\n\t\t\t\tvar v = partial.length === 0 ? '{}' :\n\t\t\t\t\tgap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n\t\t\t\t\t\t\tmind + '}' : '{' + partial.join(',') + '}';\n\t\t\t\tgap = mind;\n\t\t\t\treturn v;\n\t\t}\n\t}\n\n\n\t/**\n\t * The stringify method takes a value and an optional replacer, and an optional\n\t * space parameter, and returns a JSON text. The replacer can be a function\n\t * that can replace values, or an array of strings that will select the keys.\n \t * A default replacer method can be provided. Use of the space parameter can\n\t * produce text that is more easily readable.\n\t */\n\texports.stringify = function (value, replacer, space) {\n\t\tgap = '';\n\t\tindent = '';\n\t\t\n\t\t// If the space parameter is a number, make an indent string containing that many spaces.\n\t\tif (typeof space === 'number') {\n\t\t\tfor (var i = 0; i < space; i += 1) {\n\t\t\t\tindent += ' ';\n\t\t\t}\n\t\t} else if (typeof space === 'string') {\n\t\t\tindent = space;\n\t\t}\n\t\t\n\t\t// If there is a replacer, it must be a function or an array.\n\t\trep = replacer;\n\t\tif (replacer && typeof replacer !== 'function' &&\n\t\t\t\t(typeof replacer !== 'object' ||\n\t\t\t\t typeof replacer.length !== 'number')) {\n\t\t\tthrow new Error('JSON stringify: invalid replacer');\n\t\t}\n\t\t\n\t\t// Make a fake root object containing our value under the key of ''.\n\t\t// Return the result of stringifying the value.\n\t\treturn str('', {'': value});\n\t};\n\t\n\texports.stringifyDate = function(d) {\n\t\tvar year = d.getUTCFullYear(),\n\t\t\tmonth = d.getUTCMonth() + 1,\n\t\t\tday = d.getUTCDate(),\n\t\t\thours = d.getUTCHours(),\n\t\t\tminutes = d.getUTCMinutes(),\n\t\t\tseconds = d.getUTCSeconds(),\n\t\t\tms = d.getUTCMilliseconds();\n\t\t\n\t\tif (month < 10) { month = '0' + month; }\n\t\tif (day < 10) { day = '0' + day; }\n\t\tif (hours < 10) { hours = '0' + hours; }\n\t\tif (minutes < 10) { minutes = '0' + minutes; }\n\t\tif (seconds < 10) { seconds = '0' + seconds; }\n\t\tif (ms < 10) { ms = '00' + ms; }\n\t\telse if (ms < 100) { ms = '0' + ms; }\n\n\t\treturn '\"' + year\n\t\t\t+ '-' + month\n\t\t\t+ '-' + day\n\t\t\t+ 'T' + hours\n\t\t\t+ ':' + minutes\n\t\t\t+ ':' + seconds\n\t\t\t+ '.' + ms\n\t\t\t+ 'Z\"';\n\t}\n\t\n\t/**\n\t * The parse method takes a text and an optional reviver function, and returns\n\t * a JavaScript value if the text is a valid JSON text.\n\t */\n\texports.parse = function (text, reviver) {\n\t\t// Parsing happens in four stages. In the first stage, we replace certain\n\t\t// Unicode characters with escape sequences. JavaScript handles many characters\n\t\t// incorrectly, either silently deleting them, or treating them as line endings.\n\t\tcx.lastIndex = 0;\n\t\tif (cx.test(text)) {\n\t\t\ttext = text.replace(cx, function (a) {\n\t\t\t\treturn '\\\\u' +\n\t\t\t\t\t('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n\t\t\t});\n\t\t}\n\t\t\n\t\t// In the second stage, we run the text against regular expressions that look\n\t\t// for non-JSON patterns. We are especially concerned with '()' and 'new'\n\t\t// because they can cause invocation, and '=' because it can cause mutation.\n\t\t// But just to be safe, we want to reject all unexpected forms.\n\n\t\t// We split the second stage into 4 regexp operations in order to work around\n\t\t// crippling inefficiencies in IE's and Safari's regexp engines. First we\n\t\t// replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\n\t\t// replace all simple value tokens with ']' characters. Third, we delete all\n\t\t// open brackets that follow a colon or comma or that begin the text. Finally,\n\t\t// we look to see that the remaining characters are only whitespace or ']' or\n\t\t// ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n\t\tif (/^[\\],:{}\\s]*$/\n\t\t\t\t.test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n\t\t\t\t.replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n\t\t\t\t.replace(/(?:^|:|,)(?:\\s*\\[)+/g, '')))\n\t\t{\n\t\t\tvar j = eval('(' + text + ')');\n\t\t\tif(!reviver) {\n\t\t\t\treturn j;\n\t\t\t} else {\n\t\t\t\t// In the optional fourth stage, we recursively walk the new structure, passing\n\t\t\t\t// each name/value pair to a reviver function for possible transformation.\n\t\t\t\tvar walk = function(holder, key) {\n\t\t\t\t\t// The walk method is used to recursively walk the resulting structure so\n\t\t\t\t\t// that modifications can be made.\n\t\t\t\t\tvar k, v, value = holder[key];\n\t\t\t\t\tif (value && typeof value === 'object') {\n\t\t\t\t\t\tfor (k in value) {\n\t\t\t\t\t\t\tif (Object.hasOwnProperty.call(value, k)) {\n\t\t\t\t\t\t\t\tv = walk(value, k);\n\t\t\t\t\t\t\t\tif (v !== undefined) {\n\t\t\t\t\t\t\t\t\tvalue[k] = v;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdelete value[k];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn reviver.call(holder, key, value);\n\t\t\t\t}\n\t\t\t\treturn walk({'': j}, '');\n\t\t\t}\n\t\t}\n\n\t\t// If the text is not JSON parseable, then a SyntaxError is thrown.\n\t\tthrow new SyntaxError('JSON.parse');\n\t};\n}());",
            "pre": true
        },
        "../node_modules\\jsio\\packages/lib/Enum.js": {
            "path": "../node_modules\\jsio\\packages/lib/Enum.js",
            "friendlyPath": "..lib.Enum",
            "directory": "../node_modules\\jsio\\packages/lib",
            "filename": "Enum.js",
            "src": "exports = function() {\n\tif (arguments.length == 1) {\n\t\tif (typeof arguments[0] == 'object') {\n\t\t\tvar obj = arguments[0];\n\t\t\tfor (var i in obj) {\n\t\t\t\tif (!(obj[i] in obj)) {\n\t\t\t\t\tobj[obj[i]] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj;\n\t\t} else if (typeof arguments[0] != 'string') {\n\t\t\tkeys = arguments[0];\n\t\t}\n\t}\n\t\n\tif (!keys) { var keys = arguments; }\n\tvar obj = {};\n\tfor(var i = 0, len = keys.length; i < len; ++i) {\n\t\tif (keys[i]) {\n\t\t\tobj[keys[i]] = i + 1;\n\t\t}\n\t\tobj[i + 1] = keys[i];\n\t}\n\treturn obj;\n}",
            "pre": true
        },
        "../node_modules\\jsio\\packages/lib/PubSub.js": {
            "path": "../node_modules\\jsio\\packages/lib/PubSub.js",
            "friendlyPath": "..lib.PubSub",
            "directory": "../node_modules\\jsio\\packages/lib",
            "filename": "PubSub.js",
            "src": "/**\n * Summary: inherit from lib.PubSub if a class wants publish/subscribe ability\n * Methods:\n *  - publish(signal, args...) - all subscribers to signal will be called\n *     with the list of arguments provided.\n *  - subscribe(signal, ctx, method, args...) - register a bound method\n *     to a signal.  Any args that are passed in will be the first args\n *     when the method is invoked during a publish.\n *  Usage notes: There is one special signal '__any'.  Any subscribers to\n *     '__any' will be called on every publish with the first publish\n *     argument being the signal itself (after any args passed in during\n *     the corresponding subscribe).\n *     Calling the super constructor is not required for descendants of\n *     lib.PubSub.\n */\n\njsio('from ..std.uuid import uuid');\n\nvar ctx = jsio.__env.global,\n\tSLICE = Array.prototype.slice;\n\nvar c__Users_Surface_cloud_node_modules_jsio_packages_lib_PubSub=__class__;exports=c__Users_Surface_cloud_node_modules_jsio_packages_lib_PubSub(function c__Users_Surface_cloud_node_modules_jsio_packages_lib_PubSub(){return this.init&&this.init.apply(this,arguments)},function () {\n\n\tthis.init = function () {};\n\n\tthis.publish = function (signal) {\n\t\tif (this._subscribers) {\n\t\t\tvar args = SLICE.call(arguments, 1);\n\t\t\tif (this._subscribers.__any) {\n\t\t\t\tvar anyArgs = [signal].concat(args),\n\t\t\t\t\tsubs = this._subscribers.__any.slice(0);\n\t\t\t\tfor(var i = 0, sub; sub = subs[i]; ++i) {\n\t\t\t\t\tsub.apply(ctx, anyArgs);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this._subscribers[signal]) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tvar subs = this._subscribers[signal].slice(0);\n\t\t\tfor (var i = 0, sub; sub = subs[i]; ++i) {\n\t\t\t\tsub.apply(ctx, args);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\tthis.subscribe = function (signal, ctx, method) {\n\t\tvar cb;\n\t\tif (arguments.length == 2) {\n\t\t\tcb = ctx;\n\t\t} else {\n\t\t\tcb = bind.apply(GLOBAL, SLICE.call(arguments, 1));\n\t\t\tcb._ctx = ctx; // references for unsubscription\n\t\t\tcb._method = method;\n\t\t}\n\n\t\tvar s = this._subscribers || (this._subscribers = {});\n\t\t(s[signal] || (s[signal] = [])).push(cb);\n\t\treturn this;\n\t};\n\n\tthis.subscribeOnce = function (signal, ctx, method) {\n\t\tvar args = arguments,\n\t\t\tcb = bind(this, function () {\n\t\t\t\tthis.unsubscribe(signal, cb);\n\t\t\t\tif (args.length == 2) {\n\t\t\t\t\tctx.apply(GLOBAL, arguments);\n\t\t\t\t} else {\n\t\t\t\t\tbind.apply(GLOBAL, SLICE.call(args, 1))\n\t\t\t\t\t\t.apply(GLOBAL, arguments);\n\t\t\t\t}\n\t\t\t});\n\n\t\tif (args.length >= 3) {\n\t\t\tcb._ctx = ctx;\n\t\t\tcb._method = method;\n\t\t}\n\n\t\treturn this.subscribe(signal, cb);\n\t};\n\n\t// If no method is specified, all subscriptions with a callback context\n\t// of ctx will be removed.\n\n\tthis.unsubscribe = function (signal, ctx, method) {\n\t\tif (!this._subscribers || !this._subscribers[signal]) {\n\t\t\treturn this;\n\t\t}\n\t\tvar subs = this._subscribers[signal];\n\t\tfor (var i = 0, c; c = subs[i]; ++i) {\n\t\t\tif (c == ctx || c._ctx == ctx && (!method || c._method == method)) {\n\t\t\t\tsubs.splice(i--, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * EventEmitter-style API\n\t * http://nodejs.org/api/events.html\n\t */\n\n\tthis.listeners = function (type) {\n\t\tthis._subscribers = (this._subscribers ? this._subscribers : {});\n\t\treturn (this.hasOwnProperty.call(this._subscribers, type))\n\t\t\t? this._subscribers[type]\n\t\t\t: (this._subscribers[type] = []);\n\t};\n\n\tthis.addListener = this.on = function (type, f) {\n\t\tif (this.listeners(type).length + 1 > this._maxListeners && this._maxListeners !== 0) {\n\t\t\tif (typeof console !== \"undefined\") {\n\t\t\t\tconsole.warn(\"Possible EventEmitter memory leak detected. \" + this._subscribers[type].length + \" listeners added. Use emitter.setMaxListeners() to increase limit.\");\n\t\t\t}\n\t\t}\n\t\tthis.emit(\"newListener\", type, f);\n\t\treturn this.subscribe(type, this, f);\n\t};\n\n\tthis.once = function (type, f) {\n\t\treturn this.subscribeOnce(type, this, f);\n\t};\n\n\tthis.removeListener = function (type, f) {\n\t\tthis.unsubscribe(type, this, f);\n\t\treturn this;\n\t};\n\n\tthis.removeAllListeners = function (type) {\n\t\tif (this._subscribers) {\n\t\t\tfor (var k in this._subscribers) {\n\t\t\t\tif (type == null || type == k) {\n\t\t\t\t\tdelete this._subscribers[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\tthis.emit = function (type) {\n\t\tthis.publish.apply(this, arguments);\n\t\treturn this.listeners(type).length > 0;\n\t};\n\n\tthis._maxListeners = 10;\n\n\tthis.setMaxListeners = function (_maxListeners) {\n\t\tthis._maxListeners = _maxListeners;\n\t};\n\n\tthis.hasListeners = function (type) {\n\t\treturn this._subscribers && this._subscribers[type] && this._subscribers[type].length;\n\t};\n\n\t/**\n\t * listenTo for inverting control of #subscribe, #on, etc.\n\t * @param {object} obj something extending js.io's lib.PubSub\n\t * @param {string} name the event name to listen to\n\t * @param {callback} function to run on event\n\t * @return {this}\n\t */\n\tthis.listenTo = function (obj, name, callback) {\n\t\tvar listeningTo = this._listeningTo || (this._listeningTo = {});\n\t\tvar id = obj._listenId || (obj._listenId = uuid(8, 16));\n\t\tlisteningTo[id] = obj;\n\t\tobj.subscribe(name, this, callback);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Stop listening to objects previously passed to `listenTo`.\n\t *\n\t * @example\n\t *     // Stop listening to all events on all objects\n\t *     this.stopListening();\n\t *\n\t *     // Stop listening to all events on `obj`\n\t *     this.stopListening(obj);\n\t *\n\t *     // Stop all of my callbacks for a given event\n\t *     this.stopListening(obj, name);\n\t *\n\t *     // Stop a single callback from firing\n\t *     this.stopListening(obj, name, callback);\n\t *\n\t * @param {object} [obj] object extending lib.PubSub and using listenTo\n\t * @param {string} [name] the event name to listen to\n\t * @param {callback} [callback] function to stop running\n\t * @return {this}\n\t */\n\tthis.stopListening = function (obj, name, callback) {\n\t\tvar events, names, retain, i, j, k, l, ev;\n\t\tvar listeningTo = this._listeningTo;\n\t\tif (!listeningTo) {\n\t\t\treturn this;\n\t\t}\n\n\t\tlogger.LOG&&console.log(\"LOG\",\"..lib.PubSub\",obj);\n\t\tvar remove = !name && !callback;\n\t\tif (obj) {\n\t\t\t(listeningTo = {})[obj._listenId] = obj;\n\t\t}\n\n\t\tfor (var id in listeningTo) {\n\t\t\tobj = listeningTo[id];\n\n\t\t\tnames = name ? [name] : Object.keys(obj._subscribers);\n\t\t\tfor (i = 0, l = names.length; i < l; i++) {\n\t\t\t\tname = names[i];\n\t\t\t\tif (events = obj._subscribers[name]) {\n\t\t\t\t\tobj._subscribers[name] = retain = [];\n\t\t\t\t\tfor (j = 0, k = events.length; j < k; j++) {\n\t\t\t\t\t\tev = events[j];\n\t\t\t\t\t\tif ((callback && callback !== ev._method) ||\n\t\t\t\t\t\t\t\t(this && this !== ev._ctx)) {\n\t\t\t\t\t\t\tretain.push(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!retain.length) delete obj._subscribers[name];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (remove) {\n\t\t\t\tdelete this._listeningTo[id];\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n});\n\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/std/uuid.js": {
            "path": "../node_modules\\jsio\\packages/std/uuid.js",
            "friendlyPath": "..std.uuid",
            "directory": "../node_modules\\jsio\\packages/std",
            "filename": "uuid.js",
            "src": "/*\nBased on Math.uuid.js 1.4 by Robert Kieffer\n\n----\nCopyright (c) 2008, Robert Kieffer\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice,\n\tthis list of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright\n\tnotice, this list of conditions and the following disclaimer in the\n\tdocumentation and/or other materials provided with the distribution.\n  * Neither the name of Robert Kieffer nor the names of its contributors\n\tmay be used to endorse or promote products derived from this software\n\twithout specific prior written permission.\n  \nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\nARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\nLIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\nCONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\nSUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\nINTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\nCONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\nARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGE.\n\n*/\n\n\n\n/*\n * Generate a random uuid.\n *\n * USAGE: uuid.uuid(length, radix)\n *   length - the desired number of characters\n *   radix  - the number of allowable values for each character.\n *\n * EXAMPLES:\n *   // No arguments  - returns RFC4122, version 4 ID\n *   >>> std.uuid()\n *   \"92329D39-6F5C-4520-ABFC-AAB64544E172\"\n * \n *   // One argument - returns ID of the specified length\n *   >>> std.uuid(15)\t // 15 character ID (default base=62)\n *   \"VcydxgltxrVZSTV\"\n *\n *   // Two arguments - returns ID of the specified length, and radix. (Radix must be <= 62)\n *   >>> std.uuid(8, 2)  // 8 character ID (base=2)\n *   \"01001010\"\n *   >>> std.uuid(8, 10) // 8 character ID (base=10)\n *   \"47473046\"\n *   >>> std.uuid(8, 16) // 8 character ID (base=16)\n *   \"098F4D35\"\n */\n\n\nvar CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''); \nexports.uuid = function (len, radix) {\n\tvar chars = CHARS, uuid = [], rnd = Math.random;\n\tradix = radix || chars.length;\n\n\tif (len) {\n\t\t// Compact form\n\t\tfor (var i = 0; i < len; i++) uuid[i] = chars[0 | rnd()*radix];\n\t} else {\n\t\t// rfc4122, version 4 form\n\t\tvar r;\n\n\t\t// rfc4122 requires these characters\n\t\tuuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n\t\tuuid[14] = '4';\n\n\t\t// Fill in random data.  At i==19 set the high bits of clock sequence as\n\t\t// per rfc4122, sec. 4.1.5\n\t\tfor (var i = 0; i < 36; i++) {\n\t\t\tif (!uuid[i]) {\n\t\t\t\tr = 0 | rnd()*16;\n\t\t\t\tuuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r & 0xf];\n\t\t\t}\n\t\t}\n\t}\n\treturn uuid.join('');\n};\n\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/csp/client.js": {
            "path": "../node_modules\\jsio\\packages/net/csp/client.js",
            "friendlyPath": "...csp.client",
            "directory": "../node_modules\\jsio\\packages/net/csp",
            "filename": "client.js",
            "src": "jsio('import std.base64 as base64');\njsio('import std.utf8 as utf8');\njsio('import std.uri as uri'); \njsio('import net.errors as errors');\njsio('import .transports');\njsio('import lib.Enum as Enum');\n\nvar READYSTATE = exports.READYSTATE = Enum({\n\tINITIAL: 0,\n\tCONNECTING: 1,\n\tCONNECTED: 2,\n\tDISCONNECTING: 3,\n\tDISCONNECTED:  4\n});\n\n\nexports.CometSession=__class__;exports.CometSession=exports.CometSession(function exports_CometSession(){return this.init&&this.init.apply(this,arguments)},function(supr) {\n\tvar id = 0;\n\tvar kDefaultBackoff = 50;\n\tvar kDefaultTimeoutInterval = 45000;\n\tvar kDefaultHandshakeTimeout = 10000;\n\tthis.init = function() {\n\t\tthis._id = ++id;\n\t\tthis._url = null;\n\t\tthis.readyState = READYSTATE.INITIAL;\n\t\tthis._sessionKey = null;\n\t\tthis._transport = null;\n\t\tthis._options = null;\n\t\t\n\t\tthis._utf8ReadBuffer = \"\";\n\t\tthis._writeBuffer = \"\";\n\t\t\n\t\tthis._packetsInFlight = null;\n\t\tthis._lastEventId = null;\n\t\tthis._lastSentId = null;\n\t\t\n\t\tthis._handshakeLater = null;\n\t\tthis._handshakeBackoff = kDefaultBackoff;\n\t\tthis._handshakeRetryTimer = null;\n\t\tthis._handshakeTimeoutTimer = null;\n\n\t\tthis._timeoutTimer = null;\n\n\t\t\n\t\tthis._writeBackoff = kDefaultBackoff;\n\t\tthis._cometBackoff = kDefaultBackoff;\n\t\t\n\t\tthis._nullInBuffer = false;\n\t\tthis._nullInFlight= false;\n\t\tthis._nullSent = false;\n\t\tthis._nullReceived = false;\n\t}\n\t\n\t\n\tthis.setEncoding = function(encoding) {\n\t\tif (encoding == this._options.encoding) { \n\t\t\treturn; \n\t\t}\n\t\tif (encoding != 'utf8' && encoding != 'plain') {\n\t\t\tthrow new errors.InvalidEncodingError();\n\t\t}\n\t\tif (encoding == 'plain' && this._buffer) {\n\t\t\tvar buffer = this._utf8ReadBuffer;\n\t\t\tthis._utf8ReadBuffer = \"\";\n\t\t\tthis._doOnRead(buffer);\n\t\t}\n\t\tthis._options.encoding = encoding;\n\t}\n\n\n\tthis.connect = function(url, options) {\n\t\tthis._url = url.replace(/\\/$/,'');\n\t\tthis._options = options || {};\n\t\t\n\t\tthis._options.encoding = this._options.encoding || 'utf8';\n\t\tthis.setEncoding(this._options.encoding); // enforce encoding constraints\n\t\t\n\t\tthis._options.connectTimeout = this._options.connectTimeout || kDefaultHandshakeTimeout;\n\t\t\n\t\tvar transportClass = transports.chooseTransport(url, this._options);\n\t\tthis._transport = new transportClass();\n\t\t\n\t\tthis._transport.handshakeFailure = bind(this, this._handshakeFailure);\n\t\tthis._transport.handshakeSuccess = bind(this, this._handshakeSuccess);\n\t\t\n\t\tthis._transport.cometFailure = bind(this, this._cometFailure);\n\t\tthis._transport.cometSuccess = bind(this, this._cometSuccess);\n\t\t\n\t\tthis._transport.sendFailure = bind(this, this._writeFailure);\n\t\tthis._transport.sendSuccess = bind(this, this._writeSuccess);\n\t\tthis.readyState = READYSTATE.CONNECTING;\n\t\tthis._transport.handshake(this._url, this._options);\n\t\t\n\t\tthis._handshakeTimeoutTimer = setTimeout(bind(this, this._handshakeTimeout), \n\t\t\tthis._options.connectTimeout);\n\t}\n\n\tthis.write = function(data, encoding) {\n\t\tif (this.readyState != READYSTATE.CONNECTED) {\n\t\t\tthrow new errors.ReadyStateError();\n\t\t}\n\t\tencoding = encoding || this._options.encoding || 'utf8';\n\t\tif (encoding == 'utf8') {\n\t\t\tdata = utf8.encode(data);\n\t\t}\n\t\tthis._writeBuffer += data;\n\t\tthis._doWrite();\n\t}\n\t\n\t// Close due to protocol error\n\tthis._protocolError = function(msg) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'_protocolError', msg);\n\t\t// Immediately fire the onclose\n\t\t// send a null packet to the server\n\t\t// don't wait for a null packet back.\n\t\tthis.readyState = READYSTATE.DISCONNECTED;\n\t\tthis._doWrite(true);\n\t\tthis._doOnDisconnect(new errors.ServerProtocolError(msg));\n\t}\n\t\n\tthis._receivedNullPacket = function() {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'_receivedNullPacket');\n\t\t// send a null packet back to the server\n\t\tthis._receivedNull = true;\n\t\t\n\t\t// send our own null packet back. (maybe)\n\t\tif (!(this._nullInFlight || this._nullInBuffer || this._nullSent)) {\n\t\t\tthis.readyState = READYSTATE.DISCONNECTING;\n\t\t\tthis._doWrite(true);\n\t\t}\n\t\telse {\n\t\t\tthis.readyState = READYSTATE.DISCONNECTED;\n\t\t}\n\t\t\n\t\t// fire an onclose\n\t\tthis._doOnDisconnect(new errors.ConnectionClosedCleanly());\n\n\t}\n\t\n\tthis._sentNullPacket = function() {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'_sentNullPacket');\n\t\tthis._nullSent = true;\n\t\tif (this._nullSent && this._nullReceived) {\n\t\t\tthis.readyState = READYSTATE.DISCONNECTED;\n\t\t}\n\t}\n\t\n\t\n\t// User Calls close\n\tthis.close = function(err) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'close called', err, 'readyState', this.readyState);\n\n\t\t// \n\t\tswitch(this.readyState) {\n\t\t\tcase READYSTATE.CONNECTING:\n\t\t\t\tclearTimeout(this._handshakeRetryTimer);\n\t\t\t\tclearTimeout(this._handshakeTimeoutTimer);\n\t\t\t\tthis.readyState = READYSTATE.DISCONNECTED;\n\t\t\t\tthis._doOnDisconnect(err);\n\t\t\t\tbreak;\n\t\t\tcase READYSTATE.CONNECTED:\n\t\t\t\tthis.readyState = READYSTATE.DISCONNECTING;\n\t\t\t\tthis._doWrite(true);\n\t\t\t\tclearTimeout(this._timeoutTimer);\n\t\t\t\tbreak;\n\t\t\tcase READYSTATE.DISCONNECTED:\n\t\t\t\tthrow new errors.ReadyStateError(\"Session is already disconnected\");\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\t\n\t\tthis._opened = false; // what is this used for???\n\t\tthis.readyState = READYSTATE.DISCONNECTED;\n\t\t\n\t\tthis._doOnDisconnect(err);\n\t\tthis._sessionKey = null;\n\t}\n\t\n\tthis._handshakeTimeout = function() {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'handshake timeout');\n\t\tthis._handshakeTimeoutTimer = null;\n\t\tclearTimeout(this._handshakeRetryTimer);\n\t\tif (this.readyState == READYSTATE.CONNECTING) {\n\t\t\tthis.readyState = READYSTATE.DISCONNECTED;\n\t\t}\n\t\t\n\t\tthis._doOnDisconnect(new errors.ServerUnreachable());\n\t}\n\t\n\tthis._handshakeSuccess = function(data) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'handshake success', data);\n\t\tif (this.readyState != READYSTATE.CONNECTING) { \n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'received handshake success in invalid readyState:', this.readyState);\n\t\t\treturn; \n\t\t}\n\t\tclearTimeout(this._handshakeTimeoutTimer);\n\t\tthis._handshakeTimeoutTimer = null;\n\t\tthis._sessionKey = data.response.session;\n\t\tthis._opened = true;\n\t\tthis.readyState = READYSTATE.CONNECTED;\n\t\tthis._doOnConnect();\n\t\tthis._doConnectComet();\n\t}\n\t\n\tthis._handshakeFailure = function(data) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'handshake failure', data);\n\t\tif (this.readyState != READYSTATE.CONNECTING) { return; }\n\t\tif (data.status == 404) {\n\t\t\tclearTimeout(this._handshakeTimeoutTimer);\n\t\t\treturn this._doOnDisconnect(new errors.ServerUnreachable());\n\t\t}\n\t\t\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'trying again in ', this._handshakeBackoff);\n\t\tthis._handshakeRetryTimer = setTimeout(bind(this, function() {\n\t\t\tthis._handshakeRetryTimer = null;\n\t\t\tthis._transport.handshake(this._url, this._options);\n\t\t}), this._handshakeBackoff);\n\t\t\n\t\tthis._handshakeBackoff *= 2;\n\t}\n\t\n\tthis._writeSuccess = function() {\n\t\tif (this.readyState != READYSTATE.CONNECTED && this.readyState != READYSTATE.DISCONNECTING) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._nullInFlight) {\n\t\t\treturn this._sentNullPacket();\n\t\t}\n\t\tthis._resetTimeoutTimer();\n\t\tthis.writeBackoff = kDefaultBackoff;\n\t\tthis._packetsInFlight = null;\n\t\tif (this._writeBuffer || this._nullInBuffer) {\n\t\t\tthis._doWrite(this._nullInBuffer);\n\t\t}\n\t}\n\t\n\tthis._writeFailure = function() {\n\t\tif (this.readyState != READYSTATE.CONNECTED && this.READYSTATE != READYSTATE.DISCONNECTING) { return; }\n\t\tthis._writeTimer = setTimeout(bind(this, function() {\n\t\t\tthis._writeTimer = null;\n\t\t\tthis.__doWrite(this._nullInBuffer);\n\t\t}), this._writeBackoff);\n\t\tthis._writeBackoff *= 2;\n\t}\t\n\n\tthis._doWrite = function(sendNull) {\n\t\tif (this._packetsInFlight) {\n\t\t\tif (sendNull) {\n\t\t\t\tthis._nullInBuffer = true;\n\t\t\t\treturn; \n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis.__doWrite(sendNull);\n\t}\n\t\n\tthis.__doWrite = function(sendNull) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'_writeBuffer:', this._writeBuffer);\n\t\tif (!this._packetsInFlight && this._writeBuffer) {\n\t\t\tthis._packetsInFlight = [this._transport.encodePacket(++this._lastSentId, this._writeBuffer, this._options)];\n\t\t\tthis._writeBuffer = \"\";\n\t\t}\n\t\tif (sendNull && !this._writeBuffer) {\n\t\t\tif (!this._packetsInFlight) {\n\t\t\t\tthis._packetsInFlight = [];\n\t\t\t}\n\t\t\tthis._packetsInFlight.push([++this._lastSentId, 0, null]);\n\t\t\tthis._nullInFlight = true;\n\t\t}\n\t\tif (!this._packetsInFlight) {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",\"no packets to send\");\n\t\t\treturn;\n\t\t}\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'sending packets:', JSON.stringify(this._packetsInFlight));\n\t\tthis._transport.send(this._url, this._sessionKey, this._lastEventId || 0, JSON.stringify(this._packetsInFlight), this._options);\n\t}\n\t\n\tthis._doConnectComet = function() {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'_doConnectComet');\n//\t\treturn;\n\t\tthis._transport.comet(this._url, this._sessionKey, this._lastEventId || 0, this._options);\n\t}\n\n\tthis._cometFailure = function(data) {\n\t\tif (this.readyState != READYSTATE.CONNECTED) { return; }\n\t\tif (data.status == 404 && data.response == 'Session not found') {\n\t\t\treturn this.close(new errors.ExpiredSession(data));\n\t\t}\n\t\t\n\t\tthis._cometTimer = setTimeout(bind(this, '_doConnectComet'), this._cometBackoff);\n\t\tthis._cometBackoff *= 2;\n\t}\n\t\n\tthis._cometSuccess = function(data) {\n\t\tif (this.readyState != READYSTATE.CONNECTED && this.readyState != READYSTATE.DISCONNECTING) { return; }\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'comet Success:', data);\n\t\tthis._cometBackoff = kDefaultBackoff;\n\t\tthis._resetTimeoutTimer();\n\t\t\n\t\tvar response = data.response;\n\t\tfor (var i = 0, packet; (packet = response[i]) || i < response.length; i++) {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'process packet:', packet);\n\t\t\tif (packet === null) {\n\t\t\t\treturn this.close(new errors.ServerProtocolError(data));\n\t\t\t}\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'process packet', packet);\n\t\t\tvar ackId = packet[0];\n\t\t\tvar encoding = packet[1];\n\t\t\tvar data = packet[2];\n\t\t\tif (typeof(this._lastEventId) == 'number' && ackId <= this._lastEventId) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (typeof(this._lastEventId) == 'number' && ackId != this._lastEventId+1) {\n\t\t\t\treturn this._protocolError(\"Ack id too high\");\n\t\t\t}\n\t\t\tthis._lastEventId = ackId;\n\t\t\tif (data == null) {\n\t\t\t\treturn this._receivedNullPacket();\n\t\t\t}\n\t\t\tif (encoding == 1) { // base64 encoding\n\t\t\t\ttry {\n\t\t\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'before base64 decode:', data);\n\t\t\t\t\tdata = base64.decode(data);\n\t\t\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'after base64 decode:', data);\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn this._protocolError(\"Unable to decode base64 payload\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._options.encoding == 'utf8') {\n\t\t\t\t// TODO: need an incremental utf8 decoder for this stuff.\n\t\t\t\tthis._utf8ReadBuffer += data;\n\t\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'before utf8 decode, _utf8ReadBuffer:', this._utf8ReadBuffer);\n\t\t\t\tvar result = utf8.decode(this._utf8ReadBuffer);\n\t\t\t\tdata = result[0];\n\t\t\t\tthis._utf8ReadBuffer = this._utf8ReadBuffer.slice(result[1]);\n\t\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'after utf8 decode, _utf8ReadBuffer:', this._utf8ReadBuffer, 'data:', data );\n\t\t\t}\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'dispatching data:', data);\n\n\t\t\t// TODO: possibly catch this error in production? but not in dev\n\t\t\tthis._doOnRead(data);\n\t\t}\n\t\t\n\t\tif (this.readyState != READYSTATE.CONNECTED && this.readyState != READYSTATE.DISCONNECTING) { return; }\n\t\t\n\t\t// reconnect comet last, after we process all of the packet ids\n\t\tthis._doConnectComet();\n\t\t\n\t}\n\n\tthis._doOnRead = function(data) {\n\t\tif (typeof(this.onread) == 'function') {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'call onread function', data);\n\t\t\tthis.onread(data);\n\t\t}\n\t\telse {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'skipping onread callback (function missing)');\n\t\t}\n\t}\n\t\n\tthis._doOnDisconnect = function(err) {\n\t\tif (typeof(this.ondisconnect) == 'function') {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'call ondisconnect function', err);\n\t\t\tthis.ondisconnect(err);\n\t\t}\n\t\telse {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'skipping ondisconnect callback (function missing)');\n\t\t}\n\t}\n\t\n\tthis._doOnConnect = function() {\n\t\tif (typeof(this.onconnect) == 'function') {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'call onconnect function');\n\t\t\ttry {\n\t\t\t\tthis.onconnect();\n\t\t\t} catch(e) {\n\t\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'onconnect caused errror', e);\n\t\t\t\t// throw error later\n\t\t\t\tsetTimeout(function() { throw e }, 0);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'skipping onconnect callback (function missing)');\n\t\t}\n\t}\n\n\tthis._resetTimeoutTimer = function() {\n\t\tclearTimeout(this._timeoutTimer);\n\t\tthis._timeoutTimer = setTimeout(bind(this, function() {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"...csp.client\",'connection timeout expired');\n\t\t\tthis.close(new errors.ConnectionTimeout())\n\t\t}), this._getTimeoutInterval())\n\t}\n\t\n\tthis._getTimeoutInterval = function() {\n\t\treturn kDefaultTimeoutInterval;\n\t}\n\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/std/base64.js": {
            "path": "../node_modules\\jsio\\packages/std/base64.js",
            "friendlyPath": "std.base64",
            "directory": "../node_modules\\jsio\\packages/std",
            "filename": "base64.js",
            "baseMod": "std",
            "basePath": "c:\\Users\\Surface\\cloud\\node_modules\\jsio\\packages/std",
            "src": "/*\n\"URL-safe\" Base64 Codec, by Jacob Rus\n\nThis library happily strips off as many trailing '=' as are included in the\ninput to 'decode', and doesn't worry whether its length is an even multiple\nof 4. It does not include trailing '=' in its own output. It uses the\n'URL safe' base64 alphabet, where the last two characters are '-' and '_'.\n\n--------------------\n\nCopyright (c) 2009 Jacob Rus\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n\ttrailingPad = '=',\n\tpadChar = alphabet.charAt(alphabet.length - 1);\n\nvar decodeMap = {};\nfor (var i = 0, len = alphabet.length; i < len; i++) {\n\tdecodeMap[alphabet.charAt(i)] = i;\n}\n\n// use this regexp in the decode function to sniff out invalid characters.\nvar alphabet_inverse = new RegExp('[^' + alphabet.replace('-', '\\\\-') + ']');\n\nexports.Base64CodecError=__class__;exports.Base64CodecError=exports.Base64CodecError(function exports_Base64CodecError(){return this.init&&this.init.apply(this,arguments)},Error, function(supr) {\n\tthis.name = 'Base64CodecError';\n\t\n\tthis.init = function(message) {\n\t\tthis.message = message;\n\t}\n});\n\nvar assertOrBadInput = function (exp, message) {\n\tif (!exp) { throw new exports.Base64CodecError(message) };\n};\n\nexports.encode = function (bytes, skipPadding) {\n\tassertOrBadInput(!(/[^\\x00-\\xFF]/.test(bytes)), // disallow two-byte chars\n\t\t'Input contains out-of-range characters.');\n\tvar paddingSize = bytes.length % 3;\n\tvar padding = '\\x00\\x00\\x00'.slice(paddingSize || 3);\n\tbytes += padding; // pad with null bytes\n\tvar out_array = [];\n\tfor (var i=0, n=bytes.length; i < n; i+=3) {\n\t\tvar newchars = (\n\t\t\t(bytes.charCodeAt(i)   << 020) +\n\t\t\t(bytes.charCodeAt(i+1) << 010) +\n\t\t\t(bytes.charCodeAt(i+2)));\n\t\tout_array.push(\n\t\t\talphabet.charAt((newchars >> 18) & 077),\n\t\t\talphabet.charAt((newchars >> 12) & 077),\n\t\t\talphabet.charAt((newchars >> 6)  & 077),\n\t\t\talphabet.charAt((newchars)       & 077));\n\t};\n\t\n\tout_array.length -= padding.length;\n\tvar ret = out_array.join('');\n\tif (!skipPadding) {\n\t\tif (paddingSize == 1) {\n\t\t\tret += '==';\n\t\t} else if (paddingSize == 2) {\n\t\t\tret += '=';\n\t\t}\n\t}\n\t\n\treturn ret;\n};\n\nexports.decode = function (b64text) {\n\tlogger.DEBUG&&console.debug(\"DEBUG\",\"std.base64\",'decode', b64text);\n\tb64text = b64text.replace(/\\s/g, ''); // kill whitespace\n\t\n\t// strip trailing pad characters from input; // XXX maybe some better way?\n\tvar i = b64text.length;\n\twhile (b64text.charAt(--i) === trailingPad) {};\n\tb64text = b64text.slice(0, i + 1);\n\t\n\tassertOrBadInput(!alphabet_inverse.test(b64text), 'Input contains out-of-range characters.');\n\t\n\tvar padLength = 4 - ((b64text.length % 4) || 4),\n\t\tpadding = Array(padLength + 1).join(padChar);\n\t\n\tb64text += padding; // pad with last letter of alphabet\n\t\n\tvar out_array = [],\n\t\tlength = i + padLength + 1; // length of b64text\n\t\n\tfor (var i = 0; i < length; i += 4) {\n\t\tnewchars = (\n\t\t\t(decodeMap[b64text.charAt(i)]   << 18) +\n\t\t\t(decodeMap[b64text.charAt(i+1)] << 12) +\n\t\t\t(decodeMap[b64text.charAt(i+2)] << 6)  +\n\t\t\t(decodeMap[b64text.charAt(i+3)]));\n\t\tout_array.push(\n\t\t\t(newchars >> 020) & 0xFF,\n\t\t\t(newchars >> 010) & 0xFF, \n\t\t\t(newchars)\t\t& 0xFF);\n\t};\n\t\n\tlength = (out_array.length -= padLength);\n\t\n\t// Safari fromCharCode can't be passed more than 65536 arguments at once\n\tvar result,\n\t\tMAX_CHUNK = 65536;\n\t\n\tif (length > MAX_CHUNK) {\n\t\tresult = [];\n\t\tvar i = 0, j = 0;\n\t\twhile (i < length) {\n\t\t\tresult[j++] = String.fromCharCode.apply(String, out_array.slice(i, i + MAX_CHUNK));\n\t\t\ti += MAX_CHUNK;\n\t\t}\n\t\tresult = result.join('');\n\t} else {\n\t\tresult = String.fromCharCode.apply(String, out_array);\n\t}\n\tlogger.DEBUG&&console.debug(\"DEBUG\",\"std.base64\",'decoded', result);\n\treturn result;\n};\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/std/utf8.js": {
            "path": "../node_modules\\jsio\\packages/std/utf8.js",
            "friendlyPath": "std.utf8",
            "directory": "../node_modules\\jsio\\packages/std",
            "filename": "utf8.js",
            "src": "/*\nFast incremental JavaScript UTF-8 encoder/decoder, by Jacob Rus.\n\nAPI for decode from Orbited: as far as I know, the first incremental\nJavaScript UTF-8 decoder.\n\nInspired by the observation by Johan Sundstrm published at:\nhttp://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\nNote that this code throws an error for invalid UTF-8. Because it is so much\nfaster than previous implementations, the recommended way to do lenient\nparsing is to first try this decoder, and then fall back on a slower lenient\ndecoder if necessary for the particular use case.\n\n--------------------\n\nCopyright (c) 2009 Jacob Rus\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n*/\n//var utf8 = this.utf8 = exports;\n\nexports.UnicodeCodecError = function (message) { \n\tthis.message = message; \n};\n\nvar UnicodeCodecError = exports.UnicodeCodecError;\n\nUnicodeCodecError.prototype.toString = function () {\n\treturn 'UnicodeCodecError' + (this.message ? ': ' + this.message : '');\n};\n\nexports.encode = function (unicode_string) {\n\t// Unicode encoder: Given an arbitrary unicode string, returns a string\n\t// of characters with code points in range 0x00 - 0xFF corresponding to\n\t// the bytes of the utf-8 representation of those characters.\n\ttry {\n\t\treturn unescape(encodeURIComponent(unicode_string));\n\t}\n\tcatch (err) {\n\t\tthrow new UnicodeCodecError('invalid input string');\n\t};\n};\nexports.decode = function (bytes) {\n\t// Unicode decoder: Given a string of characters with code points in\n\t// range 0x00 - 0xFF, which, when interpreted as bytes, are valid UTF-8,\n\t// returns the corresponding Unicode string, along with the number of\n\t// bytes in the input string which were successfully parsed.\n\t//\n\t// Unlike most JavaScript utf-8 encode/decode implementations, properly\n\t// deals with partial multi-byte characters at the end of the byte string.\n\tif (/[^\\x00-\\xFF]/.test(bytes)) {\n\t\tthrow new UnicodeCodecError('invalid utf-8 bytes');\n\t};\n\tvar len, len_parsed;\n\tlen = len_parsed = bytes.length;\n\tvar last = len - 1;\n\t// test for non-ascii final byte. if last byte is ascii (00-7F) we're done.\n\tif (bytes.charCodeAt(last) >= 0x80) {\n\t\t// loop through last 3 bytes looking for first initial byte of unicode\n\t\t// multi-byte character. If the initial byte is 4th from the end, we'll\n\t\t// parse the whole string.\n\t\tfor (var i = 1; i <= 3; i++) {\n\t\t\t// initial bytes are in range C0-FF\n\t\t\tif (bytes.charCodeAt(len - i) >= 0xC0) {\n\t\t\t\tlen_parsed = len - i;\n\t\t\t\tbreak;\n\t\t\t};\n\t\t};\n\t\ttry {\n\t\t\t// if the last few bytes are a complete multi-byte character, parse\n\t\t\t// everything (by setting len_parsed)\n\t\t\tdecodeURIComponent(escape(bytes.slice(len_parsed)));\n\t\t\tlen_parsed = len;\n\t\t}\n\t\tcatch (err) { /* pass */ };\n\t};\n\ttry {\n\t\treturn [\n\t\t\tdecodeURIComponent(escape(bytes.slice(0, len_parsed))),\n\t\t\tlen_parsed\n\t\t];\n\t}\n\tcatch (err) {\n\t\tthrow new UnicodeCodecError('invalid utf-8 bytes');\n\t};\n};\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/std/uri.js": {
            "path": "../node_modules\\jsio\\packages/std/uri.js",
            "friendlyPath": "std.uri",
            "directory": "../node_modules\\jsio\\packages/std",
            "filename": "uri.js",
            "src": "var attrs = [ \n\t\"source\",\n\t\"protocol\",\n\t\"authority\",\n\t\"userInfo\",\n\t\"user\",\n\t\"password\",\n\t\"host\",\n\t\"port\",\n\t\"relative\",\n\t\"path\",\n\t\"directory\",\n\t\"file\",\n\t\"query\",\n\t\"anchor\"\n];\n\nvar c__Users_Surface_cloud_node_modules_jsio_packages_std_uri=__class__;var URI = exports=c__Users_Surface_cloud_node_modules_jsio_packages_std_uri(function c__Users_Surface_cloud_node_modules_jsio_packages_std_uri(){return this.init&&this.init.apply(this,arguments)},function(supr) {\n\tthis.init = function(url, isStrict) {\n\t\tif (url instanceof URI) {\n\t\t\tfor (var i = 0, attr; attr = attrs[i]; ++i) {\n\t\t\t\tthis['_' + attr] = url['_' + attr];\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis._isStrict = isStrict;\n\t\t\n\t\tvar uriData = exports.parse(url, isStrict);\n\t\tfor (var attr in uriData) {\n\t\t\tthis['_' + attr] = uriData[attr];\n\t\t};\n\t}\n  \n\tfor (var i = 0, attr; attr = attrs[i]; ++i) {\n\t\t(function(attr) {\n\t\t\tvar fNameSuffix = attr.charAt(0).toUpperCase() + attr.slice(1);\n\t\t\tthis['get' + fNameSuffix] = function() {\n\t\t\t\treturn this['_' + attr];\n\t\t\t};\n\t\t\tthis['set' + fNameSuffix] = function(val) {\n\t\t\t\tthis['_' + attr] = val;\n\t\t\t\treturn this;\n\t\t\t};\n\t\t}).call(this, attr);\n\t};\n\t\n\tthis.query = function(key) { return exports.parseQuery(this._query)[key]; }\n\tthis.hash = function(key) { return exports.parseQuery(this._anchor)[key]; }\n\t\n\tthis.addHash = function(kvp) {\n\t\tvar hash = exports.parseQuery(this._anchor);\n\t\tfor (var i in kvp) { hash[i] = kvp[i]; }\n\t\tthis._anchor = exports.buildQuery(hash);\n\t\treturn this;\n\t}\n\t\n\tthis.push = function(path) {\n\t\tif (path) {\n\t\t\tthis._path = (this._path + '/' + path).replace(/\\/\\/+/g, '/');\n\t\t}\n\t\treturn this;\n\t}\n\t\n\tthis.addQuery = function(kvp) {\n\t\tvar query = exports.parseQuery(this._query);\n\t\tfor (var i in kvp) { query[i] = kvp[i]; }\n\t\tthis._query = exports.buildQuery(query);\n\t\treturn this;\n\t}\n\t\n\tthis.removeQuery = function(keys) {\n\t\tvar query = exports.parseQuery(this._query);\n\t\tif (isArray(keys)) {\n\t\t\tfor (var i = 0, n = keys.length; i < n; ++i) {\n\t\t\t\tdelete query[keys[i]];\n\t\t\t}\n\t\t} else {\n\t\t\tdelete query[keys];\n\t\t}\n\t\tthis._query = exports.buildQuery(query);\n\t\treturn this;\n\t}\n\n\tthis.toJSON = function() { return this.toString(false); }\n\n\tthis.toString = function(onlyBase) {\n\t\t// XXX TODO: This is vaguely reasonable, but not complete. fix it...\n\t\tvar a = this._protocol ? this._protocol + \"://\" : \"\"\n\t\tvar b = this._host ? this._host + ((this._port || 80) == 80 ? \"\" : \":\" + this._port) : \"\";\n\t\t\n\t\tif (onlyBase) {\n\t\t\treturn a + b;\n\t\t}\n\t\t\n\t\tvar c = this._path;\n\t\tvar d = this._query ? '?' + this._query : '';\n\t\tvar e = this._anchor ? '#' + this._anchor : '';\n\t\treturn a + b + c + d + e;\n\t};\n});\n\nexports.relativeTo = function(url, base) {\n\tvar url = String(url);\n\tif (base && !/^http(s?):\\/\\//.test(url)) {\n\t\tvar baseURI = new exports(base)\n\t\t\t.setAnchor('')\n\t\t\t.setQuery('')\n\t\t\t.setFile('')\n\t\t\t.toString(url.charAt(0) == '/');\n\n\t\turl = exports.resolveRelative(baseURI + url);\n\t}\n\n\treturn new URI(url);\n}\n\nexports.resolveRelative = function(url) {\n\tvar prevUrl;\n\t\n\t// remove ../ with preceeding folder\n\twhile((prevUrl = url) != (url = url.replace(/(^|\\/)([^\\/]+)\\/\\.\\.\\//g, '/'))) {};\n\t\n\t// remove ./ if it isn't preceeded by a .\n\treturn url.replace(/[^.]\\.\\//g, '');\n}\n\nexports.buildQuery = function(kvp) {\n\tvar pairs = [];\n\tfor (var key in kvp) {\n\t\tpairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(kvp[key]));\n\t}\n\treturn pairs.join('&');\n}\n\nexports.parseQuery = function(str) {\n\tvar pairs = str.split('&'),\n\t\tn = pairs.length,\n\t\tdata = {};\n\tfor (var i = 0; i < n; ++i) {\n\t\tvar pair = pairs[i].split('='),\n\t\t\tkey = decodeURIComponent(pair[0]);\n\t\tif (key) { data[key] = decodeURIComponent(pair[1]); }\n\t}\n\treturn data;\n}\n\n// Regexs are based on parseUri 1.2.2\n// Original: (c) Steven Levithan <stevenlevithan.com>\n// Original: MIT License\n\nvar strictRegex = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nvar looseRegex = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nvar queryStringRegex = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\nexports.parse = function(str, isStrict) {\n\tvar regex = isStrict ? strictRegex : looseRegex;\n\tvar result = {};\n\tvar match = regex.exec(str);\n\tfor (var i = 0, attr; attr = attrs[i]; ++i) {\n\t\tresult[attr] = match[i] || \"\";\n\t}\n\t\n\tvar qs = result['queryKey'] = {};\n\tresult['query'].replace(queryStringRegex, function(check, key, val) {\n\t\tif (check) {\n\t\t\tqs[key] = val;\n\t\t}\n\t});\n\t\n\treturn result;\n}\n\nexports.isSameDomain = function(urlA, urlB) {\n\tvar a = exports.parse(urlA);\n\tvar b = exports.parse(urlB);\n\treturn ((a.port == b.port ) && (a.host == b.host) && (a.protocol == b.protocol));\n};\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/errors.js": {
            "path": "../node_modules\\jsio\\packages/net/errors.js",
            "friendlyPath": "net.errors",
            "directory": "../node_modules\\jsio\\packages/net",
            "filename": "errors.js",
            "src": "var makeErrorClass = function(name, _code) {\n\tvar toString = function() {\n\t\treturn name + (this.message ? ': ' + this.message : '');\n\t}\n\n\tvar ctor = function(data) {\n\t\tif (typeof data == 'string') {\n\t\t\tthis.message = data;\n\t\t} else {\n\t\t\tthis.data = data;\n\t\t}\n\t}\n\t\n\tctor.prototype = {\n\t\ttype: name,\n\t\ttoString: toString\n\t};\n\t\n\treturn ctor;\n}\n\nexports.ReadyStateError = makeErrorClass(\"ReadyStateError\");\nexports.InvalidEncodingError = makeErrorClass(\"InvalidEncodingError\");\nexports.ExpiredSession = makeErrorClass(\"ExpiredSession\");\n\nexports.ServerUnreachable = makeErrorClass(\"ServerUnreachable\", 100);\nexports.ConnectionTimeout = makeErrorClass(\"ConnectionTimeout\", 101);\n\nexports.ServerProtocolError = makeErrorClass(\"ServerProtocolError\", 200);\n\nexports.ServerClosedConnection = makeErrorClass(\"ServerClosedConnection\", 301);\nexports.ConnectionClosedCleanly = makeErrorClass(\"ConnectionClosedCleanly\", 300);",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/csp/transports.js": {
            "path": "../node_modules\\jsio\\packages/net/csp/transports.js",
            "friendlyPath": ".transports",
            "directory": "../node_modules\\jsio\\packages/net/csp",
            "filename": "transports.js",
            "src": "jsio('import std.uri as uri'); \njsio('import std.base64 as base64');\njsio('from util.browserdetect import BrowserDetect');\n\n;(function() {\n\tvar doc;\n\texports.getDoc = function() {\n\t\tif (doc) { return doc; }\n\t\ttry {\n\t\t\tdoc = window.ActiveXObject && new ActiveXObject('htmlfile');\n\t\t\tif (doc) {\n\t\t\t\tdoc.open().write('<html></html>');\n\t\t\t\tdoc.close();\n\t\t\t\twindow.attachEvent('onunload', function() {\n\t\t\t\t\ttry { doc.body.innerHTML = ''; } catch(e) {}\n\t\t\t\t\tdoc = null;\n\t\t\t\t});\n\t\t\t}\n\t\t} catch(e) {}\n\t\t\n\t\tif (!doc) { doc = document; }\n\t\treturn doc;\n\t};\n\n\texports.XHR = function() {\n\t\tvar win = window,\n\t\t\tdoc = exports.getDoc();\n\t\t//if (doc.parentWindow) { win = doc.parentWindow; }\n\t\t\n\t\treturn new (exports.XHR = win.XMLHttpRequest ? win.XMLHttpRequest\n\t\t\t: function() { return win.ActiveXObject && new win.ActiveXObject('Msxml2.XMLHTTP') || null; });\n\t}\n\t\n\texports.createXHR = function() { return new exports.XHR(); }\n\n})();\n\nfunction isLocalFile(url) { return /^file:\\/\\//.test(url); }\nfunction isWindowDomain(url) { return uri.isSameDomain(url, window.location.href); }\n\nvar xhrSupportsBinary = undefined;\nfunction checkXHRBinarySupport(xhr) {\n\txhrSupportsBinary = !!xhr.sendAsBinary;\n}\n\nfunction canUseXHR(url) {\n\t// always use jsonp for local files\n\tif (isLocalFile(url)) { return false; }\n\t\n\t// try to create an XHR using the same function the XHR transport uses\n\tvar xhr = new exports.XHR();\n\tif (!xhr) { return false; }\n\t\n\tcheckXHRBinarySupport(xhr);\n\t\n\t// if the URL requested is the same domain as the window,\n\t// then we can use same-domain XHRs\n\tif (isWindowDomain(url)) { return true; }\n\t\n\t// if the URL requested is a different domain than the window,\n\t// then we need to check for cross-domain support\n\tif (window.XMLHttpRequest\n\t\t\t&& (xhr.__proto__ == XMLHttpRequest.prototype // WebKit Bug 25205\n\t\t\t\t|| xhr instanceof window.XMLHttpRequest)\n\t\t\t&& xhr.withCredentials !== undefined\n\t\t|| window.XDomainRequest \n\t\t\t&& xhr instanceof window.XDomainRequest) {\n\t\treturn true;\n\t}\n};\n\nvar transports = exports.transports = {};\n\nexports.chooseTransport = function(url, options) {\n\tswitch(options.preferredTransport) {\n\t\tcase 'jsonp':\n\t\t\treturn transports.jsonp;\n\t\tcase 'xhr':\n\t\tdefault:\n\t\t\tif (canUseXHR(url)) { return transports.xhr; };\n\t\t\treturn transports.jsonp;\n\t}\n};\n\n// TODO: would be nice to use these somewhere...\n\nvar PARAMS = {\n\t'xhrstream':   {\"is\": \"1\", \"bs\": \"\\n\"},\n\t'xhrpoll':     {\"du\": \"0\"},\n\t'xhrlongpoll': {},\n\t'sselongpoll': {\"bp\": \"data: \", \"bs\": \"\\r\\n\", \"se\": \"1\"},\n\t'ssestream':   {\"bp\": \"data: \", \"bs\": \"\\r\\n\", \"se\": \"1\", \"is\": \"1\"}\n};\n\nexports.Transport=__class__;exports.Transport=exports.Transport(function exports_Transport(){return this.init&&this.init.apply(this,arguments)},function(supr) {\n\tthis.handshake = function(url, options) {\n\t\tthrow new Error(\"handshake Not Implemented\"); \n\t};\n\tthis.comet = function(url, sessionKey, lastEventId, options) { \n\t\tthrow new Error(\"comet Not Implemented\"); \n\t};\n\tthis.send = function(url, sessionKey, data, options) { \n\t\tthrow new Error(\"send Not Implemented\");\n\t};\n\tthis.encodePacket = function(packetId, data, options) { \n\t\tthrow new Error(\"encodePacket Not Implemented\"); \n\t};\n\tthis.abort = function() { \n\t\tthrow new Error(\"abort Not Implemented\"); \n\t};\n});\n\nbaseTransport=__class__;var baseTransport=baseTransport(function baseTransport(){return this.init&&this.init.apply(this,arguments)},exports.Transport, function(supr) {\n\tthis.init = function() {\n\t\tthis._aborted = false;\n\t\tthis._handshakeArgs = {ct:'application/javascript'};\n\t\tthis._handshakeData = '{}'\n\t};\n\t\n\tthis.handshake = function(url, options) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'handshake:', url, options);\n\t\tthis._makeRequest('send', url + '/handshake', \n\t\t\t\t\t\t  this._handshakeArgs,\n\t\t\t\t\t\t  this._handshakeData,\n\t\t\t\t\t\t  this.handshakeSuccess, \n\t\t\t\t\t\t  this.handshakeFailure);\n\t};\n\t\n\tthis.comet = function(url, sessionKey, lastEventId, options) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'comet:', url, sessionKey, lastEventId, options);\n\t\tvar args = {\n\t\t\ts: sessionKey,\n\t\t\ta: lastEventId\n\t\t};\n\t\tthis._makeRequest('comet', url + '/comet', \n\t\t\t\t\t\t  args,\n\t\t\t\t\t\t  null,\n\t\t\t\t\t\t  this.cometSuccess, \n\t\t\t\t\t\t  this.cometFailure);\n\t};\n\t\n\tthis.send = function(url, sessionKey, lastEventId, data, options) {\n\t\t//logger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'send:', url, sessionKey, data, options);\n\t\tvar args = {\n\t\t\ts: sessionKey,\n\t\t\ta: lastEventId\n\t\t};\n\t\tthis._makeRequest('send', url + '/send', \n\t\t\t\t\t\t  args,\n\t\t\t\t\t\t  data,\n\t\t\t\t\t\t  this.sendSuccess, \n\t\t\t\t\t\t  this.sendFailure);\n\t};\n});\n\ntransports.xhr=__class__;transports.xhr=transports.xhr(function transports_xhr(){return this.init&&this.init.apply(this,arguments)},baseTransport, function(supr) {\n\t\n\tthis.init = function() {\n\t\tsupr(this, 'init');\n\t\n\t\tthis._xhr = {\n\t\t\t'send': new exports.XHR(),\n\t\t\t'comet': new exports.XHR()\n\t\t};\n\t};\n\n\tthis.abort = function() {\n\t\tthis._aborted = true;\n\t\tfor(var i in this._xhr) {\n\t\t\tif(this._xhr.hasOwnProperty(i)) {\n\t\t\t\tthis._abortXHR(i);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tthis._abortXHR = function(type) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'aborting XHR');\n\n\t\tvar xhr = this._xhr[type];\n\t\ttry {\n\t\t\tif('onload' in xhr) {\n\t\t\t\txhr.onload = xhr.onerror = xhr.ontimeout = null;\n\t\t\t} else if('onreadystatechange' in xhr) {\n\t\t\t\txhr.onreadystatechange = null;\n\t\t\t}\n\t\t\tif(xhr.abort) { xhr.abort(); }\n\t\t} catch(e) {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'error aborting xhr', e);\n\t\t}\n\t\t\n\t\t// do not reuse aborted XHRs\n\t\tthis._xhr[type] = new exports.XHR();\n\t};\n\t\n\tthis.encodePacket = function(packetId, data, options) {\n\t\t// we don't need to base64 encode things unless there's a null character in there\n\t\treturn !xhrSupportsBinary ? [ packetId, 1, base64.encode(data) ] : [ packetId, 0, data ];\n\t};\n\n\tfunction onReadyStateChange(xhr, rType, cb, eb) {\n\t\ttry {\n\t\t\tvar data = {status: xhr.status};\n\t\t} catch(e) { eb({response: 'Could not access status'}); }\n\t\t\n\t\ttry {\n\t\t\tif(xhr.readyState != 4) { return; }\n\t\t\t\n\t\t\tdata.response = eval(xhr.responseText);\n\t\t\tif(data.status != 200) { \n\t\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'XHR failed with status ', xhr.status);\n\t\t\t\teb(data);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'XHR data received');\n\t\t} catch(e) {\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'Error in XHR::onReadyStateChange', e);\n\t\t\teb(data);\n\t\t\tthis._abortXHR(rType);\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'done handling XHR error');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tcb(data);\n\t};\n\n\t/**\n\t * even though we encode the POST body as in application/x-www-form-urlencoded\n\t */\n\tthis._makeRequest = function(rType, url, args, data, cb, eb) {\n\t\tif (this._aborted) { return; }\n\t\tvar xhr = this._xhr[rType];\n\t\txhr.open('POST', url + '?' + uri.buildQuery(args)); // must open XHR first\n\t\txhr.setRequestHeader('Content-Type', 'text/plain'); // avoid preflighting\n\t\tif('onload' in xhr) {\n\t\t\txhr.onload = bind(this, onReadyStateChange, xhr, rType, cb, eb);\n\t\t\txhr.onerror = xhr.ontimeout = eb;\n\t\t} else if('onreadystatechange' in xhr) {\n\t\t\txhr.onreadystatechange = bind(this, onReadyStateChange, xhr, rType, cb, eb);\n\t\t}\n\t\t// NOTE WELL: Firefox (and probably everyone else) likes to encode our nice\n\t\t//\t\t\t\t\t\tbinary strings as utf8. Don't let them! Say no to double utf8\n\t\t//\t\t\t\t\t\tencoding. Once is good, twice isn't better.\n\t\t// if (xhrSupportsBinary) {\n\t\t// \t\txhr.setRequestHeader('x-CSP-SendAsBinary', 'true');\n\t\t// }\n\t\tsetTimeout(function() {\n\t\t\txhr[xhrSupportsBinary ? 'sendAsBinary' : 'send'](data || null)\n\t\t}, 0);\n\t};\n});\n\nvar EMPTY_FUNCTION = function() {},\n\tSLICE = Array.prototype.slice;\n\ntransports.jsonp=__class__;transports.jsonp=transports.jsonp(function transports_jsonp(){return this.init&&this.init.apply(this,arguments)},baseTransport, function(supr) {\n\tvar doc;\n\t\n\tvar createIframe = function() {\n\t\tvar doc = exports.getDoc();\n\t\tif (!doc.body) { return false; }\n\t\t\n\t\tvar i = doc.createElement(\"iframe\");\n\t\twith(i.style) { display = 'block'; width = height = border = margin = padding = '0'; overflow = visibility = 'hidden'; position = 'absolute'; top = left = '-999px'; }\n\t\ti.cbId = 0;\n\t\tdoc.body.appendChild(i);\n\t\ti.src = 'about:blank';\n\t\treturn i;\n\t};\n\n\tvar cleanupIframe = function(ifr) {\n\t\tvar win = ifr.contentWindow, doc = win.document;\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'removing script tags');\n\t\t\n\t\tvar scripts = doc.getElementsByTagName('script');\n\t\tfor (var i = scripts.length - 1; i >= 0; --i) {\n\t\t\tdoc.body.removeChild(scripts[i]);\n\t\t}\n\t\t\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'deleting iframe callbacks');\n\t\twin['cb' + ifr.cbId] = win['eb' + ifr.cbId] = EMPTY_FUNCTION;\n\t};\n\n\tvar removeIframe = function(ifr) {\n\t\tsetTimeout(function() {\n\t\t\tif(ifr && ifr.parentNode) { ifr.parentNode.removeChild(ifr); }\n\t\t}, 60000);\n\t};\n\n\tthis.init = function() {\n\t\tsupr(this, 'init');\n\n\t\tthis._onReady = [];\n\t\tthis._isReady = false;\n\n\t\tthis._createIframes();\n\t};\n\n\tthis._createIframes = function() {\n\t\tthis._ifr = {\n\t\t\tsend: createIframe(),\n\t\t\tcomet: createIframe()\n\t\t};\n\t\t\n\t\tif(this._ifr.send === false) { return setTimeout(bind(this, '_createIframes'), 100); }\n\t\t\n\t\tthis._isReady = true;\n\n\t\tvar readyArgs = this._onReady;\n\t\tthis._onReady = [];\n\t\tfor(var i = 0, args; args = readyArgs[i]; ++i) {\n\t\t\tthis._makeRequest.apply(this, args);\n\t\t}\n\t};\n\n\tthis.encodePacket = function(packetId, data, options) {\n\t\treturn [ packetId, 1, base64.encode(data) ];\n\t};\n\n\tthis.abort = function() {\n\t\tthis._aborted = true;\n\t\tfor(var i in this._ifr) {\n\t\t\tif(this._ifr.hasOwnProperty(i)) {\n\t\t\t\tvar ifr = this._ifr[i];\n\t\t\t\tcleanupIframe(ifr);\n\t\t\t\tremoveIframe(ifr);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tthis._makeRequest = function(rType, url, args, data, cb, eb) {\n\t\tif(!this._isReady) { return this._onReady.push(arguments); }\n\t\t\n\t\tvar ifr = this._ifr[rType],\n\t\t\tid = ++ifr.cbId,\n\t\t\treq = {\n\t\t\t\ttype: rType,\n\t\t\t\tid: id,\n\t\t\t\tcb: cb,\n\t\t\t\teb: eb,\n\t\t\t\tcbName: 'cb' + id,\n\t\t\t\tebName: 'eb' + id,\n\t\t\t\tcompleted: false\n\t\t\t};\n\t\t\n\t\targs.d = data;\n\t\targs.n = Math.random();\t\n\t\tswitch(rType) {\n\t\t\tcase 'send': args.rs = ';'; args.rp = req.cbName; break;\n\t\t\tcase 'comet': args.bs = ';'; args.bp = req.cbName; break;\n\t\t}\n\t\t\n\t\treq.url = url + '?' + uri.buildQuery(args)\n\t\t\n\t\tsetTimeout(bind(this, '_request', req), 0);\n\t}\n\t\n\tthis._request = function(req) {\n\t\tvar ifr = this._ifr[req.type],\n\t\t\twin = ifr.contentWindow,\n\t\t\tdoc = win.document,\n\t\t\tbody = doc.body;\n                /*added by skysbird for opera support*/\n                if (!body){return setTimeout(bind(this,'_request',req),100); }\n\t\twin[req.ebName] = bind(this, checkForError, req);\n\t\twin[req.cbName] = bind(this, onSuccess, req);\n\t\t\n\t\tif(BrowserDetect.isWebKit) {\n\t\t\t// this will probably cause loading bars in Safari -- might want to rethink?\n\t\t\tdoc.open();\n\t\t\tdoc.write('<scr'+'ipt src=\"'+req.url+'\"></scr'+'ipt><scr'+'ipt>'+ebName+'(false)</scr'+'ipt>');\n\t\t\tdoc.close();\n\t\t} else {\n\t\t\tvar s = doc.createElement('script');\n\t\t\ts.src = req.url;\n\t\t\t\n\t\t\t// IE\n\t\t\tif(s.onreadystatechange === null) { s.onreadystatechange = bind(this, onReadyStateChange, req, s); }\n\t\t\tbody.appendChild(s);\n\t\t\t\n\t\t\tif(!BrowserDetect.isIE) {\n\t\t\t\tvar s = doc.createElement('script');\n\t\t\t\ts.innerHTML = req.ebName+'(false)';\n\t\t\t\tbody.appendChild(s);\n\t\t\t}\n\t\t}\n\t\t\n\t\tkillLoadingBar();\n\t};\n\t\n\tfunction onSuccess(req, response) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'successful: ', req.url, response);\n\t\treq.completed = true;\n\t\t\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'calling the cb');\n\t\treq.cb.call(GLOBAL, {status: 200, response: response});\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'cb called');\n\t}\n\t\n\t// IE6/7 onReadyStateChange\n\tfunction onReadyStateChange(req, scriptTag) {\n\t\tif (scriptTag && scriptTag.readyState != 'loaded') { return; }\n\t\tscriptTag.onreadystatechange = function() {};\n\t\tcheckForError.call(this, req);\n\t}\n\n\tfunction checkForError(req, response) {\n\t\tcleanupIframe(this._ifr[req.type]);\n\t\t\n\t\tif (!req.completed) {\n\t\t\tvar data = {\n\t\t\t\tstatus: response ? 200 : 404,\n\t\t\t\tresponse: response || 'Unable to load resouce'\n\t\t\t};\n\t\t\t\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'error making request:', req.url, data);\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".transports\",'calling eb');\n\t\t\treq.eb.call(GLOBAL, data);\n\t\t}\n\t}\n\t\n\tvar killLoadingBar = BrowserDetect.isFirefox || BrowserDetect.isOpera ? function() {\n\t\tvar b = document.body;\n\t\tif (!b) { return; }\n\t\t\n\t\tif (!killLoadingBar.iframe) { killLoadingBar.iframe = document.createElement('iframe'); }\n\t\tb.insertBefore(killLoadingBar.iframe, b.firstChild);\n\t\tb.removeChild(killLoadingBar.iframe);\n\t} : function() {};\n});\n\t\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/util/browserdetect.js": {
            "path": "../node_modules\\jsio\\packages/util/browserdetect.js",
            "friendlyPath": "util.browserdetect",
            "directory": "../node_modules\\jsio\\packages/util",
            "filename": "browserdetect.js",
            "src": "exports.BrowserDetect = new function() {\n\tvar versionSearchString;\n\tvar dataBrowser = [\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Chrome\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"OmniWeb\",\n\t\t\tversionSearch: \"OmniWeb/\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"Apple\",\n\t\t\tidentity: \"Safari\",\n\t\t\tversionSearch: \"Version\"\n\t\t},\n\t\t{\n\t\t\tprop: window.opera,\n\t\t\tidentity: \"Opera\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"iCab\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"KDE\",\n\t\t\tidentity: \"Konqueror\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Firefox\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: \"Camino\"\n\t\t},\n\t\t{\t\t// for newer Netscapes (6+)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Netscape\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"MSIE\",\n\t\t\tidentity: \"IE\",\n\t\t\tversionSearch: \"MSIE\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Gecko\",\n\t\t\tidentity: \"Mozilla\",\n\t\t\tversionSearch: \"rv\"\n\t\t},\n\t\t{ \t\t// for older Netscapes (4-)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"Mozilla\",\n\t\t\tidentity: \"Netscape\",\n\t\t\tversionSearch: \"Mozilla\"\n\t\t}\n\t];\n\t\n\tvar dataOS = [\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: \"Win\",\n\t\t\tidentity: \"Windows\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: \"Mac\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: \"iPhone\",\n\t\t\tidentity: \"iPhone/iPod\"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: \"Linux\"\n\t\t}\n\t];\n\t\n\tfunction searchString(data) {\n\t\tfor (var i=0,item;item=data[i];i++)\t{\n\t\t\tvar dataString = item.string;\n\t\t\tvar dataProp = item.prop;\n\t\t\titem.identity = item.identity || item.subString;\n\t\t\tversionSearchString = item.versionSearch || item.identity;\n\t\t\tif (dataString) {\n\t\t\t\tif (dataString.indexOf(item.subString) != -1)\n\t\t\t\t\treturn item.identity;\n\t\t\t} else if (dataProp)\n\t\t\t\treturn item.identity;\n\t\t}\n\t}\n\t\n\tfunction searchVersion(dataString) {\n        if (dataString && typeof dataString === 'string') {\n            var index = dataString.indexOf(versionSearchString);\n            if (index == -1) return;\n            return parseFloat(dataString.substring(index+versionSearchString.length+1));\n        }\n        return;\n\t}\n\t\n\tthis.browser = searchString(dataBrowser) || \"unknown\";\n\tthis.version = searchVersion(navigator.userAgent)\n\t\t|| searchVersion(navigator.appVersion)\n\t\t|| \"unknown\";\n\tthis.OS = searchString(dataOS) || \"unknown\";\n\tthis.isWebKit = RegExp(\" AppleWebKit/\").test(navigator.userAgent);\n\tthis['is'+this.browser] = this.version;\n};\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/env/browser/postmessage.js": {
            "path": "../node_modules\\jsio\\packages/net/env/browser/postmessage.js",
            "friendlyPath": "net.env.browser.postmessage",
            "directory": "../node_modules\\jsio\\packages/net/env/browser",
            "filename": "postmessage.js",
            "src": "jsio('import net.interfaces');\njsio('from util.browser import $');\njsio('import std.uuid');\n\n/**\n * @extends net.interfaces.Listener\n */\nexports.Listener=__class__;exports.Listener=exports.Listener(function exports_Listener(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Listener, function(supr) {\n\tvar ID = 0;\n\n\tthis.init = function() {\n\t\tsupr(this, 'init', arguments);\n\t\tthis._clients = {};\n\t\tif (!this._opts.clientUrl) {\n\t\t\tthis._opts.clientUrl = jsio.__dir + '/networkConsole.html';\n\t\t}\n\n\t\tthis._port = '' + (this._opts.port || '');\n\t}\n\n\tthis.listen = function() {\n\t\t$.onEvent(window, 'message', bind(this, '_onMessage'));\n\t}\n\n\tthis.getButton = function(url, text) {\n\t\tvar button = $({\n\t\t\ttagName: 'button',\n\t\t\ttext: text || 'launch client',\n\t\t\tclassName: 'clientButton'\n\t\t});\n\t\t$.onEvent(button, 'click', bind(this, 'openWindow', url || this._opts.clientUrl));\n\t\treturn button;\n\t}\n\n\tvar uniqueId = 1;\n\tthis.openWindow = function (url) {\n\t\tvar options = { menubar: 'no', location: 'no', toolbar: 'no',\n\t\t\twidth: 550, height: 350, // left: 200, top: 200,\n\t\t\tscrollbars: 'yes', status: 'yes', resizable: 'yes' };\n\n\t\tvar arr = [];\n\t\tfor (var i in options) { arr.push(i + '=' + options[i]) }\n\t\tvar win = window.open(url, 'W' + uniqueId++, arr.join(','));\n\t\twin.focus();\n\t}\n\n\tthis._onMessage = function (evt) {\n\t\tif (typeof evt.data != 'string' || this._port != evt.data.substring(0, this._port.length)) { return; }\n\t\tvar data = evt.data.substring(this._port.length);\n\n\t\ttry {\n\t\t\tdata = JSON.parse(data);\n\t\t} catch (e) {\n\t\t\tlogger.WARN&&console.warn(\"WARN\",\"net.env.browser.postmessage\",'invalid packet', evt.data);\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (data.type) {\n\t\t\tcase 'open':\n\t\t\t\tvar transport = this._clients[data.uid] = new exports.Transport(evt.source, this._port, data.uid);\n\t\t\t\tevt.source.postMessage(this._port + JSON.stringify({\"type\":\"open\", uid: data.uid}), '*');\n\t\t\t\tthis.onConnect(transport);\n\t\t\t\tbreak;\n\t\t\tcase 'data':\n\t\t\t\tvar transport = this._clients[data.uid];\n\t\t\t\tif (transport) { transport.onData(data.payload); }\n\t\t\t\tbreak;\n\t\t\tcase 'close':\n\t\t\t\tvar transport = this._clients[data.uid];\n\t\t\t\tif (transport) { transport.onClose(); }\n\t\t\t\tevt.source.postMessage(this._port + JSON.stringify({\"type\":\"close\", uid: data.uid}), '*');\n\t\t\t\tdelete this._clients[data.uid];\n\t\t\t\tbreak;\n\t\t}\n\t}\n});\n\n/**\n * @extends net.interfaces.Connector\n */\nexports.Connector=__class__;exports.Connector=exports.Connector(function exports_Connector(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Connector, function() {\n\tthis.connect = function() {\n\t\tthis._port = '' + (this._opts.port || '');\n\t\tthis._win = this._opts.win || window.opener || window.parent;\n\t\t$.onEvent(window, 'message', bind(this, '_onMessage'));\n\n\t\tthis._uid = std.uuid.uuid();\n\t\tthis._win.postMessage(this._port + JSON.stringify({type: 'open', uid: this._uid}), '*');\n\t}\n\n\tthis._onMessage = function(evt) {\n\t\tif (typeof evt.data != 'string' || this._port != evt.data.substring(0, this._port.length)) { return; }\n\t\tvar data = evt.data.substring(this._port.length);\n\n\t\t// At the moment, we include the uid in the data.  If we have many clients\n\t\t// on the same port with different UIDs then this would get expensive, but\n\t\t// this is a very rare use case for postmessage.\n\t\ttry {\n\t\t\tdata = JSON.parse(data);\n\t\t} catch (e) {\n\t\t\tlogger.WARN&&console.warn(\"WARN\",\"net.env.browser.postmessage\",'invalid packet', evt.data);\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (data.type) {\n\t\t\tcase 'open':\n\t\t\t\tthis._transport = new exports.Transport(evt.source, this._port, this._uid);\n\t\t\t\tthis.onConnect(this._transport);\n\t\t\t\tbreak;\n\t\t\tcase 'close':\n\t\t\t\tif (data.uid != this._uid) { return; }\n\t\t\t\tthis._transport.onClose();\n\t\t\t\tbreak;\n\t\t\tcase 'data':\n\t\t\t\tif (data.uid != this._uid) { return; }\n\t\t\t\tthis._transport.onData(data.payload);\n\t\t\t\tbreak;\n\t\t}\n\t}\n});\n\n/**\n * @extends net.interfaces.Transport\n */\nexports.Transport=__class__;exports.Transport=exports.Transport(function exports_Transport(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Transport, function() {\n\tthis.init = function (win, port, uid) {if (!uid) debugger\n\t\tthis._win = win;\n\t\tthis._port = port;\n\t\tthis._uid = uid; // unique identifier for clients\n\t}\n\n\tthis.makeConnection = function (protocol) {\n\t\tthis._protocol = protocol;\n\t}\n\n\tthis.write = function (data, encoding) {\n\t\tif (this.encoding == 'utf8') {\n\t\t\tthis._win.postMessage(this._port + JSON.stringify({type: 'data', uid: this._uid, payload: utf8.encode(data)}), '*');\n\t\t} else {\n\t\t\tthis._win.postMessage(this._port + JSON.stringify({type: 'data', uid: this._uid, payload: data}), '*');\n\t\t}\n\t}\n\n\tthis.loseConnection = function (protocol) {\n\t\tthis._win.postMessage(this._port + JSON.stringify({type: 'close', uid: this._uid, code: 301}), '*');\n\t}\n\n\tthis.onData = function () { this._protocol.dataReceived.apply(this._protocol, arguments); }\n\tthis.onClose = function () { this._protocol._connectionLost.apply(this._protocol, arguments); }\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/util/browser.js": {
            "path": "../node_modules\\jsio\\packages/util/browser.js",
            "friendlyPath": "util.browser",
            "directory": "../node_modules\\jsio\\packages/util",
            "filename": "browser.js",
            "src": "jsio('external .sizzle import Sizzle');\n\njsio('import math.geom.Rect');\n\nfunction isWindow(el) {\n\treturn el && !$.isElement(el) && $.isElement(el.document);\n}\n\nvar singleId = /^#([\\w-]+)$/;\n\nvar $ = exports.$ = function(selector, win) {\n\tswitch(typeof selector) {\n\t\tcase 'object':\n\t\t\tif ($.isElement(selector)) {\n\t\t\t\treturn $.remove(selector);\n\t\t\t} else if ($.isElement(selector.document && selector.document.body)) {\n\t\t\t\treturn $.size(selector);\n\t\t\t}\n\t\t\treturn $.create(selector);\n\t\tcase 'string':\n\t\t\tif (singleId.test(selector)) { return $.id(selector.substring(1), win); }\n\t\t\treturn Sizzle.apply(GLOBAL, arguments);\n\t}\n}\n\nvar DOM2 = typeof HTMLElement === \"object\";\n$.isElement = DOM2\n\t? function(el) { return el && el instanceof HTMLElement; }\n\t: function(el) { return el && typeof el.nodeType == 'number' && typeof el.nodeName == 'string' };\n\n$.id = function(id, win) { return typeof id == 'string' ? (win || window).document.getElementById(id) : id; }\n\n$.apply = function(el, params) {\n\tif (params.attrs) {\n\t\tfor(attr in params.attrs) {\n\t\t\tel.setAttribute(attr, params.attrs[attr]);\n\t\t}\n\t}\n\n\tif (params.id) { el.id = params.id; }\n\tif (params.style) { $.style(el, params.style); }\n\tif (params.src) { el.src = params.src; }\n\tif (params['class'] || params['className']) {\n\t\tel.className = params['class'] || params['className'];\n\t}\n\n\tvar parent = params.parent || params.parentNode;\n\tif (parent && params.first) {\n\t\t$.insertBefore(parent, el, parent.firstChild);\n\t} else if (params.before) {\n\t\t$.insertBefore(params.before.parentNode || parent, el, params.before);\n\t} else if (params.after) {\n\t\t$.insertAfter(params.after.parentNode || parent, el, params.after);\n\t} else if (parent) {\n\t\tparent.appendChild(el);\n\t}\n\n\tif ('html' in params) { el.innerHTML = params.html; }\n\tif ('text' in params) { $.setText(el, params.text); }\n\n\tif (params.children) {\n\t\tvar c = params.children;\n\t\tfor (var i = 0, n = c.length; i < n; ++i) {\n\t\t\tel.appendChild($.isElement(c[i]) ? c[i] : $(c[i]));\n\t\t}\n\t}\n\n\treturn el;\n}\n\n$.insertBefore = function(parentNode, el, beforeNode) {\n\tif (!parentNode || !el) { return; }\n\tif (beforeNode && beforeNode.parentNode == parentNode) {\n\t\tparentNode.insertBefore(el, beforeNode);\n\t} else {\n\t\tparentNode.appendChild(el);\n\t}\n}\n\n$.insertAfter = function(parentNode, el, afterNode) {\n\tif (!parentNode || !el) { return; }\n\tif (!afterNode || afterNode.parentNode != parentNode) {\n\t\t$.insertBefore(parentNode, el, parentNode.firstChild);\n\t} else if (!afterNode.nextSibling) {\n\t\tparentNode.appendChild(el);\n\t} else {\n\t\tparentNode.insertBefore(el, afterNode.nextSibling);\n\t}\n}\n\n$.create = function(params) {\n\tvar doc = ((params && params.win) || window).document;\n\tif (!params || typeof params == 'string') {\n\t\treturn doc.createElement(params || 'div');\n\t};\n\n\treturn $.apply(params.el || doc.createElement(params.tag || params.tagName || 'div'), params);\n}\n\n$.show = function(el, how) { $.id(el).style.display = how || 'block'; }\n$.hide = function(el) { $.id(el).style.display = 'none'; }\n\n// accepts an array or a space-delimited string of classNames\n$.addClass = function(el, classNames) {\n\tif (!el) { return; }\n\tvar el = $.id(el);\n\tif (typeof classNames == \"string\") {\n\t\tclassNames = classNames.split(' ');\n\t}\n\n\tvar current = ' ' + el.className + ' ';\n\tfor (var i = 0, len = classNames.length; i < len; ++i) {\n\t\tvar c = classNames[i];\n\t\tif (current.indexOf(' ' + c + ' ') == -1) {\n\t\t\tcurrent += c + ' ';\n\t\t}\n\t}\n\n\tel.className = current.replace(/^\\s+|\\s+$/g, '');\n\treturn $;\n}\n\n/* returns true if the given className is found in the list of\n * classes on the given element.\n */\n$.hasClass = function(el, className) {\n\tif (!el) { return false; }\n\n\tvar el = $.id(el);\n\tvar classNames = el.className.split(' ');\n\n\tfor (var i = 0, len = classNames.length; i < len; ++i) {\n\t\tif (classNames[i].trim() === className) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\n$.getTag = function(from, tag) { return from.getElementsByTagName(tag); }\n\n$.removeClass = function(el, classNames) {\n\tif (!el) { return; }\n\tvar el = $.id(el);\n\tel.className = (' ' + el.className + ' ')\n\t\t.replace(' ', '  ')\n\t\t.replace(new RegExp('( ' + classNames.replace('\\s+', ' | ').replace('-','\\-') + ' )', 'g'), ' ')\n\t\t.replace(/\\s+/, ' ')\n\t\t.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction ieGetAlpha(el) {\n\ttry {\n\t\treturn el.filters.item(\"alpha\");\n\t} catch(e) {}\n\n\ttry {\n\t\treturn el.filters.item(\"progid:DXImageTransform.Microsoft.Alpha\");\n\t} catch(e) {}\n\n\treturn null;\n}\n\n$.style = function(el, style) {\n\tif(el instanceof Array) {\n\t\tfor(var i = 0, o; o = el[i]; ++i) { $.style(o, style); }\n\t\treturn;\n\t}\n\n\tel = $.id(el);\n\tvar s = el.style;\n\tfor(prop in style) {\n\t\tswitch(prop) {\n\t\t\tcase 'styleFloat':\n\t\t\tcase 'cssFloat':\n\t\t\tcase 'float':\n\t\t\t\ts.styleFloat = s.cssFloat = style[prop];\n\t\t\t\tbreak;\n\t\t\tcase 'opacity':\n\t\t\t\ts.opacity = style[prop];\n\t\t\t\tif(el.filters) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar alpha = ieGetAlpha();\n\t\t\t\t\t\tvar opacity = style[prop] == 1 ? 99.99 : style[prop] * 100;\n\t\t\t\t\t\tif(!alpha) {\n\t\t\t\t\t\t\t// TODO: this might destroy any existing filters?\n\t\t\t\t\t\t\ts.filter = \"alpha(opacity=\" + opacity + \")\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talpha.Opacity = opacity;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'borderRadius':\n\t\t\t\ts.borderRadius = s.MozBorderRadius = style[prop];\n\t\t\t\tbreak;\n\t\t\tcase 'boxSizing':\n\t\t\t\ts.MsBoxSizing = s.MozBoxSizing = s.WebkitBoxSizing = style[prop];\n\t\t\tdefault:\n\t\t\t\ts[prop] = style[prop];\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\n$.onEvent = function(el, name, f) {\n\tif (typeof f != 'function') {\n\t\tf = bind.apply(GLOBAL, Array.prototype.slice.call(arguments, 2));\n\t}\n\n\tvar handler = f;\n\n\tel = $.id(el);\n\tif(el.addEventListener) {\n\t\tel.addEventListener(name, handler, false);\n\t} else {\n\t\thandler = function(e) {\n\t\t\tvar evt = e || window.event;\n\t\t\t// TODO: normalize the event object\n\t\t\tf(evt);\n\t\t};\n\n\t\tel.attachEvent('on' + name, handler);\n\t}\n\n\treturn bind($, 'removeEvent', el, name, handler);\n};\n\n$.removeEvent = function(el, name, f) {\n\tel = $.id(el);\n\tif (el.addEventListener) {\n\t\tel.removeEventListener(name, f, false);\n\t} else {\n\t\tel.detachEvent('on' + name, f);\n\t}\n}\n\n$.stopEvent = function(e) {\n\tif (e) {\n\t\te.cancelBubble = true;\n\t\tif(e.stopPropagation) e.stopPropagation();\n\t\tif(e.preventDefault) e.preventDefault();\n\t}\n}\n\n$.setText = function(el, text) {\n\tel = $.id(el);\n\ttext = String(text);\n\tif ('textContent' in el) {\n\t\tel.textContent = text;\n\t} else if ('innerText' in el) {\n\t\tel.innerText = text.replace(/\\n/g, ' ');\n\t} else {\n\t\tel.innerHTML = '';\n\t\tel.appendChild(document.createTextNode(text));\n\t}\n}\n\n$.setValue = function(el, value) {\n\tel = $.id(el);\n\tif ('value' in el) {\n\t\tel.value = value;\n\t} else if ('value' in el.firstChild) {\n\t\tel.firstChild.value = value;\n\t}\n};\n\n$.remove = function(el) {\n\tel = $.id(el);\n\tif(el && el.parentNode) {\n\t\tel.parentNode.removeChild(el);\n\t}\n}\n\n$.cursorPos = function(ev, el) {\n\tvar offset = $.pos(el);\n\toffset.top = ev.clientY - offset.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop);\n\toffset.left = ev.clientX - offset.left + (window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft);\n\treturn offset;\n}\n\n$.pos = function(el) {\n\tvar parent = el;\n\tvar offset = {top: 0, left: 0};\n\twhile(parent && parent != document.body) {\n\t\toffset.left += parent.offsetLeft;\n\t\toffset.top += parent.offsetTop;\n\t\twhile(parent.offsetParent != parent.parentNode) {\n\t\t\toffset.top -= parent.scrollTop; offset.left -= parent.scrollLeft;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\t\tparent = parent.offsetParent;\n\t}\n\treturn offset;\n}\n\n$.size = function(el) {\n\tif ($.isElement(el)) {\n\t\treturn {width: el.offsetWidth, height: el.offsetHeight};\n\t} else if (el.document) {\n\t\tvar doc = el.document.documentElement || el.document.body;\n\t\treturn new math.geom.Rect(\n\t\t\tdoc.offsetTop,\n\t\t\tdoc.offsetLeft,\n\t\t\tel.innerWidth || (doc.clientWidth || doc.clientWidth),\n\t\t\tel.innerHeight || (doc.clientHeight || doc.clientHeight)\n\t\t);\n\t}\n}\n\n$.insertCSSFile = function(filename) {\n\tdocument.getElementsByTagName('head')[0].appendChild($({\n\t\ttag: 'link',\n\t\tattrs: {\n\t\t\trel: 'stylesheet',\n\t\t\ttype: 'text/css',\n\t\t\thref: filename\n\t\t}\n\t}));\n}\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/util/sizzle.js": {
            "path": "../node_modules\\jsio\\packages/util/sizzle.js",
            "friendlyPath": ".sizzle",
            "directory": "../node_modules\\jsio\\packages/util",
            "filename": "sizzle.js",
            "src": "/*!\n * Sizzle CSS Selector Engine - v1.0\n *  Copyright 2009, The Dojo Foundation\n *  Released under the MIT, BSD, and GPL Licenses.\n *  More information: http://sizzlejs.com/\n */\n\nSizzle = (function(){\n\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^[\\]]*\\]|['\"][^'\"]*['\"]|[^[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?/g,\n\tdone = 0,\n\ttoString = Object.prototype.toString,\n\thasDuplicate = false;\n\nvar Sizzle = function(selector, context, results, seed) {\n\tresults = results || [];\n\tvar origContext = context = context || document;\n\n\tif ( context.nodeType !== 1 && context.nodeType !== 9 ) {\n\t\treturn [];\n\t}\n\t\n\tif ( !selector || typeof selector !== \"string\" ) {\n\t\treturn results;\n\t}\n\n\tvar parts = [], m, set, checkSet, check, mode, extra, prune = true, contextXML = isXML(context);\n\t\n\t// Reset the position of the chunker regexp (start from head)\n\tchunker.lastIndex = 0;\n\t\n\twhile ( (m = chunker.exec(selector)) !== null ) {\n\t\tparts.push( m[1] );\n\t\t\n\t\tif ( m[2] ) {\n\t\t\textra = RegExp.rightContext;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ( parts.length > 1 && origPOS.exec( selector ) ) {\n\t\tif ( parts.length === 2 && Expr.relative[ parts[0] ] ) {\n\t\t\tset = posProcess( parts[0] + parts[1], context );\n\t\t} else {\n\t\t\tset = Expr.relative[ parts[0] ] ?\n\t\t\t\t[ context ] :\n\t\t\t\tSizzle( parts.shift(), context );\n\n\t\t\twhile ( parts.length ) {\n\t\t\t\tselector = parts.shift();\n\n\t\t\t\tif ( Expr.relative[ selector ] )\n\t\t\t\t\tselector += parts.shift();\n\n\t\t\t\tset = posProcess( selector, set );\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// Take a shortcut and set the context if the root selector is an ID\n\t\t// (but not if it'll be faster if the inner selector is an ID)\n\t\tif ( !seed && parts.length > 1 && context.nodeType === 9 && !contextXML &&\n\t\t\t\tExpr.match.ID.test(parts[0]) && !Expr.match.ID.test(parts[parts.length - 1]) ) {\n\t\t\tvar ret = Sizzle.find( parts.shift(), context, contextXML );\n\t\t\tcontext = ret.expr ? Sizzle.filter( ret.expr, ret.set )[0] : ret.set[0];\n\t\t}\n\n\t\tif ( context ) {\n\t\t\tvar ret = seed ?\n\t\t\t\t{ expr: parts.pop(), set: makeArray(seed) } :\n\t\t\t\tSizzle.find( parts.pop(), parts.length === 1 && (parts[0] === \"~\" || parts[0] === \"+\") && context.parentNode ? context.parentNode : context, contextXML );\n\t\t\tset = ret.expr ? Sizzle.filter( ret.expr, ret.set ) : ret.set;\n\n\t\t\tif ( parts.length > 0 ) {\n\t\t\t\tcheckSet = makeArray(set);\n\t\t\t} else {\n\t\t\t\tprune = false;\n\t\t\t}\n\n\t\t\twhile ( parts.length ) {\n\t\t\t\tvar cur = parts.pop(), pop = cur;\n\n\t\t\t\tif ( !Expr.relative[ cur ] ) {\n\t\t\t\t\tcur = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tpop = parts.pop();\n\t\t\t\t}\n\n\t\t\t\tif ( pop == null ) {\n\t\t\t\t\tpop = context;\n\t\t\t\t}\n\n\t\t\t\tExpr.relative[ cur ]( checkSet, pop, contextXML );\n\t\t\t}\n\t\t} else {\n\t\t\tcheckSet = parts = [];\n\t\t}\n\t}\n\n\tif ( !checkSet ) {\n\t\tcheckSet = set;\n\t}\n\n\tif ( !checkSet ) {\n\t\tthrow \"Syntax error, unrecognized expression: \" + (cur || selector);\n\t}\n\n\tif ( toString.call(checkSet) === \"[object Array]\" ) {\n\t\tif ( !prune ) {\n\t\t\tresults.push.apply( results, checkSet );\n\t\t} else if ( context && context.nodeType === 1 ) {\n\t\t\tfor ( var i = 0; checkSet[i] != null; i++ ) {\n\t\t\t\tif ( checkSet[i] && (checkSet[i] === true || checkSet[i].nodeType === 1 && contains(context, checkSet[i])) ) {\n\t\t\t\t\tresults.push( set[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( var i = 0; checkSet[i] != null; i++ ) {\n\t\t\t\tif ( checkSet[i] && checkSet[i].nodeType === 1 ) {\n\t\t\t\t\tresults.push( set[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tmakeArray( checkSet, results );\n\t}\n\n\tif ( extra ) {\n\t\tSizzle( extra, origContext, results, seed );\n\t\tSizzle.uniqueSort( results );\n\t}\n\n\treturn results;\n};\n\nSizzle.uniqueSort = function(results){\n\tif ( sortOrder ) {\n\t\thasDuplicate = false;\n\t\tresults.sort(sortOrder);\n\n\t\tif ( hasDuplicate ) {\n\t\t\tfor ( var i = 1; i < results.length; i++ ) {\n\t\t\t\tif ( results[i] === results[i-1] ) {\n\t\t\t\t\tresults.splice(i--, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nSizzle.matches = function(expr, set){\n\treturn Sizzle(expr, null, null, set);\n};\n\nSizzle.find = function(expr, context, isXML){\n\tvar set, match;\n\n\tif ( !expr ) {\n\t\treturn [];\n\t}\n\n\tfor ( var i = 0, l = Expr.order.length; i < l; i++ ) {\n\t\tvar type = Expr.order[i], match;\n\t\t\n\t\tif ( (match = Expr.match[ type ].exec( expr )) ) {\n\t\t\tvar left = RegExp.leftContext;\n\n\t\t\tif ( left.substr( left.length - 1 ) !== \"\\\\\" ) {\n\t\t\t\tmatch[1] = (match[1] || \"\").replace(/\\\\/g, \"\");\n\t\t\t\tset = Expr.find[ type ]( match, context, isXML );\n\t\t\t\tif ( set != null ) {\n\t\t\t\t\texpr = expr.replace( Expr.match[ type ], \"\" );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( !set ) {\n\t\tset = context.getElementsByTagName(\"*\");\n\t}\n\n\treturn {set: set, expr: expr};\n};\n\nSizzle.filter = function(expr, set, inplace, not){\n\tvar old = expr, result = [], curLoop = set, match, anyFound,\n\t\tisXMLFilter = set && set[0] && isXML(set[0]);\n\n\twhile ( expr && set.length ) {\n\t\tfor ( var type in Expr.filter ) {\n\t\t\tif ( (match = Expr.match[ type ].exec( expr )) != null ) {\n\t\t\t\tvar filter = Expr.filter[ type ], found, item;\n\t\t\t\tanyFound = false;\n\n\t\t\t\tif ( curLoop == result ) {\n\t\t\t\t\tresult = [];\n\t\t\t\t}\n\n\t\t\t\tif ( Expr.preFilter[ type ] ) {\n\t\t\t\t\tmatch = Expr.preFilter[ type ]( match, curLoop, inplace, result, not, isXMLFilter );\n\n\t\t\t\t\tif ( !match ) {\n\t\t\t\t\t\tanyFound = found = true;\n\t\t\t\t\t} else if ( match === true ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( match ) {\n\t\t\t\t\tfor ( var i = 0; (item = curLoop[i]) != null; i++ ) {\n\t\t\t\t\t\tif ( item ) {\n\t\t\t\t\t\t\tfound = filter( item, match, i, curLoop );\n\t\t\t\t\t\t\tvar pass = not ^ !!found;\n\n\t\t\t\t\t\t\tif ( inplace && found != null ) {\n\t\t\t\t\t\t\t\tif ( pass ) {\n\t\t\t\t\t\t\t\t\tanyFound = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcurLoop[i] = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( pass ) {\n\t\t\t\t\t\t\t\tresult.push( item );\n\t\t\t\t\t\t\t\tanyFound = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( found !== undefined ) {\n\t\t\t\t\tif ( !inplace ) {\n\t\t\t\t\t\tcurLoop = result;\n\t\t\t\t\t}\n\n\t\t\t\t\texpr = expr.replace( Expr.match[ type ], \"\" );\n\n\t\t\t\t\tif ( !anyFound ) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Improper expression\n\t\tif ( expr == old ) {\n\t\t\tif ( anyFound == null ) {\n\t\t\t\tthrow \"Syntax error, unrecognized expression: \" + expr;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\told = expr;\n\t}\n\n\treturn curLoop;\n};\n\nvar Expr = Sizzle.selectors = {\n\torder: [ \"ID\", \"NAME\", \"TAG\" ],\n\tmatch: {\n\t\tID: /#((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,\n\t\tCLASS: /\\.((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,\n\t\tNAME: /\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)['\"]*\\]/,\n\t\tATTR: /\\[\\s*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(['\"]*)(.*?)\\3|)\\s*\\]/,\n\t\tTAG: /^((?:[\\w\\u00c0-\\uFFFF\\*_-]|\\\\.)+)/,\n\t\tCHILD: /:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+-]*)\\))?/,\n\t\tPOS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^-]|$)/,\n\t\tPSEUDO: /:((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)(?:\\((['\"]*)((?:\\([^\\)]+\\)|[^\\2\\(\\)]*)+)\\2\\))?/\n\t},\n\tattrMap: {\n\t\t\"class\": \"className\",\n\t\t\"for\": \"htmlFor\"\n\t},\n\tattrHandle: {\n\t\thref: function(elem){\n\t\t\treturn elem.getAttribute(\"href\");\n\t\t}\n\t},\n\trelative: {\n\t\t\"+\": function(checkSet, part, isXML){\n\t\t\tvar isPartStr = typeof part === \"string\",\n\t\t\t\tisTag = isPartStr && !/\\W/.test(part),\n\t\t\t\tisPartStrNotTag = isPartStr && !isTag;\n\n\t\t\tif ( isTag && !isXML ) {\n\t\t\t\tpart = part.toUpperCase();\n\t\t\t}\n\n\t\t\tfor ( var i = 0, l = checkSet.length, elem; i < l; i++ ) {\n\t\t\t\tif ( (elem = checkSet[i]) ) {\n\t\t\t\t\twhile ( (elem = elem.previousSibling) && elem.nodeType !== 1 ) {}\n\n\t\t\t\t\tcheckSet[i] = isPartStrNotTag || elem && elem.nodeName === part ?\n\t\t\t\t\t\telem || false :\n\t\t\t\t\t\telem === part;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( isPartStrNotTag ) {\n\t\t\t\tSizzle.filter( part, checkSet, true );\n\t\t\t}\n\t\t},\n\t\t\">\": function(checkSet, part, isXML){\n\t\t\tvar isPartStr = typeof part === \"string\";\n\n\t\t\tif ( isPartStr && !/\\W/.test(part) ) {\n\t\t\t\tpart = isXML ? part : part.toUpperCase();\n\n\t\t\t\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\n\t\t\t\t\tvar elem = checkSet[i];\n\t\t\t\t\tif ( elem ) {\n\t\t\t\t\t\tvar parent = elem.parentNode;\n\t\t\t\t\t\tcheckSet[i] = parent.nodeName === part ? parent : false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\n\t\t\t\t\tvar elem = checkSet[i];\n\t\t\t\t\tif ( elem ) {\n\t\t\t\t\t\tcheckSet[i] = isPartStr ?\n\t\t\t\t\t\t\telem.parentNode :\n\t\t\t\t\t\t\telem.parentNode === part;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( isPartStr ) {\n\t\t\t\t\tSizzle.filter( part, checkSet, true );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"\": function(checkSet, part, isXML){\n\t\t\tvar doneName = done++, checkFn = dirCheck;\n\n\t\t\tif ( !/\\W/.test(part) ) {\n\t\t\t\tvar nodeCheck = part = isXML ? part : part.toUpperCase();\n\t\t\t\tcheckFn = dirNodeCheck;\n\t\t\t}\n\n\t\t\tcheckFn(\"parentNode\", part, doneName, checkSet, nodeCheck, isXML);\n\t\t},\n\t\t\"~\": function(checkSet, part, isXML){\n\t\t\tvar doneName = done++, checkFn = dirCheck;\n\n\t\t\tif ( typeof part === \"string\" && !/\\W/.test(part) ) {\n\t\t\t\tvar nodeCheck = part = isXML ? part : part.toUpperCase();\n\t\t\t\tcheckFn = dirNodeCheck;\n\t\t\t}\n\n\t\t\tcheckFn(\"previousSibling\", part, doneName, checkSet, nodeCheck, isXML);\n\t\t}\n\t},\n\tfind: {\n\t\tID: function(match, context, isXML){\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && !isXML ) {\n\t\t\t\tvar m = context.getElementById(match[1]);\n\t\t\t\treturn m ? [m] : [];\n\t\t\t}\n\t\t},\n\t\tNAME: function(match, context, isXML){\n\t\t\tif ( typeof context.getElementsByName !== \"undefined\" ) {\n\t\t\t\tvar ret = [], results = context.getElementsByName(match[1]);\n\n\t\t\t\tfor ( var i = 0, l = results.length; i < l; i++ ) {\n\t\t\t\t\tif ( results[i].getAttribute(\"name\") === match[1] ) {\n\t\t\t\t\t\tret.push( results[i] );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn ret.length === 0 ? null : ret;\n\t\t\t}\n\t\t},\n\t\tTAG: function(match, context){\n\t\t\treturn context.getElementsByTagName(match[1]);\n\t\t}\n\t},\n\tpreFilter: {\n\t\tCLASS: function(match, curLoop, inplace, result, not, isXML){\n\t\t\tmatch = \" \" + match[1].replace(/\\\\/g, \"\") + \" \";\n\n\t\t\tif ( isXML ) {\n\t\t\t\treturn match;\n\t\t\t}\n\n\t\t\tfor ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\n\t\t\t\tif ( elem ) {\n\t\t\t\t\tif ( not ^ (elem.className && (\" \" + elem.className + \" \").indexOf(match) >= 0) ) {\n\t\t\t\t\t\tif ( !inplace )\n\t\t\t\t\t\t\tresult.push( elem );\n\t\t\t\t\t} else if ( inplace ) {\n\t\t\t\t\t\tcurLoop[i] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tID: function(match){\n\t\t\treturn match[1].replace(/\\\\/g, \"\");\n\t\t},\n\t\tTAG: function(match, curLoop){\n\t\t\tfor ( var i = 0; curLoop[i] === false; i++ ){}\n\t\t\treturn curLoop[i] && isXML(curLoop[i]) ? match[1] : match[1].toUpperCase();\n\t\t},\n\t\tCHILD: function(match){\n\t\t\tif ( match[1] == \"nth\" ) {\n\t\t\t\t// parse equations like 'even', 'odd', '5', '2n', '3n+2', '4n-1', '-n+6'\n\t\t\t\tvar test = /(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec(\n\t\t\t\t\tmatch[2] == \"even\" && \"2n\" || match[2] == \"odd\" && \"2n+1\" ||\n\t\t\t\t\t!/\\D/.test( match[2] ) && \"0n+\" + match[2] || match[2]);\n\n\t\t\t\t// calculate the numbers (first)n+(last) including if they are negative\n\t\t\t\tmatch[2] = (test[1] + (test[2] || 1)) - 0;\n\t\t\t\tmatch[3] = test[3] - 0;\n\t\t\t}\n\n\t\t\t// TODO: Move to normal caching system\n\t\t\tmatch[0] = done++;\n\n\t\t\treturn match;\n\t\t},\n\t\tATTR: function(match, curLoop, inplace, result, not, isXML){\n\t\t\tvar name = match[1].replace(/\\\\/g, \"\");\n\t\t\t\n\t\t\tif ( !isXML && Expr.attrMap[name] ) {\n\t\t\t\tmatch[1] = Expr.attrMap[name];\n\t\t\t}\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[4] = \" \" + match[4] + \" \";\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\t\tPSEUDO: function(match, curLoop, inplace, result, not){\n\t\t\tif ( match[1] === \"not\" ) {\n\t\t\t\t// If we're dealing with a complex expression, or a simple one\n\t\t\t\tif ( chunker.exec(match[3]).length > 1 || /^\\w/.test(match[3]) ) {\n\t\t\t\t\tmatch[3] = Sizzle(match[3], null, null, curLoop);\n\t\t\t\t} else {\n\t\t\t\t\tvar ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);\n\t\t\t\t\tif ( !inplace ) {\n\t\t\t\t\t\tresult.push.apply( result, ret );\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if ( Expr.match.POS.test( match[0] ) || Expr.match.CHILD.test( match[0] ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\treturn match;\n\t\t},\n\t\tPOS: function(match){\n\t\t\tmatch.unshift( true );\n\t\t\treturn match;\n\t\t}\n\t},\n\tfilters: {\n\t\tenabled: function(elem){\n\t\t\treturn elem.disabled === false && elem.type !== \"hidden\";\n\t\t},\n\t\tdisabled: function(elem){\n\t\t\treturn elem.disabled === true;\n\t\t},\n\t\tchecked: function(elem){\n\t\t\treturn elem.checked === true;\n\t\t},\n\t\tselected: function(elem){\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\telem.parentNode.selectedIndex;\n\t\t\treturn elem.selected === true;\n\t\t},\n\t\tparent: function(elem){\n\t\t\treturn !!elem.firstChild;\n\t\t},\n\t\tempty: function(elem){\n\t\t\treturn !elem.firstChild;\n\t\t},\n\t\thas: function(elem, i, match){\n\t\t\treturn !!Sizzle( match[3], elem ).length;\n\t\t},\n\t\theader: function(elem){\n\t\t\treturn /h\\d/i.test( elem.nodeName );\n\t\t},\n\t\ttext: function(elem){\n\t\t\treturn \"text\" === elem.type;\n\t\t},\n\t\tradio: function(elem){\n\t\t\treturn \"radio\" === elem.type;\n\t\t},\n\t\tcheckbox: function(elem){\n\t\t\treturn \"checkbox\" === elem.type;\n\t\t},\n\t\tfile: function(elem){\n\t\t\treturn \"file\" === elem.type;\n\t\t},\n\t\tpassword: function(elem){\n\t\t\treturn \"password\" === elem.type;\n\t\t},\n\t\tsubmit: function(elem){\n\t\t\treturn \"submit\" === elem.type;\n\t\t},\n\t\timage: function(elem){\n\t\t\treturn \"image\" === elem.type;\n\t\t},\n\t\treset: function(elem){\n\t\t\treturn \"reset\" === elem.type;\n\t\t},\n\t\tbutton: function(elem){\n\t\t\treturn \"button\" === elem.type || elem.nodeName.toUpperCase() === \"BUTTON\";\n\t\t},\n\t\tinput: function(elem){\n\t\t\treturn /input|select|textarea|button/i.test(elem.nodeName);\n\t\t}\n\t},\n\tsetFilters: {\n\t\tfirst: function(elem, i){\n\t\t\treturn i === 0;\n\t\t},\n\t\tlast: function(elem, i, match, array){\n\t\t\treturn i === array.length - 1;\n\t\t},\n\t\teven: function(elem, i){\n\t\t\treturn i % 2 === 0;\n\t\t},\n\t\todd: function(elem, i){\n\t\t\treturn i % 2 === 1;\n\t\t},\n\t\tlt: function(elem, i, match){\n\t\t\treturn i < match[3] - 0;\n\t\t},\n\t\tgt: function(elem, i, match){\n\t\t\treturn i > match[3] - 0;\n\t\t},\n\t\tnth: function(elem, i, match){\n\t\t\treturn match[3] - 0 == i;\n\t\t},\n\t\teq: function(elem, i, match){\n\t\t\treturn match[3] - 0 == i;\n\t\t}\n\t},\n\tfilter: {\n\t\tPSEUDO: function(elem, match, i, array){\n\t\t\tvar name = match[1], filter = Expr.filters[ name ];\n\n\t\t\tif ( filter ) {\n\t\t\t\treturn filter( elem, i, match, array );\n\t\t\t} else if ( name === \"contains\" ) {\n\t\t\t\treturn (elem.textContent || elem.innerText || \"\").indexOf(match[3]) >= 0;\n\t\t\t} else if ( name === \"not\" ) {\n\t\t\t\tvar not = match[3];\n\n\t\t\t\tfor ( var i = 0, l = not.length; i < l; i++ ) {\n\t\t\t\t\tif ( not[i] === elem ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\t\tCHILD: function(elem, match){\n\t\t\tvar type = match[1], node = elem;\n\t\t\tswitch (type) {\n\t\t\t\tcase 'only':\n\t\t\t\tcase 'first':\n\t\t\t\t\twhile ( (node = node.previousSibling) )  {\n\t\t\t\t\t\tif ( node.nodeType === 1 ) return false;\n\t\t\t\t\t}\n\t\t\t\t\tif ( type == 'first') return true;\n\t\t\t\t\tnode = elem;\n\t\t\t\tcase 'last':\n\t\t\t\t\twhile ( (node = node.nextSibling) )  {\n\t\t\t\t\t\tif ( node.nodeType === 1 ) return false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\tcase 'nth':\n\t\t\t\t\tvar first = match[2], last = match[3];\n\n\t\t\t\t\tif ( first == 1 && last == 0 ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar doneName = match[0],\n\t\t\t\t\t\tparent = elem.parentNode;\n\t\n\t\t\t\t\tif ( parent && (parent.sizcache !== doneName || !elem.nodeIndex) ) {\n\t\t\t\t\t\tvar count = 0;\n\t\t\t\t\t\tfor ( node = parent.firstChild; node; node = node.nextSibling ) {\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\n\t\t\t\t\t\t\t\tnode.nodeIndex = ++count;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\tparent.sizcache = doneName;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar diff = elem.nodeIndex - last;\n\t\t\t\t\tif ( first == 0 ) {\n\t\t\t\t\t\treturn diff == 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn ( diff % first == 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tID: function(elem, match){\n\t\t\treturn elem.nodeType === 1 && elem.getAttribute(\"id\") === match;\n\t\t},\n\t\tTAG: function(elem, match){\n\t\t\treturn (match === \"*\" && elem.nodeType === 1) || elem.nodeName === match;\n\t\t},\n\t\tCLASS: function(elem, match){\n\t\t\treturn (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n\t\t\t\t.indexOf( match ) > -1;\n\t\t},\n\t\tATTR: function(elem, match){\n\t\t\tvar name = match[1],\n\t\t\t\tresult = Expr.attrHandle[ name ] ?\n\t\t\t\t\tExpr.attrHandle[ name ]( elem ) :\n\t\t\t\t\telem[ name ] != null ?\n\t\t\t\t\t\telem[ name ] :\n\t\t\t\t\t\telem.getAttribute( name ),\n\t\t\t\tvalue = result + \"\",\n\t\t\t\ttype = match[2],\n\t\t\t\tcheck = match[4];\n\n\t\t\treturn result == null ?\n\t\t\t\ttype === \"!=\" :\n\t\t\t\ttype === \"=\" ?\n\t\t\t\tvalue === check :\n\t\t\t\ttype === \"*=\" ?\n\t\t\t\tvalue.indexOf(check) >= 0 :\n\t\t\t\ttype === \"~=\" ?\n\t\t\t\t(\" \" + value + \" \").indexOf(check) >= 0 :\n\t\t\t\t!check ?\n\t\t\t\tvalue && result !== false :\n\t\t\t\ttype === \"!=\" ?\n\t\t\t\tvalue != check :\n\t\t\t\ttype === \"^=\" ?\n\t\t\t\tvalue.indexOf(check) === 0 :\n\t\t\t\ttype === \"$=\" ?\n\t\t\t\tvalue.substr(value.length - check.length) === check :\n\t\t\t\ttype === \"|=\" ?\n\t\t\t\tvalue === check || value.substr(0, check.length + 1) === check + \"-\" :\n\t\t\t\tfalse;\n\t\t},\n\t\tPOS: function(elem, match, i, array){\n\t\t\tvar name = match[2], filter = Expr.setFilters[ name ];\n\n\t\t\tif ( filter ) {\n\t\t\t\treturn filter( elem, i, match, array );\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar origPOS = Expr.match.POS;\n\nfor ( var type in Expr.match ) {\n\tExpr.match[ type ] = new RegExp( Expr.match[ type ].source + /(?![^\\[]*\\])(?![^\\(]*\\))/.source );\n}\n\nvar makeArray = function(array, results) {\n\tarray = Array.prototype.slice.call( array, 0 );\n\n\tif ( results ) {\n\t\tresults.push.apply( results, array );\n\t\treturn results;\n\t}\n\t\n\treturn array;\n};\n\n// Perform a simple check to determine if the browser is capable of\n// converting a NodeList to an array using builtin methods.\ntry {\n\tArray.prototype.slice.call( document.documentElement.childNodes, 0 );\n\n// Provide a fallback method if it does not work\n} catch(e){\n\tmakeArray = function(array, results) {\n\t\tvar ret = results || [];\n\n\t\tif ( toString.call(array) === \"[object Array]\" ) {\n\t\t\tArray.prototype.push.apply( ret, array );\n\t\t} else {\n\t\t\tif ( typeof array.length === \"number\" ) {\n\t\t\t\tfor ( var i = 0, l = array.length; i < l; i++ ) {\n\t\t\t\t\tret.push( array[i] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( var i = 0; array[i]; i++ ) {\n\t\t\t\t\tret.push( array[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t};\n}\n\nvar sortOrder;\n\nif ( document.documentElement.compareDocumentPosition ) {\n\tsortOrder = function( a, b ) {\n\t\tvar ret = a.compareDocumentPosition(b) & 4 ? -1 : a === b ? 0 : 1;\n\t\tif ( ret === 0 ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn ret;\n\t};\n} else if ( \"sourceIndex\" in document.documentElement ) {\n\tsortOrder = function( a, b ) {\n\t\tvar ret = a.sourceIndex - b.sourceIndex;\n\t\tif ( ret === 0 ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn ret;\n\t};\n} else if ( document.createRange ) {\n\tsortOrder = function( a, b ) {\n\t\tvar aRange = a.ownerDocument.createRange(), bRange = b.ownerDocument.createRange();\n\t\taRange.selectNode(a);\n\t\taRange.collapse(true);\n\t\tbRange.selectNode(b);\n\t\tbRange.collapse(true);\n\t\tvar ret = aRange.compareBoundaryPoints(Range.START_TO_END, bRange);\n\t\tif ( ret === 0 ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn ret;\n\t};\n}\n\n// Check to see if the browser returns elements by name when\n// querying by getElementById (and provide a workaround)\n(function(){\n\t// We're going to inject a fake input element with a specified name\n\tvar form = document.createElement(\"div\"),\n\t\tid = \"script\" + (new Date).getTime();\n\tform.innerHTML = \"<a name='\" + id + \"'/>\";\n\n\t// Inject it into the root element, check its status, and remove it quickly\n\tvar root = document.documentElement;\n\troot.insertBefore( form, root.firstChild );\n\n\t// The workaround has to do additional checks after a getElementById\n\t// Which slows things down for other browsers (hence the branching)\n\tif ( !!document.getElementById( id ) ) {\n\t\tExpr.find.ID = function(match, context, isXML){\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && !isXML ) {\n\t\t\t\tvar m = context.getElementById(match[1]);\n\t\t\t\treturn m ? m.id === match[1] || typeof m.getAttributeNode !== \"undefined\" && m.getAttributeNode(\"id\").nodeValue === match[1] ? [m] : undefined : [];\n\t\t\t}\n\t\t};\n\n\t\tExpr.filter.ID = function(elem, match){\n\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" && elem.getAttributeNode(\"id\");\n\t\t\treturn elem.nodeType === 1 && node && node.nodeValue === match;\n\t\t};\n\t}\n\n\troot.removeChild( form );\n\troot = form = null; // release memory in IE\n})();\n\n(function(){\n\t// Check to see if the browser returns only elements\n\t// when doing getElementsByTagName(\"*\")\n\n\t// Create a fake element\n\tvar div = document.createElement(\"div\");\n\tdiv.appendChild( document.createComment(\"\") );\n\n\t// Make sure no comments are found\n\tif ( div.getElementsByTagName(\"*\").length > 0 ) {\n\t\tExpr.find.TAG = function(match, context){\n\t\t\tvar results = context.getElementsByTagName(match[1]);\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( match[1] === \"*\" ) {\n\t\t\t\tvar tmp = [];\n\n\t\t\t\tfor ( var i = 0; results[i]; i++ ) {\n\t\t\t\t\tif ( results[i].nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( results[i] );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresults = tmp;\n\t\t\t}\n\n\t\t\treturn results;\n\t\t};\n\t}\n\n\t// Check to see if an attribute returns normalized href attributes\n\tdiv.innerHTML = \"<a href='#'></a>\";\n\tif ( div.firstChild && typeof div.firstChild.getAttribute !== \"undefined\" &&\n\t\t\tdiv.firstChild.getAttribute(\"href\") !== \"#\" ) {\n\t\tExpr.attrHandle.href = function(elem){\n\t\t\treturn elem.getAttribute(\"href\", 2);\n\t\t};\n\t}\n\n\tdiv = null; // release memory in IE\n})();\n\nif ( document.querySelectorAll ) (function(){\n\tvar oldSizzle = Sizzle, div = document.createElement(\"div\");\n\tdiv.innerHTML = \"<p class='TEST'></p>\";\n\n\t// Safari can't handle uppercase or unicode characters when\n\t// in quirks mode.\n\tif ( div.querySelectorAll && div.querySelectorAll(\".TEST\").length === 0 ) {\n\t\treturn;\n\t}\n\t\n\tSizzle = function(query, context, extra, seed){\n\t\tcontext = context || document;\n\n\t\t// Only use querySelectorAll on non-XML documents\n\t\t// (ID selectors don't work in non-HTML documents)\n\t\tif ( !seed && context.nodeType === 9 && !isXML(context) ) {\n\t\t\ttry {\n\t\t\t\treturn makeArray( context.querySelectorAll(query), extra );\n\t\t\t} catch(e){}\n\t\t}\n\t\t\n\t\treturn oldSizzle(query, context, extra, seed);\n\t};\n\n\tfor ( var prop in oldSizzle ) {\n\t\tSizzle[ prop ] = oldSizzle[ prop ];\n\t}\n\n\tdiv = null; // release memory in IE\n})();\n\nif ( document.getElementsByClassName && document.documentElement.getElementsByClassName ) (function(){\n\tvar div = document.createElement(\"div\");\n\tdiv.innerHTML = \"<div class='test e'></div><div class='test'></div>\";\n\n\t// Opera can't find a second classname (in 9.6)\n\tif ( div.getElementsByClassName(\"e\").length === 0 )\n\t\treturn;\n\n\t// Safari caches class attributes, doesn't catch changes (in 3.2)\n\tdiv.lastChild.className = \"e\";\n\n\tif ( div.getElementsByClassName(\"e\").length === 1 )\n\t\treturn;\n\n\tExpr.order.splice(1, 0, \"CLASS\");\n\tExpr.find.CLASS = function(match, context, isXML) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\n\t\t\treturn context.getElementsByClassName(match[1]);\n\t\t}\n\t};\n\n\tdiv = null; // release memory in IE\n})();\n\nfunction dirNodeCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {\n\tvar sibDir = dir == \"previousSibling\" && !isXML;\n\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\n\t\tvar elem = checkSet[i];\n\t\tif ( elem ) {\n\t\t\tif ( sibDir && elem.nodeType === 1 ){\n\t\t\t\telem.sizcache = doneName;\n\t\t\t\telem.sizset = i;\n\t\t\t}\n\t\t\telem = elem[dir];\n\t\t\tvar match = false;\n\n\t\t\twhile ( elem ) {\n\t\t\t\tif ( elem.sizcache === doneName ) {\n\t\t\t\t\tmatch = checkSet[elem.sizset];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( elem.nodeType === 1 && !isXML ){\n\t\t\t\t\telem.sizcache = doneName;\n\t\t\t\t\telem.sizset = i;\n\t\t\t\t}\n\n\t\t\t\tif ( elem.nodeName === cur ) {\n\t\t\t\t\tmatch = elem;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\telem = elem[dir];\n\t\t\t}\n\n\t\t\tcheckSet[i] = match;\n\t\t}\n\t}\n}\n\nfunction dirCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {\n\tvar sibDir = dir == \"previousSibling\" && !isXML;\n\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\n\t\tvar elem = checkSet[i];\n\t\tif ( elem ) {\n\t\t\tif ( sibDir && elem.nodeType === 1 ) {\n\t\t\t\telem.sizcache = doneName;\n\t\t\t\telem.sizset = i;\n\t\t\t}\n\t\t\telem = elem[dir];\n\t\t\tvar match = false;\n\n\t\t\twhile ( elem ) {\n\t\t\t\tif ( elem.sizcache === doneName ) {\n\t\t\t\t\tmatch = checkSet[elem.sizset];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\tif ( !isXML ) {\n\t\t\t\t\t\telem.sizcache = doneName;\n\t\t\t\t\t\telem.sizset = i;\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof cur !== \"string\" ) {\n\t\t\t\t\t\tif ( elem === cur ) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( Sizzle.filter( cur, [elem] ).length > 0 ) {\n\t\t\t\t\t\tmatch = elem;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telem = elem[dir];\n\t\t\t}\n\n\t\t\tcheckSet[i] = match;\n\t\t}\n\t}\n}\n\nvar contains = document.compareDocumentPosition ?  function(a, b){\n\treturn a.compareDocumentPosition(b) & 16;\n} : function(a, b){\n\treturn a !== b && (a.contains ? a.contains(b) : true);\n};\n\nvar isXML = function(elem){\n\treturn elem.nodeType === 9 && elem.documentElement.nodeName !== \"HTML\" ||\n\t\t!!elem.ownerDocument && elem.ownerDocument.documentElement.nodeName !== \"HTML\";\n};\n\nvar posProcess = function(selector, context){\n\tvar tmpSet = [], later = \"\", match,\n\t\troot = context.nodeType ? [context] : context;\n\n\t// Position selectors must be done after the filter\n\t// And so must :not(positional) so we move all PSEUDOs to the end\n\twhile ( (match = Expr.match.PSEUDO.exec( selector )) ) {\n\t\tlater += match[0];\n\t\tselector = selector.replace( Expr.match.PSEUDO, \"\" );\n\t}\n\n\tselector = Expr.relative[selector] ? selector + \"*\" : selector;\n\n\tfor ( var i = 0, l = root.length; i < l; i++ ) {\n\t\tSizzle( selector, root[i], tmpSet );\n\t}\n\n\treturn Sizzle.filter( later, tmpSet );\n};\n\nreturn Sizzle;\n\n})();\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/math/geom/Rect.js": {
            "path": "../node_modules\\jsio\\packages/math/geom/Rect.js",
            "friendlyPath": "math.geom.Rect",
            "directory": "../node_modules\\jsio\\packages/math/geom",
            "filename": "Rect.js",
            "baseMod": "math",
            "basePath": "c:\\Users\\Surface\\cloud\\node_modules\\jsio\\packages/math",
            "src": "jsio('import lib.Enum');\njsio('import .Point');\njsio('import .Line');\njsio('import .intersect');\n\n/**\n * Model a rectangle.\n */\n\nvar c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Rect=__class__;var Rect = exports=c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Rect(function c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Rect(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(a, b, c, d) {\n\t\tswitch(arguments.length) {\n\t\t\tcase 0: // init\n\t\t\t\tthis.width = this.height = this.x = this.y = 0;\n\t\t\t\tbreak;\n\t\t\tcase 1: // copy\n\t\t\t\tthis.width = a.width;\n\t\t\t\tthis.height = a.height;\n\t\t\t\tthis.x = a.x;\n\t\t\t\tthis.y = a.y;\n\t\t\t\tbreak;\n\t\t\tcase 2: // (x, y), (width, height)\n\t\t\t\tthis.x = a.x;\n\t\t\t\tthis.y = a.y;\n\t\t\t\tthis.width = b.x;\n\t\t\t\tthis.height = b.y;\n\t\t\t\tbreak;\n\t\t\tcase 3: // (x, y), width, height\n\t\t\t\tthis.x = a.x;\n\t\t\t\tthis.y = a.y;\n\t\t\t\tthis.width = b;\n\t\t\t\tthis.height = c;\n\t\t\t\tbreak;\n\t\t\tcase 4: // x, y, width, height\n\t\t\t\tthis.x = a;\n\t\t\t\tthis.y = b;\n\t\t\t\tthis.width = c;\n\t\t\t\tthis.height = d;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Normalize negative height and width dimensions by adjusting the position\n\t * of the rect.\n\t */\n\t\n\tthis.normalize = function() {\n\t\tif (this.width < 0) {\n\t\t\tthis.x -= this.width;\n\t\t\tthis.width = -this.width;\n\t\t}\n\t\t\n\t\tif (this.height < 0) {\n\t\t\tthis.y -= this.height;\n\t\t\tthis.height = -this.height;\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Generate the intersection of a rectange with another rectangle.\n\t */\n\n\tthis.intersectRect = function (rect) {\n\t\tif (intersect.isRectAndRect(this, rect)) {\n\t\t\tvar x1 = this.x;\n\t\t\tvar y1 = this.y;\n\t\t\tvar x2 = this.x + this.width;\n\t\t\tvar y2 = this.y + this.height;\n\n\t\t\tthis.x = Math.max(x1, rect.x),\n\t\t\tthis.y = Math.max(y1, rect.y),\n\t\t\tthis.width = Math.min(x2, rect.x + rect.width) - this.x;\n\t\t\tthis.height = Math.min(y2, rect.y + rect.height) - this.y;\n\t\t} else {\n\t\t\tthis.width = 0;\n\t\t\tthis.height = 0;\n\t\t}\n\t}\n\t\n\t/**\n\t * Generate the union of a rectange with another rectangle.\n\t */\n\t\n\tthis.unionRect = function(rect) {\n\t\tthis.normalize();\n\t\tif (rect.normalize) { rect.normalize(); }\n\t\t\n\t\tvar x2 = this.x + this.width,\n\t\t\ty2 = this.y + this.height;\n\t\t\n\t\tvar rx2 = rect.x + rect.width,\n\t\t\try2 = rect.y + rect.height;\n\t\t\n\t\tthis.x = this.x < rect.x ? this.x : rect.x;\n\t\tthis.y = this.y < rect.y ? this.y : rect.y;\n\t\t\n\t\tthis.width = (x2 > rx2 ? x2 : rx2) - this.x;\n\t\tthis.height = (y2 > ry2 ? y2 : ry2) - this.y;\n\t};\n\n\t/**\n\t * Get a point for the given corner.\n\t */\n\t\n\tthis.getCorner = function(i) {\n\t\tswitch(i) {\n\t\t\tcase CORNERS.TOP_LEFT:\n\t\t\t\treturn new Point(this.x, this.y);\n\t\t\tcase CORNERS.TOP_RIGHT:\n\t\t\t\treturn new Point(this.x + this.width, this.y);\n\t\t\tcase CORNERS.BOTTOM_LEFT:\n\t\t\t\treturn new Point(this.x, this.y + this.height);\n\t\t\tcase CORNERS.BOTTOM_RIGHT:\n\t\t\t\treturn new Point(this.x + this.width, this.y + this.height);\n\t\t}\n\t}\n\t\n\t/**\n\t * Return a line corresponding to the given side.\n\t */\n\t\n\tthis.getSide = function(i) {\n\t\tswitch(i) {\n\t\t\tcase SIDES.TOP:\n\t\t\t\treturn new Line(this.getCorner(CORNERS.TOP_LEFT), this.getCorner(CORNERS.TOP_RIGHT));\n\t\t\tcase SIDES.RIGHT:\n\t\t\t\treturn new Line(this.getCorner(CORNERS.TOP_RIGHT), this.getCorner(CORNERS.BOTTOM_RIGHT));\n\t\t\tcase SIDES.BOTTOM:\n\t\t\t\treturn new Line(this.getCorner(CORNERS.BOTTOM_RIGHT), this.getCorner(CORNERS.BOTTOM_LEFT));\n\t\t\tcase SIDES.LEFT:\n\t\t\t\treturn new Line(this.getCorner(CORNERS.BOTTOM_LEFT), this.getCorner(CORNERS.TOP_LEFT));\n\t\t}\n\t}\n\n\t/**\n\t * Return the center point of a rectangle.\n\t */\n\t\n\tthis.getCenter = function() {\n\t\treturn new Point(this.x + this.width / 2, this.y + this.height / 2);\n\t}\n});\n\nvar SIDES = Rect.SIDES = lib.Enum('TOP', 'BOTTOM', 'LEFT', 'RIGHT');\nvar CORNERS = Rect.CORNERS = lib.Enum('TOP_LEFT', 'TOP_RIGHT', 'BOTTOM_RIGHT', 'BOTTOM_LEFT');\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/math/geom/Point.js": {
            "path": "../node_modules\\jsio\\packages/math/geom/Point.js",
            "friendlyPath": ".Point",
            "directory": "../node_modules\\jsio\\packages/math/geom",
            "filename": "Point.js",
            "src": "/**\n * @package math.geom.Point;\n * Models a Point in 2D space.\n */\n\nvar c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Point=__class__;var Point = exports=c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Point(function c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Point(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(a, b) {\n\t\tswitch(arguments.length) {\n\t\t\tcase 0:\n\t\t\t\tthis.x = 0;\n\t\t\t\tthis.y = 0;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.x = a.x || 0;\n\t\t\t\tthis.y = a.y || 0;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.x = a || 0;\n\t\t\t\tthis.y = b || 0;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Rotates this point around the origin by a value in radians.\n\t */\n\t\n\tthis.rotate = function(r) {\n\t\tvar x = this.x,\n\t\t\ty = this.y,\n\t\t\tcosr = Math.cos(r),\n\t\t\tsinr = Math.sin(r);\n\t\t\n\t\tthis.x = x * cosr - y * sinr;\n\t\tthis.y = x * sinr + y * cosr;\n\t\t\n\t\treturn this;\n\t}\n\n\t/**\n\t * Translate this point by two scalars or by another point.\n\t */\n\t\n\tthis.translate = this.add = function(x, y) {\n\t\tif (typeof x == 'number') {\n\t\t\tthis.x += x;\n\t\t\tthis.y += y;\n\t\t} else {\n\t\t\tthis.x += x.x;\n\t\t\tthis.y += x.y;\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Subtract this point by two scalars or by another point.\n\t */\n\t\n\tthis.subtract = function(x, y) {\n\t\tif (typeof x == 'number') {\n\t\t\tthis.x -= x;\n\t\t\tthis.y -= y;\n\t\t} else {\n\t\t\tthis.x -= x.x;\n\t\t\tthis.y -= x.y;\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Scale this number.\n\t */\n\n\tthis.scale = function(sx, sy) {\n\t\t//if no scaleY specified\n\t\tif(sy === undefined) sy = sx;\n\n\t\tthis.x *= sx;\n\t\tthis.y *= sy;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Set the magnitude of this point at a constant angle.\n\t */\n\t\n\tthis.setMagnitude = function(m) {\n\t\tvar theta = this.getAngle();\n\t\tthis.x = m * Math.cos(theta);\n\t\tthis.y = m * Math.sin(theta);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Normalize this point to the unit circle.\n\t */\n\t\n\tthis.normalize = function() {\n\t\tvar m = this.getMagnitude();\n\t\tthis.x /= m;\n\t\tthis.y /= m;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Add magnitude to this point.\n\t */\n\t\n\tthis.addMagnitude = function(m) {\n\t\treturn this.setMagnitude(this.getMagnitude() + m);\n\t};\n\n\tthis.getMagnitude = function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t};\n\n\tthis.getSquaredMagnitude = function() {\n\t\treturn this.x * this.x + this.y * this.y;\n\t};\n\n\tthis.getDirection = this.getAngle = function() {\n\t\treturn Math.atan2(this.y, this.x);\n\t};\n\t\n});\n\n/*\n */\nPoint.getPolarR = function(x, y) { \n\tthrow \"notImplemented\";\n}\n\n/*\n\t### Class Method: Point.getPolarTheta (x, y)\n\t1. `x {number}`\n\t2. `y {number}`\n\t3. Return: `{number}`\n*/\nPoint.getPolarTheta = function(x, y) { \n\tvar val = Math.atan2(y,x) + (Math.PI * 2); \n\treturn val > Math.PI * 2 ? val % (Math.PI * 2) : val;\n}\n\n/*\n\t### Class Method: Point.add (a, b, c, d)\n\t### Class Method: Point.translate (a, b, c, d)\n\t1. `a {number}`\n\t2. `b {number}`\n\t3. `c {number}`\n\t4. `d {number}`\n\t5. Return: `{Point}`\n */\nPoint.add = Point.translate = function(a, b, c, d) {\n\tswitch(arguments.length) {\n\t\tcase 2: return new Point(a).add(b);\n\t\tcase 3: return new Point(a).add(b, c);\n\t\tcase 4: return new Point(a, b).add(c, d);\n\t}\n}\n\n/*\n\t### Class Method: Point.subtract (a, b, c, d)\n\t1. `a {number}`\n\t2. `b {number}`\n\t3. `c {number}`\n\t4. `d {number}`\n\t5. Return: `{Point}`\n */\nPoint.subtract = function(a, b, c, d) {\n\tswitch(arguments.length) {\n\t\tcase 2: return new Point(a).subtract(b);\n\t\tcase 3: return new Point(a).subtract(b, c);\n\t\tcase 4: return new Point(a, b).subtract(c, d);\n\t}\n}\n\n/*\n\t### Class Method: Point.scale (a, b, c) \n\t1. `a {number}`\n\t2. `b {number}`\n\t3. `c {number}`\n\t4. Return: `{Point}`\n */\nPoint.scale = function(a, b, c) {\n\tswitch(arguments.length) {\n\t\tcase 2: return new Point(a).scale(b);\n\t\tcase 3: return new Point(a, b).scale(c);\n\t}\n}\n\n/*\n\t### Class Method: Point.setMagnitude (a, b, c)\n\t1. `a {number}`\n\t2. `b {number}`\n\t3. `c {number}`\n\t4. Return: `{Point}`\n*/\nPoint.setMagnitude = function(a, b, c) {\n\tswitch(arguments.length) {\n\t\tcase 2: return new Point(a).setMagnitude(c);\n\t\tcase 3: return new Point(a, b).setMagnitude(c);\n\t}\n}\n\n/*\n\t### Class Method: Point.addMagnitude (a, b, c)\n\t1. `a {number}`\n\t2. `b {number}`\n\t3. `c {number}`\n\t4. Return: `{Point}`\n */\nPoint.addMagnitude = function(a, b, c) {\n\tswitch(arguments.length) {\n\t\tcase 2: pt = new Point(a); break;\n\t\tcase 3: pt = new Point(a, b); b = c; break;\n\t}\n\t\n\treturn pt.addMagnitude(b);\n}\n\n/*\n\t### Class Method: Point.getMagnitude (a, b)\n\t1. `a {number}`\n\t2. `b {number}`\n\t3. Return: `{Point}`\n */\nPoint.getMagnitude = function(a, b) { return new Point(a, b).getMagnitude(); }\n\n/*\n\t### Class Method: Point.rotate (a, b, c)\n\t1. `a {number}`\n\t2. `b {number}`\n\t3. `c {number}`\n\t4. Return: `{Point}`\n */\nPoint.rotate = function(a, b, c) {\n\tswitch(arguments.length) {\n\t\tcase 2: return new Point(a).rotate(b);\n\t\tcase 3: return new Point(a, b).rotate(c);\n\t}\n}\n\n/**\n * Treat two points as vectors and project a onto b\n *  (a dot unit(b)) * unit(b)\n */\nPoint.project = function (a, b) {\n\tvar unitB = new Point(b).normalize();\n\treturn unitB.scale(unitB.x * a.x + unitB.y * a.y);\n}\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/math/geom/Line.js": {
            "path": "../node_modules\\jsio\\packages/math/geom/Line.js",
            "friendlyPath": ".Line",
            "directory": "../node_modules\\jsio\\packages/math/geom",
            "filename": "Line.js",
            "src": "jsio('import .Point');\n\nvar c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Line=__class__;exports=c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Line(function c__Users_Surface_cloud_node_modules_jsio_packages_math_geom_Line(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(a, b, c, d) {\n\t\tswitch(arguments.length) {\n\t\t\tcase 0:\n\t\t\t\tthis.start = new Point();\n\t\t\t\tthis.end = new Point();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.start = new Point(a.start);\n\t\t\t\tthis.end = new Point(a.end);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.start = new Point(a);\n\t\t\t\tthis.end = new Point(b);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis.start = new Point(a);\n\t\t\t\tthis.end = new Point(b, c);\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\tdefault:\n\t\t\t\tthis.start = new Point(a, b);\n\t\t\t\tthis.end = new Point(c, d);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tthis.getMagnitude = \n\tthis.getLength = function() {\n\t\tvar dx = this.end.x - this.start.x,\n\t\t\tdy = this.end.y - this.start.y;\n\t\t\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t}\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/math/geom/intersect.js": {
            "path": "../node_modules\\jsio\\packages/math/geom/intersect.js",
            "friendlyPath": ".intersect",
            "directory": "../node_modules\\jsio\\packages/math/geom",
            "filename": "intersect.js",
            "src": "jsio('import .Point');\njsio('import .Line');\njsio('import .Rect');\n\n/**\n * @package math.geom.intersect\n */\nvar intersect = exports;\n\nintersect.pointAndRect = intersect.ptAndRect = function (pt, rect) {\n\tvar x = pt.x,\n\t\t\ty = pt.y;\n\treturn (x >= rect.x &&\n\t\t\t\t\tx <= rect.x + rect.width &&\n\t\t\t\t\ty >= rect.y &&\n\t\t\t\t\ty <= rect.y + rect.height);\n};\n\nintersect.rectAndPoint = intersect.rectAndPt = function (rect, pt) {\n\treturn intersect.pointAndRect(pt, rect);\n};\n\nintersect.pointAndCircle = intersect.ptAndCirc = function(pt, circle) {\n\tvar dx = pt.x - circle.x,\n\t\t\tdy = pt.y - circle.y;\n\treturn dx * dx + dy * dy < circle.radius * circle.radius;\n};\n\nintersect.circleAndPoint = intersect.circAndPt = function (circle, pt) {\n\treturn intersect.pointAndCircle(pt, circle);\n};\n\nintersect.circleAndCircle = function(circle1, circle2) {\n\tvar dx = circle2.x - circle1.x,\n\t\tdy = circle2.y - circle1.y;\n\tvar radiusSum = circle1.radius + circle2.radius;\n\treturn dx * dx + dy * dy <= radiusSum * radiusSum;\n};\n\nintersect.isRectAndRect = function (rect1, rect2) {\n\treturn !((rect1.y + rect1.height < rect2.y) ||\n\t\t\t\t\t (rect2.y + rect2.height < rect1.y) ||\n\t\t\t\t\t (rect1.x + rect1.width < rect2.x) ||\n\t\t\t\t\t (rect2.x + rect2.width < rect1.x));\n};\n\nintersect.circleAndRect = function(circle, rect) {\n\tif (intersect.pointAndRect(circle, rect)) {\n\t\treturn true;\n\t}\n\treturn (intersect.lineAndCircle(rect.getSide(1), circle) ||\n\t\t\t\t\tintersect.lineAndCircle(rect.getSide(2), circle) ||\n\t\t\t\t\tintersect.lineAndCircle(rect.getSide(3), circle) ||\n\t\t\t\t\tintersect.lineAndCircle(rect.getSide(4), circle));\n};\n\nintersect.rectAndCircle = function(rect, circle) {\n\treturn intersect.circleAndRect(circle, rect);\n};\n\nintersect.lineAndCircle = function (line, circle) {\n\tvar vec = intersect.pointToLine(circle, line);\n\treturn vec.getMagnitude() < circle.radius;\n};\n\nintersect.circleAndLine = function (circle, line) {\n\treturn intersect.lineAndCircle(line, circle);\n};\n\n// returns line from pt to nearest pt on line\nintersect.pointToLine = intersect.ptToLine = function (pt, line) {\n\tvar dx = (line.end.x - line.start.x),\n\t\t\tdy = (line.end.y - line.start.y),\n\t\t\tu = ((pt.x - line.start.x) * dx\t// TODO can we abstract this from 2D to 2D/3D?\n\t\t\t\t\t + (pt.y - line.start.y) * dy) / (dx * dx + dy * dy);\n\n\tvar i;\n\tif (u < 0) {\n\t\ti = new Point(line.start);\n\t} else if (u > 1) {\n\t\ti = new Point(line.end);\n\t} else {\n\t\ti = new Point(line.start.x + u * dx, line.start.y + u * dy);\n\t}\n\treturn new Line(i, pt);\n};\n\n// returns rectangle of intersection\nintersect.rectAndRect = function (rect1, rect2) {\n\tjsio('import .Rect');\n\treturn (intersect.rectAndRect = function(rect1, rect2) {\n\t\tif (rect1 === true) { return new Rect(rect2); }\n\t\tif (rect2 === true) { return new Rect(rect2); }\n\n\t\tif (intersect.isRectAndRect(rect1, rect2)) {\n\t\t\tvar x1 = Math.max(rect1.x, rect2.x),\n\t\t\t\t\ty1 = Math.max(rect1.y, rect2.y),\n\t\t\t\t\tx2 = Math.min(rect1.x + rect1.width, rect2.x + rect2.width),\n\t\t\t\t\ty2 = Math.min(rect1.y + rect1.height, rect2.y + rect2.height);\n\t\t\treturn new Rect(x1, y1, x2 - x1, y2 - y1);\n\t\t}\n\t\treturn null;\n\t})(rect1, rect2);\n}\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/env/browser/websocket.js": {
            "path": "../node_modules\\jsio\\packages/net/env/browser/websocket.js",
            "friendlyPath": "net.env.browser.websocket",
            "directory": "../node_modules\\jsio\\packages/net/env/browser",
            "filename": "websocket.js",
            "src": "jsio('import net.interfaces');\njsio('import std.utf8 as utf8');\njsio('import net.errors as Errors');\n\n/**\n * @extends net.interfaces.Connector\n */\nexports.Connector=__class__;exports.Connector=exports.Connector(function exports_Connector(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Connector, function() {\n\tthis.connect = function() {\n\t\tthis._state = net.interfaces.STATE.CONNECTING;\n\t\t\n\t\tvar url = this._opts.url,\n\t\t \tctor = this._opts.wsConstructor || window.WebSocket;\n\t\n\t\tlogger.INFO&&console.info(\"INFO\",\"net.env.browser.websocket\",'this._opts', this._opts);\n\t\t\n\t\tvar ws = new ctor(url);\n\t\tws.onopen = bind(this, 'webSocketOnOpen', ws);\n\t\tws.onclose = bind(this, 'webSocketOnClose', ws);\n\t}\n\t\n\tthis.webSocketOnOpen = function(ws) {\n\t\tthis.onConnect(new Transport(ws));\n\t}\n\t\n\tthis.webSocketOnClose = function(ws, e) {\n\t\tvar err,\n\t\t\tdata = {rawError: e, webSocket: ws};\n\t\tif (e.wasClean) {\n\t\t\terr = new Errors.ServerClosedConnection('WebSocket Connection Closed', data);\n\t\t} else {\n\t\t\tif (this._state == net.interfaces.STATE.CONNECTED) {\n\t\t\t\terr = new Errors.ConnectionTimeout('WebSocket Connection Timed Out', data);\n\t\t\t} else {\n\t\t\t\terr = new Errors.ServerUnreachable('WebSocket Connection Failed', data);\n\t\t\t}\n\t\t}\n\t\t\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"net.env.browser.websocket\",'conn closed', err);\n\t\tthis.onDisconnect(err);\n\t}\n});\n\nTransport=__class__;var Transport=Transport(function Transport(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Transport, function() {\n\t\n\tthis.init = function(ws) {\n\t\tthis._ws = ws;\n\t}\n\t\n\tthis.makeConnection = function(protocol) {\n\t\tthis._ws.onmessage = function(data) {\n\t\t\tvar payload = utf8.encode(data.data);\n\t\t\tprotocol.dataReceived(payload);\n\t\t}\n\t}\n\t\n\tthis.write = function(data, encoding) {\n\t\tif (this._encoding == 'plain') {\n\t\t\tresult = utf8.decode(data);\n\t\t\tdata = result[0];\n\t\t}\n\t\tthis._ws.send(data);\n\t}\n\t\n\tthis.loseConnection = function(protocol) {\n\t\tthis._ws.close();\n\t}\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/env/browser/socketio.js": {
            "path": "../node_modules\\jsio\\packages/net/env/browser/socketio.js",
            "friendlyPath": "net.env.browser.socketio",
            "directory": "../node_modules\\jsio\\packages/net/env/browser",
            "filename": "socketio.js",
            "src": "jsio('import lib.Callback');\njsio('import net.interfaces');\njsio('import std.utf8 as utf8');\n\nvar _script;\nvar _scriptOnLoad = new lib.Callback();\n\n/**\n * @extends net.interfaces.Connector\n */\nexports.Connector=__class__;exports.Connector=exports.Connector(function exports_Connector(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Connector, function() {\n\tthis.connect = function() {\n\t\tthis._state = net.interfaces.STATE.CONNECTING;\n\n\t\tvar url = this._opts.url || '/';\n\t\tif (!/\\/$/.test(url)) { url += '/'; }\n\n\t\tif (typeof io != 'function' && typeof document != 'undefined') {\n\t\t\t_script = document.createElement('script');\n\t\t\t_script.onload = _script.onreadystatechange = function () {\n\t\t\t\tif (typeof io == 'function') {\n\t\t\t\t\t_script.onload = _script.onreadystatechange = null;\n\t\t\t\t\t_scriptOnLoad.fire(io);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_script.src = '/socket.io/socket.io.js';\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(_script);\n\t\t} else if (!_scriptOnLoad.hasFired()) {\n\t\t\t_scriptOnLoad.fire(io);\n\t\t}\n\n\t\t_scriptOnLoad.run(bind(this, '_connect'));\n\t}\n\n\tthis._connect = function (io) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"net.env.browser.socketio\",'opening the connection');\n\t\tvar socket = io(window.location.origin + this._opts.namespace, {multiplex: false});\n\t\tvar transport = new Transport(socket);\n\t\tvar onConnect = bind(this, 'onConnect', transport);\n\n\t\tsocket.on('disconnect', bind(this, 'onDisconnect'));\n\t\tif (socket.connected) {\n\t\t\tonConnect();\n\t\t} else {\n\t\t\tsocket.on('connect', onConnect);\n\t\t}\n\t}\n});\n\nTransport=__class__;var Transport=Transport(function Transport(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Transport, function() {\n\tthis.init = function(socket) {\n\t\tthis._socket = socket;\n\t}\n\n\tthis.makeConnection = function(protocol) {\n\t\tthis._socket.on('message', bind(protocol, 'dataReceived'));\n\t}\n\n\tthis.write = function(data) {\n\t\tthis._socket.send(data);\n\t}\n\n\tthis.loseConnection = function(protocol) {\n\t\tthis._socket.close();\n\t}\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/lib/Callback.js": {
            "path": "../node_modules\\jsio\\packages/lib/Callback.js",
            "friendlyPath": "lib.Callback",
            "directory": "../node_modules\\jsio\\packages/lib",
            "filename": "Callback.js",
            "src": "var c__Users_Surface_cloud_node_modules_jsio_packages_lib_Callback=__class__;exports=c__Users_Surface_cloud_node_modules_jsio_packages_lib_Callback(function c__Users_Surface_cloud_node_modules_jsio_packages_lib_Callback(){return this.init&&this.init.apply(this,arguments)},function() {\n\n\tthis._fired = false;\n\tthis._id = 0;\n\tthis._pending = null;\n\n\tthis.init = function() { this._run = []; };\n\t\n\t/* fired is @deprecated in favor of hasFired*/\n\tthis.hasFired = this.fired = function() { return this._fired; } ;\n\n\t// preserve pending callbacks, but clear fired status\n\tthis.reset = function() { this._args = []; this._fired = false; };\n\n\t// clear fired status and remove any pending callbacks\n\tthis.clear = function() { this.reset(); this._run = []; this._pending = null; this._stat = null; };\n\n\t// a convenience function to proxy arguments to `this.run`: arguments passed as the first argument\n\tthis.forward = function(args) { this.run.apply(this, args); };\n\n\t// when the lib.Callback object fires, run a ctx, method, and\n\t// (optional) curried arguments or a single callback function\n\tthis.run = function(ctx, method) {\n\t\tvar f = method ? bind.apply(this, arguments) : ctx;\n\t\tif (f) {\n\t\t\tif (this._fired) {\n\t\t\t\tf.apply(this, this._args);\n\t\t\t} else {\n\t\t\t\tthis._run.push(f);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\tthis.runOrTimeout = function(onFire, onTimeout, duration) {\n\t\tif (!onFire && !onTimeout) { return; }\n\n\t\tif (this._fired) {\n\t\t\tonFire.apply(this, this._args);\n\t\t} else {\n\t\t\tvar f = bind(this, function() {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\tonFire.apply(this, this._args);\n\t\t\t});\n\n\t\t\tthis.run(f);\n\n\t\t\tvar timeout = setTimeout(bind(this, function() {\n\t\t\t\tfor (var i = 0, n = this._run.length; i < n; ++i) {\n\t\t\t\t\tif (this._run[i] == f) {\n\t\t\t\t\t\tthis._run.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tonTimeout();\n\t\t\t}), duration);\n\t\t}\n\t};\n\n\tthis.fire = function() {\n\t\tif (this._fired) { return; }\n\t\tthis._fired = true;\n\n\t\tvar cbs = this._run;\n\t\tthis._args = arguments;\n\t\tfor(var i = 0, len = cbs.length; i < len; ++i) {\n\t\t\tif (cbs[i]) { cbs[i].apply(this, arguments); }\n\t\t}\n\t};\n\n\tthis.chain = function(id) {\n\t\tif (!this._pending) { this._pending = {}; }\n\t\tif (id === undefined) { id = this._id++; }\n\t\tthis._pending[id] = true;\n\n\t\tthis.reset();\n\t\treturn bind(this, '_deferred', id);\n\t};\n\n\tthis._deferred = function(id) {\n\t\tif (!this._stat) { this._stat = {}; }\n\t\tif (this._stat.hasOwnProperty(id)) { return; }\n\n\t\tthis._stat[id] = Array.prototype.slice.call(arguments, 1);\n\t\tvar pending = this._pending;\n\t\tdelete pending[id];\n\t\tfor (var id in pending) {\n\t\t\tif (pending.hasOwnProperty(id)) { return; }\n\t\t}\n\n\t\tthis.fire(this._stat);\n\t};\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/util/Animation.js": {
            "path": "../node_modules\\jsio\\packages/util/Animation.js",
            "friendlyPath": "util.Animation",
            "directory": "../node_modules\\jsio\\packages/util",
            "filename": "Animation.js",
            "src": "SyncTimer=__class__;var SyncTimer=SyncTimer(function SyncTimer(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function() {\n\t\tthis._items = [];\n\t\tthis._tick = bind(this, 'tick');\n\t\tthis._length = 0;\n\t}\n\t\n\tthis.tick = function() {\n\t\tvar now = +new Date();\n\t\tvar dt = now - this._last;\n\t\tthis._last = now;\n\t\t\n\t\t// items might get removed as we iterate, so this._length can change\n\t\tfor (var i = 0; i < this._length; ++i) {\n\t\t\tthis._items[i](dt);\n\t\t}\n\t}\n\t\n\tthis.add = function(cb) { \n\t\tif (cb) {\n\t\t\tthis._items.push(cb);\n\t\t\t++this._length;\n\t\t\tcb(0);\n\t\t\tthis.start();\n\t\t}\n\t}\n\t\n\tthis.remove = function(cb) {\n\t\tfor (var i = 0, n = this._items.length; i < n; ++i) {\n\t\t\tif (this._items[i] == cb) {\n\t\t\t\tthis._items.splice(i, 1);\n\t\t\t\tif (!--this._length) { this.stop(); }\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tthis.start = function() {\n\t\tif (!this._isRunning) {\n\t\t\tthis._isRunning = true;\n\t\t\tthis._last = +new Date();\n\t\t\tthis._timer = setInterval(this._tick, 15);\n\t\t}\n\t}\n\t\n\tthis.stop = function() {\n\t\tif (this._isRunning) {\n\t\t\tthis._isRunning = false;\n\t\t\tclearInterval(this._timer);\n\t\t}\n\t}\n});\n\nvar timer = new SyncTimer();\n\nvar c__Users_Surface_cloud_node_modules_jsio_packages_util_Animation=__class__;exports=c__Users_Surface_cloud_node_modules_jsio_packages_util_Animation(function c__Users_Surface_cloud_node_modules_jsio_packages_util_Animation(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(params) {\n\t\tthis._start = 'start' in params ? params.start : 0;\n\t\tthis._end = 'end' in params ? params.end : 1;\n\t\tthis._transition = params.transition || null;\n\t\tthis._easing = params.easing || false;\n\t\tthis._subject = params.subject;\n\t\tthis._duration = params.duration || 1000;\n\t\tthis._s = params.current || this._start;\n\t\tthis._onFinish = params.onFinish || null;\n\n\t\tthis._range = this._end - this._start;\n\t\tthis._isAnimating = false;\n\t\tthis._animate = bind(this, 'animate');\n\t\tthis._timer = null;\n\t}\n\t\n\tthis.stop = function() { this.jumpTo(this._s); }\n\tthis.play = function() { this.seekTo(this._end); }\n\t\n\tthis.seekTo = function(s, dur) {\n\t\tif (s == this._s) { return; }\n\t\t\n\t\tthis._t0 = 0;\n\t\tthis._s0 = this._s;\n\t\tthis._s1 = s;\n\t\tif(dur) this._duration = dur;\n\t\t\n\t\tthis._ds = s - this._s;\n\t\tvar dt = this._ds / this._range * this._duration;\n\t\tthis._dt = dt < 0 ? -dt : dt;\n\t\t\n\t\tif(!this._isAnimating) {\n\t\t\tthis._isAnimating = true;\n\t\t\ttimer.add(this._animate);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\tthis.onFinish = function(onFinish) { this._onFinish = onFinish; return this; }\n\t\n\tthis.jumpTo = function(s) {\n\t\tthis._s1 = this._s0 = s;\n\t\tthis._t0 = 0;\n\t\tthis._dt = 1;\n\t\tthis._ds = 0;\n\t\tthis.animate(0);\n\t\treturn this; \n\t}\n\t\n\tthis.animate = function(dt) {\n\t\tvar elapsed = (this._t0 += dt);\n\t\tvar dt = elapsed / this._dt;\n\t\tif(dt > 1) { dt = 1; }\n\t\tthis._s = this._s0 + dt * this._ds;\n\t\t\n\t\tvar x = this._transition ? this._transition(this._s) : this._s;\n\t\ttry {\n\t\t\tthis._subject(x, this._s);\n\t\t} finally {\n\t\t\tif(dt == 1) {\n\t\t\t\ttimer.remove(this._animate);\n\t\t\t\tthis._isAnimating = false;\n\t\t\t\tif(this._onFinish) {\n\t\t\t\t\tthis._onFinish();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\nexports.linear = function (n) { return n; }\nexports.easeIn = function (n) { return n * n; }\nexports.easeInOut = function (n) { return (n *= 2) < 1 ? 0.5 * n * n * n : 0.5 * ((n -= 2) * n * n + 2); }\nexports.easeOut = function(n) { return n * (2 - n); }",
            "pre": true
        },
        "../node_modules\\jsio\\packages/util/ajax.js": {
            "path": "../node_modules\\jsio\\packages/util/ajax.js",
            "friendlyPath": "util.ajax",
            "directory": "../node_modules\\jsio\\packages/util",
            "filename": "ajax.js",
            "src": "jsio('import std.uri as URI');\n\nvar SIMULTANEOUS = 4;\nvar _inflight = 0;\n\nvar doc;\nexports.getDoc = function() {\n\tif (doc) { return doc; }\n\ttry {\n\t\tdoc = window.ActiveXObject && new ActiveXObject('htmlfile');\n\t\tif (doc) {\n\t\t\tdoc.open().write('<html></html>');\n\t\t\tdoc.close();\n\t\t\twindow.attachEvent('onunload', function() {\n\t\t\t\ttry { doc.body.innerHTML = ''; } catch(e) {}\n\t\t\t\tdoc = null;\n\t\t\t});\n\t\t}\n\t} catch(e) {}\n\n\tif (!doc) { doc = document; }\n\treturn doc;\n};\n\nvar ctor = function() {\n\tvar win = window,\n\t\tdoc = exports.getDoc();\n\t//if (doc.parentWindow) { win = doc.parentWindow; }\n\n\treturn new (ctor = win.XMLHttpRequest ? win.XMLHttpRequest\n\t\t: function() { return win.ActiveXObject && new win.ActiveXObject('Msxml2.XMLHTTP') || null; });\n};\n\nexports.createXHR = function() { return new ctor(); }\n\nexports.post = function(opts, cb) {\n\treturn exports.get(merge({method: 'POST'}, opts), cb);\n}\n\nRequest=__class__;var Request=Request(function Request(){return this.init&&this.init.apply(this,arguments)},function() {\n\tvar _UID = 0;\n\n\tthis.init = function(opts, cb) {\n\t\tif (typeof opts == 'string') { opts = {url: opts}; }\n\t\tif (!opts || !opts.url) { logger.ERROR&&console.error(\"ERROR\",\"util.ajax\",'no url provided'); return; }\n\n\t\tthis.method = (opts.method || 'GET').toUpperCase();\n\t\tthis.url = opts.url;\n\t\tthis.type = opts.type;\n\t\tthis.async = opts.async;\n\t\tthis.timeout = opts.timeout;\n\t\tthis.id = ++_UID;\n\t\tthis.headers = {};\n\t\tthis.cb = cb;\n\n\t\tif (opts.headers) {\n\t\t\tfor (var key in opts.headers) if (opts.headers.hasOwnProperty(key)) {\n\t\t\t\tvar value = opts.headers[key];\n\t\t\t\tthis.headers[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tvar isObject = opts.data && typeof opts.data == 'object';\n\n\t\tif (this.method == 'GET' && opts.data) {\n\t\t\tthis.url = new URI(this.url)\n\t\t\t\t\t\t\t.addQuery(isObject ? opts.data : URI.parseQuery(opts.data))\n\t\t\t\t\t\t\t.toString();\n\t\t}\n\n\t\tif (opts.query) {\n\t\t\tthis.url = new URI(this.url)\n\t\t\t\t\t\t\t.addQuery(typeof opts.query == 'object' ? opts.query : URI.parseQuery(opts.query))\n\t\t\t\t\t\t\t.toString();\n\t\t}\n\n\t\ttry {\n\t\t\tthis.data = (this.method != 'GET' ? (isObject ? JSON.stringify(opts.data) : opts.data) : null);\n\t\t\tif (isObject && !this.headers['Content-Type']) {\n\t\t\t\tthis.headers['Content-Type'] = 'application/json';\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tcb && cb({invalidData: true}, null, '');\n\t\t\treturn;\n\t\t}\n\t}\n});\n\nvar _pending = [];\n\nexports.get = function(opts, cb) {\n\tvar request = new Request(opts, cb);\n\n\tif (_inflight >= SIMULTANEOUS) {\n\t\t_pending.push(request);\n\t} else {\n\t\t_send(request);\n\t}\n}\n\nfunction _sendNext() {\n\t//logger.LOG&&console.log(\"LOG\",\"util.ajax\",'====INFLIGHT', _inflight, SIMULTANEOUS, 'might send next?');\n\tif (_inflight < SIMULTANEOUS) {\n\t\tvar request = _pending.shift();\n\t\tif (request) {\n\t\t\t_send(request);\n\t\t}\n\t}\n}\n\nfunction _send(request) {\n\t++_inflight;\n\t//logger.LOG&&console.log(\"LOG\",\"util.ajax\",'====INFLIGHT', _inflight, 'sending request', request.id);\n\n\tvar xhr = exports.createXHR();\n\txhr.open(request.method, request.url, !(request.async == false));\n\tvar setContentType = false;\n\tfor (var key in request.headers) {\n\t\tif (key.toLowerCase() == 'content-type') { setContentType = true; }\n\t\txhr.setRequestHeader(key, request.headers[key]);\n\t}\n\n\tif (!setContentType) {\n\t\txhr.setRequestHeader('Content-Type', 'text/plain');\n\t}\n\n\txhr.onreadystatechange = bind(this, onReadyStateChange, request, xhr);\n\tif (request.timeout) {\n\t\trequest.timeoutRef = setTimeout(bind(this, cancel, xhr, request), request.timeout);\n\t\t//logger.LOG&&console.log(\"LOG\",\"util.ajax\",'==== setting timeout for', request.timeout, request.timeoutRef, '<<');\n\t}\n\n\trequest.ts = +new Date();\n\txhr.send(request.data || null);\n}\n\nfunction cancel(xhr, request) {\n\t--_inflight;\n\t// logger.LOG&&console.log(\"LOG\",\"util.ajax\",'====INFLIGHT', _inflight, 'timeout (cancelled)', request.id);\n\tif (request.timedOut) {\n\t\tlogger.LOG&&console.log(\"LOG\",\"util.ajax\",'already timed out?!');\n\t}\n\n\txhr.onreadystatechange = null;\n\trequest.timedOut = true;\n\tif (xhr.readyState >= xhr.HEADERS_RECEIVED) {\n\t\ttry {\n\t\t\tvar headers = xhr.getAllResponseHeaders();\n\t\t} catch (e) {}\n\t}\n\n\trequest.cb && request.cb({timeout: true}, null, headers);\n}\n\nfunction onReadyStateChange(request, xhr) {\n\tif (xhr.readyState != 4) { return; }\n\n\tif (request.timedOut) { throw 'Unexpected?!'; }\n\n\t--_inflight;\n\n\t// logger.LOG&&console.log(\"LOG\",\"util.ajax\",'====INFLIGHT', _inflight, 'received response', request.ts, request.id, (+new Date() - request.ts) / 1000);\n\tsetTimeout(_sendNext, 0);\n\n\tvar cb = request.cb;\n\tif ('timeoutRef' in request) {\n\t\t// logger.LOG&&console.log(\"LOG\",\"util.ajax\",'==== AJAX CLEARING TIMEOUT', request.id);\n\t\tclearTimeout(request.timeoutRef);\n\t\trequest.timeoutRef = null;\n\t}\n\n\t// only fire callback once\n\tif (!cb || request.handled) { return; }\n\trequest.handled = true;\n\n\tvar isJSON = /^application\\/json(;|$)/.test(xhr.getResponseHeader('Content-Type')) || request.type == 'json';\n\tvar response = xhr.response || xhr.responseText;\n\tvar data = response;\n\tvar parseError = false;\n\tif (isJSON && response && typeof response == 'string') {\n\t\ttry {\n\t\t\tdata = JSON.parse(response);\n\t\t} catch(e) {\n\t\t\tparseError = true;\n\t\t}\n\t}\n\n\t// .status will be 0 when requests are filled via app cache on at least iOS 4.x\n\tif (xhr.status != 200 && xhr.status != 0 || parseError) {\n\t\tcb({status: xhr.status, response: data, parseError: parseError}, null, xhr.getAllResponseHeaders());\n\t} else {\n\t\tcb(null, data, xhr.getAllResponseHeaders());\n\t}\n}\n",
            "pre": true
        },
        "node_modules/squill/Alpha.js": {
            "path": "node_modules/squill/Alpha.js",
            "friendlyPath": ".Alpha",
            "directory": "node_modules/squill/",
            "filename": "Alpha.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\n\njsio('import .jscolor.jscolor as jscolor');\n\nvar alphaSelect = false,\n\talphaIndicator;\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Alpha=__class__;var Alpha = exports=c__Users_Surface_cloud_devkit_node_modules_squill_Alpha(function c__Users_Surface_cloud_devkit_node_modules_squill_Alpha(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._css = 'lph';\n\tthis._type = 'text';\n\n\tthis.init = function(params) {\n\t\tparams = merge(params, {tag: 'input'});\n\t\tsupr(this, 'init', [params]);\n\t};\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\n\t\tel.widget = this;\n\n\t\t$.onEvent(el, 'focus', this, '_onFocus');\n\t\t$.onEvent(el, 'blur', this, '_onBlur');\n\t\t$.onEvent(el, 'change', this, '_onChange');\n\n\t\tvar alphaGradient,\n\t\t\tctx,\n\t\t\tstyle,\n\t\t\trect;\n\n\t\tif (!alphaSelect) {\n\t\t\talphaSelect = document.createElement('div');\n\t\t\talphaSelect.style.display = 'none';\n\t\t\talphaSelect.className = 'colorMenu';\n\t\t\tdocument.body.appendChild(alphaSelect);\n\n\t\t\t$.onEvent(alphaSelect, 'mousedown', this, '_onSelect');\n\n\t\t\talphaGradient = document.createElement('canvas');\n\t\t\talphaGradient.width = 20;\n\t\t\talphaGradient.height = 100;\n\t\t\talphaSelect.appendChild(alphaGradient);\n\n\t\t\t$.style(\n\t\t\t\talphaGradient,\n\t\t\t\t{\n\t\t\t\t\t'float': 'left',\n\t\t\t\t\twidth: '20px',\n\t\t\t\t\theight: '100px',\n\t\t\t\t\tmargin: '8px 0 0 12px',\n\t\t\t\t\tborder: '1px solid #000',\n\t\t\t\t\tborderColor: 'ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow',\n\t\t\t\t\tbackgroundColor: 'red'\n\t\t\t\t}\n\t\t\t);\n\t\t\t$.onEvent(alphaGradient, 'mousedown', this, '_onMouseDown');\n\t\t\t$.onEvent(alphaGradient, 'mousemove', this, '_onMouseMove');\n\t\t\t$.onEvent(alphaGradient, 'mouseup', this, '_onMouseUp');\n\t\t\t$.onEvent(alphaGradient, 'mouseout', this, '_onMouseOut');\n\n\t\t\talphaIndicator = document.createElement('img');\n\t\t\talphaIndicator.src = 'img/colorpicker/arrow.gif';\n\t\t\talphaSelect.appendChild(alphaIndicator);\n\n\t\t\t$.style(\n\t\t\t\talphaIndicator,\n\t\t\t\t{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tleft: '4px',\n\t\t\t\t\ttop: '2px',\n\t\t\t\t\tborder: '0px hidden'\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tctx = alphaGradient.getContext('2d');\n\t\t\tlinearGradient = ctx.createLinearGradient(0, 0, 0, 100);\n\t\t\tlinearGradient.addColorStop(0, '#FFFFFF');\n\t\t\tlinearGradient.addColorStop(1, '#000000');\n\t\t\tctx.fillStyle = linearGradient;\n\t\t\tctx.fillRect(0, 0, 20, 100);\n\t\t}\n\t};\n\n\tthis._showIndicator = function(alpha) {\n\t\tif (alpha < 0) {\n\t\t\talpha = 0;\n\t\t}\n\t\tif (alpha > 100) {\n\t\t\talpha = 100;\n\t\t}\n\n\t\t$.style(\n\t\t\talphaIndicator,\n\t\t\t{\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '4px',\n\t\t\t\ttop: (2 + alpha) + 'px',\n\t\t\t\tborder: '0px hidden'\n\t\t\t}\n\t\t);\n\n\t\treturn alpha;\n\t};\n\n\tthis._showMouseAlpha = function(evt) {\n\t\talphaSelect.target.value = 100 - this._showIndicator(evt.offsetY);\n\t\talphaSelect.widget.publish('Change', parseInt(alphaSelect.target.value, 10));\n\t};\n\n\tthis._onChange = function(evt) {\n\t\tvar value = this._el.value;\n\t\tif (!isNaN(value)) {\n\t\t\tvalue = parseInt(value, 10);\n\t\t\tif ((value >= 0) && (value <= 100)) {\n\t\t\t\talphaSelect.widget.publish('Change', value);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis._onFocus = function(evt) {\n\t\tvar alpha,\n\t\t\tstyle = alphaSelect.style,\n\t\t\trect = this._el.getBoundingClientRect(),\n\t\t\tx = rect.right + 4,\n\t\t\ty = rect.top;\n\n\t\tif (y + 122 > window.innerHeight) {\n\t\t\ty = rect.bottom - 122;\n\t\t}\n\t\tif (x + 44 > window.innerWidth) {\n\t\t\tx = rect.left - 48;\n\t\t}\n\n\t\t$.style(\n\t\t\talphaSelect,\n\t\t\t{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: '44px',\n\t\t\t\theight: '122px',\n\t\t\t\tzIndex: '1000000',\n\t\t\t\tleft: x + 'px',\n\t\t\t\ttop: y + 'px',\n\t\t\t\tdisplay: 'block'\n\t\t\t}\n\t\t);\n\n\t\talphaSelect.widget = evt.target.widget;\n\t\talphaSelect.target = evt.target;\n\n\t\tif (isNaN(alphaSelect.target.value)) {\n\t\t\talpha = 0;\n\t\t} else {\n\t\t\talpha = parseInt(alphaSelect.target.value, 10);\n\t\t}\n\t\tthis._showIndicator(100 - alpha);\n\t};\n\n\tthis._onBlur = function(evt) {\n\t\talphaSelect.style.display = 'none';\n\t};\n\n\tthis._onSelect = function(evt) {\n\t\t$.stopEvent(evt);\n\t};\n\n\tthis._onMouseDown = function(evt) {\n\t\t$.stopEvent(evt);\n\t\tthis._showMouseAlpha(evt);\n\t\tthis._mouseDown = true;\n\t};\n\n\tthis._onMouseMove = function(evt) {\n\t\tif (this._mouseDown) {\n\t\t\tthis._showMouseAlpha(evt);\n\t\t}\n\t\t$.stopEvent(evt);\n\t};\n\n\tthis._onMouseOut = function(evt) {\n\t\tthis._mouseDown = false;\n\t\t$.stopEvent(evt);\n\t};\n\n\tthis._onMouseUp = function(evt) {\n\t\tthis._mouseDown = false;\n\t\t$.stopEvent(evt);\n\t};\n\n\tthis.setValue = function(value) {\n\t\tthis._el.value = value;\n\t};\n\n\tthis.getValue = function() {\n\t\treturn this._el.value;\n\t};\n});\n\n",
            "pre": true
        },
        "node_modules/squill/Widget.js": {
            "path": "node_modules/squill/Widget.js",
            "friendlyPath": "squill.Widget",
            "directory": "node_modules/squill/",
            "filename": "Widget.js",
            "src": "jsio('from util.browser import $');\njsio('import .Element, .Events, .global');\njsio('import .i18n');\njsio('import .Delegate');\njsio('import .models.Model as Model');\njsio('import .models.bindings as bindings');\n\njsio('from .__imports__ import classes as WIDGET_CLASSES');\n\nvar uid = 0;\n\nfunction shallowCopy(p) {\n\tvar o = {};\n\tfor(var i in p) {\n\t\tif(p.hasOwnProperty(i)) {\n\t\t\to[i] = p[i];\n\t\t}\n\t}\n\treturn o;\n}\n\nWidgetSet=__class__;var WidgetSet=WidgetSet(function WidgetSet(){return this.init&&this.init.apply(this,arguments)},function () {\n\tthis.init = function (target) {\n\t\tthis._target = target;\n\t\tthis.events = [];\n\t}\n\n\tthis.getTarget = function () { return this._target; }\n\n\tthis.hasWidget = function (id) { return !!this._target[id]; };\n\n\tthis.addWidget = function (id, widget) {\n\t\tthis._target[id] = widget;\n\t};\n\n\tthis.addSubscription  = function(widget, signal /* ... args */) {\n\t\tif (this._target.dispatchEvent) {\n\t\t\twidget.subscribe.apply(widget, [signal, this._target,\n\t\t\t\t'dispatchEvent', widget.getId()]\n\t\t\t\t\t.concat(Array.prototype.slice.call(arguments, 2)));\n\t\t}\n\t}\n});\n\nvar node_modules_squill_Widget=__class__;var Widget = exports=node_modules_squill_Widget(function node_modules_squill_Widget(){return this.init&&this.init.apply(this,arguments)},[Element, Events], function() {\n\tthis._css = 'widget';\n\tthis._name = '';\n\n\tthis.__getDef__ = function () {\n\t\tvar cls = this.constructor;\n\t\tvar def = {};\n\n\t\tdo {\n\t\t\tif (cls.prototype.hasOwnProperty('_def')) {\n\t\t\t\tcopyDef(cls.prototype._def);\n\t\t\t}\n\t\t} while ((cls = cls.prototype.__parentClass__));\n\n\t\t// handle base _def\n\t\tif (this.hasOwnProperty('_def')) {\n\t\t\tcopyDef(this._def);\n\t\t}\n\n\t\tfunction copyDef (src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (key == 'attrs' || key == 'style') {\n\t\t\t\t\tdef[key] = merge(def[key], src[key]);\n\t\t\t\t} else if (key == 'className' && def.className) {\n\t\t\t\t\tdef.className = src.className + ' ' + def.className;\n\t\t\t\t} else if (key == 'children') {\n\t\t\t\t\tif (!def.children) {\n\t\t\t\t\t\tdef.children = [src.children];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdef.children.push(src.children);\n\t\t\t\t\t}\n\t\t\t\t} else if (!def.hasOwnProperty(key)) {\n\t\t\t\t\tdef[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn def;\n\t}\n\n\tthis.init = function(opts) {\n\t\topts = opts || {};\n\n\t\tthis._children = [];\n\n\t\t// ===\n\t\t// merge this._def and opts\n\n\t\tvar def = this._def = this.__getDef__();\n\n\t\tthis._id = def.id;\n\n\t\tthis.__model = new Model(opts.model || def.model);\n\n\t\t// className merges\n\t\tif (def.className) {\n\t\t\topts.className = opts.className ? opts.className + \" \" + def.className : def.className;\n\t\t}\n\n\t\tif (def.attrs) {\n\t\t\topts.attrs = merge(opts.attrs, def.attrs);\n\t\t}\n\n\t\tif (def.style) {\n\t\t\topts.style = merge(opts.style, def.style);\n\t\t}\n\n\t\t// opts take precedence over def\n\t\tthis._opts = opts;\n\t\tfor (var name in def) {\n\t\t\tif (name != 'children' && !opts.hasOwnProperty(name) && def.hasOwnProperty(name)) {\n\t\t\t\topts[name] = def[name];\n\t\t\t}\n\t\t}\n\n\t\t// delete opts.children;\n\n\t\t// end merge\n\t\t// ===\n\n\t\tif (opts.name) { this._name = opts.name; }\n\t\tif (opts.delegate) { this.delegate = opts.delegate; }\n\n\t\tvar widgetParent;\n\t\tvar buildNow = false;\n\t\tif (opts.widgetParent) {\n\t\t\twidgetParent = opts.widgetParent;\n\t\t}\n\n\t\tthis.controller = opts.controller || widgetParent;\n\n\t\tif (opts.parent) {\n\t\t\tvar parent = opts.parent;\n\t\t\tvar isWidgetParent = parent instanceof Widget;\n\t\t\tif (isWidgetParent) {\n\t\t\t\tif (!widgetParent) {\n\t\t\t\t\twidgetParent = opts.parent;\n\t\t\t\t}\n\n\t\t\t\topts.parent = parent.getContainer();\n\t\t\t} else if (!parent.appendChild) {\n\t\t\t\tdelete opts.parent;\n\t\t\t}\n\t\t}\n\n\t\tif (widgetParent) {\n\t\t\twidgetParent.addWidget(this);\n\t\t} else if (opts.parent || opts.el) {\n\t\t\tthis.build(opts.el);\n\t\t}\n\t};\n\n\tthis.getOpts = function () { return this._opts; }\n\n\tthis.getId = function () {\n\t\treturn this._id || (this._el && this._el.id);\n\t}\n\n\tthis.build = function (el) {\n\t\tif (!this._el || this._el != el) {\n\t\t\tvar opts = this._opts;\n\t\t\tvar children = opts.children;\n\n\t\t\tif (children) { delete opts.children; }\n\t\t\tthis._el = $.create(this._opts);\n\t\t\tif (children) { opts.children = children; }\n\n\t\t\tthis.buildContent();\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tthis.getParent = function() { return this._el && this._el.parentNode; };\n\tthis.getWidgetParent = function () { return this._widgetParent; }\n\n\tthis.setWidgetParent = function (parent) {\n\t\tif (this._widgetParent != parent) {\n\t\t\tthis._widgetParent.removeWidget(this);\n\t\t\tparent.addWidget(this);\n\t\t\tthis._widgetParent = parent;\n\t\t}\n\t}\n\n\tthis.getChildren = function() {\n\t\treturn this._children;\n\t};\n\n\tthis.forEachDescend = function (cb, ctx) {\n\t\tvar n = this._children.length;\n\t\tfor (var i = 0; i < n; ++i) {\n\t\t\tvar child = this._children[i];\n\t\t\tcb.call(ctx, child);\n\t\t\tif (child.forEachDescend) {\n\t\t\t\tchild.forEachDescend(cb, ctx);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.getFirstChild = function() {\n\t\treturn (this._children && this._children.length) ? this._children[0] : null;\n\t};\n\n\tthis.dispatchEvent = function (id, evt) {\n\t\tthis.delegate.apply(this, arguments);\n\t};\n\n\tthis.addElement = function (el) {\n\t\tthis._el.appendChild(el);\n\t}\n\n\tthis.addWidget = function(def, parent, result) {\n\t\tif (!this._el) { this.build(); }\n\n\t\tparent = def.parent || parent || this.getContainer() || this._el;\n\n\t\t// def is either a Widget or a definition for a Widget\n\t\tif (!(def instanceof Widget)) {\n\t\t\t// if it is not yet a widget, make it (or make a DOM node)\n\t\t\tvar opts = merge({}, def, {parent: parent, __result: result});\n\t\t\tif (opts.children) {\n\t\t\t\tvar children = opts.children;\n\t\t\t\tdelete opts.children;\n\t\t\t}\n\n\t\t\tvar el;\n\t\t\tif ('type' in opts && !opts.type) {\n\t\t\t\tlogger.WARN&&console.warn(\"WARN\",\"squill.Widget\",'Did you forget to provide a type?', opts);\n\t\t\t}\n\n\t\t\tif (!opts.type || typeof opts.type == 'string') {\n\t\t\t\tif (WIDGET_CLASSES[opts.type]) {\n\t\t\t\t\tvar Constructor = jsio('import ' + WIDGET_CLASSES[opts.type]);\n\t\t\t\t\tel = new Constructor(opts);\n\t\t\t\t} else if (!result) {\n\t\t\t\t\tel = new Widget(opts);\n\t\t\t\t} else {\n\t\t\t\t\tif (opts.type == 'image') {\n\t\t\t\t\t\topts = merge({tag: 'img'}, opts);\n\t\t\t\t\t}\n\t\t\t\t\tel = $(opts);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel = new opts.type(opts);\n\t\t\t}\n\n\t\t\tif (result && opts.id && !result.hasWidget(opts.id)) {\n\t\t\t\tresult.addWidget(opts.id, el);\n\t\t\t}\n\t\t} else {\n\t\t\tel = def;\n\t\t}\n\n\t\tif (el instanceof Widget) {\n\t\t\tif (el.getWidgetParent() != this) {\n\t\t\t\tvar prevParent = el.getWidgetParent();\n\t\t\t\tif (prevParent) {\n\t\t\t\t\tprevParent.removeWidget(this);\n\t\t\t\t}\n\n\t\t\t\tel._widgetParent = this;\n\t\t\t\tif (!el.controller) {\n\t\t\t\t\tel.controller = this;\n\t\t\t\t}\n\n\t\t\t\tthis._children.push(el);\n\t\t\t}\n\n\t\t\tif (el.getParent() != parent) {\n\t\t\t\tel.setParent(parent);\n\t\t\t}\n\t\t}\n\n\t\tif (children) {\n\t\t\tif (el.buildChildren) {\n\t\t\t\tif (!result) { result = new WidgetSet(el); }\n\t\t\t\tel.buildChildren(children, null, result);\n\t\t\t} else {\n\t\t\t\tfor (var i = 0, c; c = children[i]; ++i) {\n\t\t\t\t\tthis.addWidget(c, el, result);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn el;\n\t};\n\n\tthis.removeWidget = function (widget) {\n\t\tvar index = this._children.indexOf(widget);\n\t\tif (index >= 0) {\n\t\t\tthis._children.splice(index, 1);\n\t\t}\n\t}\n\n\tthis.getContainer = function () { return this._el; };\n\tthis.getName = function () { return this._name; };\n\tthis.setName = function (name) { this._name = name; };\n\n\tthis.buildContent = function() {\n\t\tvar opts = this._opts;\n\n\t\tif (global.getWidgetPrefix() !== null) {\n\t\t\t$.addClass(this._el, global.getWidgetPrefix() + this._css);\n\t\t}\n\n\t\tif (!this.delegate) { this.delegate = new Delegate(); }\n\n\t\t// TODO: what's this doing here?\n\t\tif (opts.errorLabel) {\n\t\t\tthis._errorLabel = $.create({html: opts.errorLabel, className: global.getWidgetPrefix() + 'textInputErrorLabel', parent: this._el});\n\t\t}\n\n\t\t// def items always go on the widget\n\t\tvar def = this._def;\n\n\t\t// build each set of children separately so the parent container can\n\t\t// be checked/recomputed after each set\n\t\tif (def.children) {\n\t\t\tvar localRes = new WidgetSet(this);\n\t\t\tfor (var i = def.children.length - 1; i >= 0; --i) {\n\t\t\t\tthis.buildChildren(def.children[i], null, localRes);\n\t\t\t}\n\t\t}\n\n\t\t// primary target for opts children is the result passed in\n\t\tvar result = opts.__result || localRes || new WidgetSet(this);\n\n\t\t// opts items sometimes go on the widget\n\t\tif (opts.children) {\n\t\t\tthis.buildChildren(opts.children, null, result);\n\t\t}\n\n\t\tif (opts.data && this.setData) { bindings.parseData(this, opts.data); }\n\n\t\tthis.buildWidget(this._el, result);\n\t};\n\n\tthis.buildChildren = function (children, parent, result) {\n\t\tif (!parent) { parent = this.getContainer() || this._el; }\n\n\t\tfor (var i = 0, n = children.length; i < n; ++i) {\n\t\t\tthis.addWidget(children[i], parent, result);\n\t\t}\n\t};\n\n\tthis.buildWidget = function() {};\n\n\t// TODO: what's this doing here?\n\tthis.errors = function() {\n\t\treturn this.validators.map(function(item){\n\t\t\tif (item.isValid == false){\n\t\t\t\treturn item.message;\n\t\t\t}\n\t\t});\n\t};\n\n\t// TODO: what's this doing here?\n\tthis.validate = function() {\n\t\tvar isValid = true;\n\t\tfor (var i = 0, len = this.validators.length; i < len; ++i) {\n\t\t\tvar v = this.validators[i];\n\t\t\tisValid = isValid && (v.isValid = v.call(this));\n\t\t}\n\t\treturn (this._isValid = isValid);\n\t};\n\n\t// TODO: what's this doing here?\n\tthis._isValid = true;\n\tthis.isValid = function() { return this._isValid; }\n\tthis.validators = [];\n\n\tthis.getI18n = function(key, id) {\n\t\tvar src = key in this._opts\n\t\t\t? this._opts\n\t\t\t: i18n.get(id || this._opts.id);\n\n\t\treturn src && src[key] || '';\n\t};\n\n\tthis.getElement = function() {\n\t\tif (!this._el) { this.build(); }\n\t\treturn this._el;\n\t};\n\n\tthis.addClass = function (cls) { $.addClass(this._el, cls); }\n\tthis.removeClass = function (cls) { $.removeClass(this._el, cls); }\n\tthis.hasClass = function (cls) {\n\t\treturn (' ' + this._el.className + ' ').indexOf(cls) >= 0;\n\t}\n\tthis.toggleClass = function (cls, isToggled) {\n\t\tif (isToggled === undefined) {\n\t\t\tisToggled = !this.hasClass(cls);\n\t\t}\n\n\t\tif (isToggled) {\n\t\t\tthis.addClass(cls);\n\t\t} else {\n\t\t\tthis.removeClass(cls);\n\t\t}\n\t}\n\n\tthis.onBeforeShow = function() {\n\t\tfor (var i = 0, child; child = this._children[i]; ++i) {\n\t\t\tchild.onBeforeShow.apply(child, arguments);\n\t\t}\n\t};\n\n\tthis.onShow = function() {\n\t\tthis._isShowing = true;\n\t\tfor (var i = 0, child; child = this._children[i]; ++i) {\n\t\t\tchild.onShow.apply(child, arguments);\n\t\t}\n\t};\n\n\tthis.onBeforeHide = function() {\n\t\tfor (var i = 0, child; child = this._children[i]; ++i) {\n\t\t\tchild.onBeforeHide.apply(child, arguments);\n\t\t}\n\t};\n\n\tthis.onHide = function() {\n\t\tthis._isShowing = false;\n\t\tfor (var i = 0, child; child = this._children[i]; ++i) {\n\t\t\tchild.onHide.apply(child, arguments);\n\t\t}\n\t};\n\n\tthis.isShowing = function() { return this._isShowing; }\n\n\tthis.show = function() {\n\t\tthis.onBeforeShow();\n\n\t\tvar style = this._opts && this._opts.style;\n\t\tvar display = style && style.display != 'none' && style.display || 'block';\n\t\tif (this._el) {\n\t\t\tthis._el.style.display = display;\n\t\t}\n\n\t\tthis.onShow();\n\t\treturn this;\n\t};\n\n\tthis.hide = function() {\n\t\tthis.onBeforeHide();\n\t\t$.hide(this.getElement());\n\t\tthis.onHide();\n\t\treturn this;\n\t};\n\n\tthis.removeChildren = function () {\n\t\tthis._children.forEach(function (child) { child.remove(); });\n\t}\n\n\tthis.remove = function() {\n\t\tthis.onBeforeHide();\n\t\t$.remove(this.getElement());\n\t\tthis.onHide();\n\t};\n\n\tthis.getModel = function () {\n\t\treturn this.__model;\n\t}\n\n\tthis.setModel = function (path, value) {\n\t\tif (arguments.length == 1) {\n\t\t\tthis.__model.setObject(path);\n\t\t} else {\n\t\t\tthis.__model.set(path, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tthis.putHere = function() {\n\t\tif(!this._el) { this.build(); }\n\n\t\tvar id = 'jsioWidgetId' + (++uid);\n\t\tglobal.getTargetDocument().write('<div id=\"'+id+'\"></div>');\n\t\tsetTimeout(bind(this, _replaceNode, id), 0);\n\n\t\treturn this;\n\t};\n\n\tfunction _replaceNode(id) {\n\t\tvar el = $.id(id);\n\t\tel.parentNode.insertBefore(this._el, el);\n\t\tel.parentNode.removeChild(el);\n\t};\n\n\tthis.appendTo =\n\tthis.setParent = function(parent) {\n\t\tvar el = parent\n\t\t\t&& (parent.getContainer && parent.getContainer()\n\t\t\t\t\t|| parent.appendChild && parent\n\t\t\t\t\t|| $.id(parent));\n\n\t\tif (el) {\n\t\t\tif (!this._el) {\n\t\t\t\tthis._opts.parent = el;\n\t\t\t\tthis.build();\n\t\t\t} else {\n\t\t\t\tel.appendChild(this._el);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n});\n\nvar map = {};\nvar lowerCaseMap = {}\nWidget.register = function(cls, name) {\n\tif (name in map) { throw Error(\"A widget with name '\" + name + \"' is already registered\"); }\n\tmap[name] = cls;\n\tlowerCaseMap[name.toLowerCase()] = cls;\n};\n\nWidget.get = function(name) {\n\treturn lowerCaseMap[name.toLowerCase()];\n}\n\nWidget.WidgetSet = WidgetSet;\n",
            "pre": true
        },
        "node_modules/squill/Element.js": {
            "path": "node_modules/squill/Element.js",
            "friendlyPath": ".Element",
            "directory": "node_modules/squill/",
            "filename": "Element.js",
            "src": "jsio('import lib.PubSub');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Element=__class__;var Element = exports=c__Users_Surface_cloud_devkit_node_modules_squill_Element(function c__Users_Surface_cloud_devkit_node_modules_squill_Element(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function(supr) {\n\tthis.init = function(opts) {\n\t\tthis._opts = JS.merge(opts, {\n\t\t\twin: window,\n\t\t\ttag: 'div'\n\t\t});\n\t}\n\n\tthis.build = function() {\n\t\tif (!this._el) {\n\t\t\tif (this._opts.el) {\n\t\t\t\tthis._el = this._opts.el;\n\t\t\t\t$.apply(this._el, this._opts);\n\t\t\t} else {\n\t\t\t\tthis._el = $.create(this._opts);\n\t\t\t}\n\n\t\t\tthis.buildContent();\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tthis.getId = function() { return this._el && this._el.id || this._opts && this._opts.id; }\n\n\tthis.buildContent = function() {}\n\n\tthis.destroy = function() {\n\t\tif (!this._el) { return; }\n\t}\n\n\tthis.getElement = function() { return this._el || this.build()._el; }\n\n\tthis.appendChild = function(el) {\n\t\tif (!this._el) { this.build(); }\n\t\tthis._el.appendChild(el instanceof Element ? el._el : el);\n\n\t\treturn this;\n\t}\n\n\tthis.appendTo = function(el) {\n\t\tif (!this._el) { this.build(); }\n\n\t\tif (el instanceof Element) {\n\t\t\tel.appendChild(this);\n\t\t} else {\n\t\t\tel.appendChild(this._el);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tthis.setPos = function(x, y) {\n\t\tthis._el.style.x = x + 'px';\n\t\tthis._el.style.y = y + 'px';\n\t}\n\n\tthis.center = function() {\n\t\tvar dim = $(window);\n\t\tthis.setPos(Math.max(0, dim.width - this._el.offsetWidth) / 2, Math.max(0, dim.height - this._el.offsetHeight) / 2);\n\t}\n\n\tthis.remove = function() { $.remove(this._el); }\n});\n",
            "pre": true
        },
        "node_modules/squill/Events.js": {
            "path": "node_modules/squill/Events.js",
            "friendlyPath": ".Events",
            "directory": "node_modules/squill/",
            "filename": "Events.js",
            "src": "jsio('from util.browser import $');\njsio('import .Drag');\njsio('import lib.PubSub');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Events=__class__;exports=c__Users_Surface_cloud_devkit_node_modules_squill_Events(function c__Users_Surface_cloud_devkit_node_modules_squill_Events(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function() {\n\tvar SLICE = Array.prototype.slice;\n\n\tvar isMobile = /(iPod|iPhone|iPad|Android)/i.test(navigator.userAgent);\n\n\tthis.event = function(el, name, handler) {\n\t\tif (!this._eventEnabled) { this._eventEnabled = {}; }\n\t\tvar args = [this, handler].concat(SLICE.call(arguments, 3)),\n\t\t\thandler = bind.apply(this, args),\n\t\t\tevents = this._eventEnabled;\n\n\t\tevents[name] = true;\n\t\t$.onEvent(el, name, function() {\n\t\t\tif (events[name]) {\n\t\t\t\treturn handler.apply(this, arguments);\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.isDragging = function() {\n\t\treturn this._isDragging || false;\n\t};\n\n\tthis.initDragEvents = function(el) {\n\t\tif (!this.__drag) {\n\t\t\tvar d = this.__drag = new Drag();\n\t\t\td.subscribe('DragStart', this, 'onDragStart');\n\t\t\td.subscribe('Drag', this, 'onDrag');\n\t\t\td.subscribe('DragStop', this, 'onDragStop');\n\t\t}\n\n\t\tvar startDrag = bind(this.__drag, 'startDrag');\n\t\tif (!el) { el = this._el; }\n\t\tif (el.addEventListener) { el.addEventListener('touchstart', startDrag, true); }\n\t\t$.onEvent(el, 'mousedown', startDrag);\n\t};\n\n\tthis.initMouseEvents = function(el) {\n\t\tel = el || this._el;\n\n\t\tif (isMobile) {\n\t\t\tthis.event(el, 'touchstart', '_onTouchStart');\n\t\t\tthis.event(el, 'touchend', '_onTouchEnd');\n\t\t} else {\n\t\t\tthis.event(el, 'mouseover', 'onMouseOver');\n\t\t\tthis.event(el, 'mousemove', 'onMouseMove');\n\t\t\tthis.event(el, 'mouseout', 'onMouseOut');\n\t\t\tthis.event(el, 'mousedown', 'onMouseDown');\n\t\t\tthis.event(el, 'mouseup', 'onMouseUp');\n\t\t\tthis.event(el, 'click', 'onClick');\n\t\t}\n\n\t\tvar opts = this._opts;\n\t\tif (opts && opts.__result) {\n\t\t\topts.__result.addSubscription(this, 'Select');\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.initFocusEvents = function(el) {\n\t\tel = el || this._el;\n\t\tthis.event(el, 'focus', 'onFocus');\n\t\tthis.event(el, 'blur', 'onBlur');\n\t\treturn this;\n\t};\n\n\tthis.initKeyEvents = function(el) {\n\t\tel = el || this._el;\n\t\tthis.event(el, 'keydown', 'onKeyDown');\n\t\tthis.event(el, 'keypress', 'onKeyPress');\n\t\tthis.event(el, 'keyup', 'onKeyUp');\n\t\treturn this;\n\t}\n\n\tthis._onTouchStart = function(e) {\n\t\tthis.onMouseOver(e);\n\t\tthis.onMouseDown(e);\n\t};\n\n\tthis._onTouchEnd = function(e) {\n\t\tthis.onMouseUp(e);\n\t\tthis.onClick(e);\n\t\tthis.onMouseOut(e);\n\t};\n\n\tthis.onMouseOver = function(e) {\n\t\tif (!this._enableMouseEvents)\n\t\tthis._isOver = true;\n\t\tthis.publish('Over', e);\n\t};\n\n\tthis.onMouseMove = function(e) {\n\t\tif (!this._enableMouseEvents)\n\t\tthis.publish('Move', e);\n\t};\n\n\tthis.onMouseOut = function(e) {\n\t\tthis._isOver = false;\n\t\tthis.publish('Out', e);\n\t};\n\n\tthis.onMouseDown = function(e) {\n\t\tthis._isDown = true;\n\t\tthis.publish('Down', e);\n\t\treturn false;\n\t};\n\n\tthis.onMouseUp = function(e) {\n\t\tthis._isDown = false;\n\t\tthis.publish('Up', e);\n\t\treturn false;\n\t};\n\n\tthis.onClick = function(e) {\n\t\tthis.publish('Select', e);\n\t\tthis.emit('click', e);\n\t\treturn false;\n\t};\n\n\tthis.onFocus = function(e) {\n\t\tthis._isFocused = true;\n\t\tthis.publish('Focus', e);\n\t};\n\n\tthis.onBlur = function(e) {\n\t\tthis._isFocused = false;\n\t\tthis.publish('Blur', e);\n\t};\n\n\tthis.onKeyUp = function(e) {\n\t\tthis.publish('KeyUp', e);\n\t};\n\n\tthis.onKeyPress = function(e) {\n\t\tthis.publish('KeyPress', e);\n\t};\n\n\tthis.onKeyDown = function(e) {\n\t\tthis.publish('KeyDown', e);\n\t};\n\n\tthis.onDragStart = function(dragEvt) {};\n\tthis.onDrag = function(dragEvt, moveEvt) {};\n\tthis.onDragStop = function(dragEvt, upEvt) {};\n});\n",
            "pre": true
        },
        "node_modules/squill/Drag.js": {
            "path": "node_modules/squill/Drag.js",
            "friendlyPath": "squill.Drag",
            "directory": "node_modules/squill/",
            "filename": "Drag.js",
            "src": "jsio('import lib.PubSub');\njsio('import math.geom.Point as Point');\njsio('from util.browser import $');\n\nvar gCurrentDrag = [],\n\tgCurrentMouse = {x: 0, y: 0};\n\nfunction resolveMouse(e) {\n\tif (e.touches) { return resolveMouse(e.touches[0]); }\n\t\n\tif ('pageX' in e) {\n\t\tgCurrentMouse.x = e.pageX;\n\t\tgCurrentMouse.y = e.pageY;\n\t} else { // looks like IE\n\t\tvar doc = document.documentElement,\n\t\t\tbody = document.body;\n\t\t\n\t\tgCurrentMouse.x = e.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n\t\tgCurrentMouse.y = e.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop  || body && body.clientTop  || 0);\n\t}\n}\n\nvar _active = false;\n\nfunction gAddItem(item) {\n\tgRemoveItem(item);\n\tgCurrentDrag.push(item);\n\t_active = true;\n}\n\nfunction gRemoveItem(item) {\n\tfor (var i = 0; i < gCurrentDrag.length; ++i) {\n\t\tif (gCurrentDrag[i] == item) {\n\t\t\tgCurrentDrag.splice(i, 1);\n\t\t\t--i;\n\t\t}\n\t}\n\n\tif (!gCurrentDrag[0]) { _active = false; }\n}\n\nfunction onMove(e) {\n\tif (!_active) { return; }\n\n\tresolveMouse(e);\n\tfor (var i = 0; i < gCurrentDrag.length; ++i) {\n\t\tgCurrentDrag[i].onMouseMove(e);\n\t}\n\n}\n\nfunction onUp(e) {\n\tif (!_active) { return; }\n\n\tfor (var i = 0; i < gCurrentDrag.length; ++i) {\n\t\tgCurrentDrag[i].onMouseUp(e);\n\t}\n}\n\nfunction registerWindow(win) {\n\tvar doc = win.document;\n\tif ('ontouchstart' in win) {\n\t\tdoc.addEventListener('touchstart', resolveMouse, true);\n\t\tdoc.addEventListener('touchmove', onMove, true);\n\t\tdoc.addEventListener('touchend', onUp, true);\n\t} else {\n\t\tdoc.addEventListener('mousedown', resolveMouse, true);\n\t\tdoc.addEventListener('mousemove', onMove, true);\n\t\tdoc.addEventListener('mouseup', onUp, true);\n\t}\n}\n\nvar node_modules_squill_Drag=__class__;exports=node_modules_squill_Drag(function node_modules_squill_Drag(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function(supr) {\n\n\tthis.init = function(params) {\n\t\tthis._isActive = false;\n\t}\n\t\n\tthis.isDragging = function () { return this._isActive; }\n\n\t// data is an optional object that will be added to dragEvt.data.\n\t// This allows the caller of startDrag to pass along arbitrary objects\n\t// to the DragStart, Drag, and DragStop events, since the receiver\n\t// can just read data off of the event object (first argument).\n\tthis.startDrag = function(params, data) {\n\t\tvar e = this._evt = new exports.DragEvent();\n\t\tthis._evt.data = data;\n\t\tthis._evt.params = merge(params, {\n\t\t\t/* addInScroll: true, */ // TODO?\n\t\t\tthreshold: 5\n\t\t});\n\n\t\te.srcPt = new Point(gCurrentMouse);\n\t\te.currPt = new Point(gCurrentMouse);\n\t\tgAddItem(this);\n\t}\n\n\tthis.onMouseMove = function (moveEvt) {\n\n\t\tvar dragEvt = this._evt;\n\t\tvar absDelta = Point.subtract(gCurrentMouse, dragEvt.srcPt);\n\n\t\tif (!this._isActive && absDelta.getMagnitude() > dragEvt.params.threshold) {\n\t\t\tthis._isActive = true;\n\n\t\t\tvar doc = moveEvt.target && (moveEvt.target.ownerDocument || moveEvt.target.nodeType == 9 && moveEvt.target);\n\t\t\tthis.disableIframes(doc);\n\t\t\tthis.publish('DragStart', dragEvt);\n\t\t}\n\n\t\tif (this._isActive) {\n\t\t\t$.stopEvent(moveEvt);\n\n\t\t\tdragEvt.prevPt = dragEvt.currPt;\n\t\t\tdragEvt.currPt = new Point(gCurrentMouse);\n\t\t\tthis.publish('Drag', dragEvt, moveEvt, Point.subtract(dragEvt.currPt, dragEvt.prevPt));\n\t\t}\n\t}\n\n\tthis.onMouseUp = function(upEvt) {\n\t\tgRemoveItem(this);\n\t\tif (this._isActive) {\n\n\t\t\t$.stopEvent(upEvt);\n\t\t\tthis._isActive = false;\n\t\t\tthis.enableIframes();\n\t\t\tthis.publish('DragStop', this._evt, upEvt);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tthis.disableIframes = function (doc) {\n\t\tif (!this._disabledFrames) {\n\t\t\tthis._disabledFrames = [];\n\t\t}\n\n\t\t$(\"iframe\", doc).forEach(function (iframe) {\n\t\t\ttry {\n\t\t\t\tthis._disabledFrames.push({\n\t\t\t\t\tframe: iframe,\n\t\t\t\t\tpointerEvents: iframe.style.pointerEvents\n\t\t\t\t});\n\n\t\t\t\tiframe.style.pointerEvents = 'none';\n\t\t\t} catch (e) {}\n\t\t}, this);\n\t}\n\n\tthis.enableIframes = function () {\n\t\tthis._disabledFrames.splice(0, this._disabledFrames.length).forEach(function (item) {\n\t\t\titem.frame.style.pointerEvents = item.pointerEvents;\n\t\t});\n\t}\n});\n\nexports.registerWindow = registerWindow;\n\nexports.DragEvent=__class__;exports.DragEvent=exports.DragEvent(function exports_DragEvent(){return this.init&&this.init.apply(this,arguments)},function() {});\n\nvar win = window;\nregisterWindow(win);\nwhile (win.parent != win) {\n\twin = win.parent;\n\ttry {\n\t\tregisterWindow(win);\n\t} catch (e) {}\n}\n",
            "pre": true
        },
        "node_modules/squill/global.js": {
            "path": "node_modules/squill/global.js",
            "friendlyPath": ".global",
            "directory": "node_modules/squill/",
            "filename": "global.js",
            "src": "var gWidgetPrefix = 'squill-';\nvar gWin = window;\nvar gDoc = document;\n\nexports.setTargetWindow = function(w) { gWin = w; gDoc = w.document; }\nexports.getTargetWindow = function() { return gWin; }\nexports.getTargetDocument = function() { return gDoc; }\n\nexports.setWidgetPrefix = function(p) { gWidgetPrefix = p; }\nexports.getWidgetPrefix = function() { return gWidgetPrefix; }\n",
            "pre": true
        },
        "node_modules/squill/i18n.js": {
            "path": "node_modules/squill/i18n.js",
            "friendlyPath": ".i18n",
            "directory": "node_modules/squill/",
            "filename": "i18n.js",
            "src": "var gLang = null;\n\nexports.setLang = function(lang) { gLang = lang; }\nexports.get = function(key) {\n\treturn gLang && gLang.get(key);\n}\n\nexports.Language=__class__;exports.Language=exports.Language(function exports_Language(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(dict) { this._dict = dict; }\n\tthis.add = function(key, value) { this._dict[key] = value; }\n\tthis.get = function(key) { return this._dict[key]; }\n});\n",
            "pre": true
        },
        "node_modules/squill/Delegate.js": {
            "path": "node_modules/squill/Delegate.js",
            "friendlyPath": "squill.Delegate",
            "directory": "node_modules/squill/",
            "filename": "Delegate.js",
            "src": "var SLICE = Array.prototype.slice;\n\nvar node_modules_squill_Delegate=__class__;var Delegate = exports=node_modules_squill_Delegate(function node_modules_squill_Delegate(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(def) {\n\t\tdef && def(this);\n\t}\n\n\tthis.extend = function(def) {\n\t\tvar delegate = new Delegate(def);\n\t\tdelegate.parent = this;\n\t\treturn delegate;\n\t}\n\n\tthis.call = function(ctx, name) {\n\t\tif (this[name]) {\n\t\t\treturn this[name].apply(ctx, SLICE.call(arguments, 2));\n\t\t} else if (this.parent) {\n\t\t\treturn this.parent.apply(ctx, SLICE.call(arguments, 1));\n\t\t}\n\t}\n\n\tthis.apply = function (ctx, args) {\n\t\tthis.call.apply(this, [ctx].concat(SLICE.call(args)));\n\t}\n});\n",
            "pre": true
        },
        "node_modules/squill/models/Model.js": {
            "path": "node_modules/squill/models/Model.js",
            "friendlyPath": ".models.Model",
            "directory": "node_modules/squill/models/",
            "filename": "Model.js",
            "src": "jsio('import lib.PubSub');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_models_Model=__class__;var Model = exports=c__Users_Surface_cloud_devkit_node_modules_squill_models_Model(function c__Users_Surface_cloud_devkit_node_modules_squill_models_Model(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function (supr) {\n\n  this.init = function (opts) {\n    var obj;\n\n    if (opts instanceof Model) {\n      var cloneFrom = opts;\n      opts = {\n        localStorage: cloneFrom._storageKey\n      };\n\n      obj = cloneFrom._data;\n    }\n\n    this._data = {};\n\n    if (opts && opts.localStorage) {\n      this._storageKey = opts.localStorage;\n\n      if (obj === undefined) {\n        var raw = localStorage.getItem(this._storageKey);\n        if (raw) {\n          try {\n            obj = JSON.parse(raw);\n          } catch (e) {}\n        }\n      }\n    }\n\n    this.setObject(obj || {});\n\n    if (opts) {\n      // initial values\n      if (opts.values) {\n        Object.keys(opts.values).forEach(function (key) {\n          this.set(key, opts.values[key]);\n        }, this);\n      }\n\n      // default values\n      if (opts.defaults) {\n        Object.keys(opts.defaults).forEach(function (key) {\n          if (!this.has(key)) {\n            this.set(key, opts.defaults[key]);\n          }\n        }, this);\n      }\n    }\n  }\n\n  this.setObject = function (obj) {\n    this._data = obj;\n    this.emit();\n    this.persist();\n    return this;\n  }\n\n  this.toObject = function () {\n    return copy(this._data);\n  }\n\n  function copy(obj) {\n    return JSON.parse(JSON.stringify(obj));\n  }\n\n  this.clone = function () {\n    return new Model(this.getObject());\n  }\n\n  var PATH_SEP = /[\\[.,]/;\n  function parsePath(path) {\n    return path.split(PATH_SEP).map(function (piece) {\n      return piece[piece.length - 1] == ']' ? parseInt(piece) : piece;\n    });\n  }\n\n  function matchPath(p1, p2) {\n    return p1.indexOf(p2) == 0 || p2.indexOf(p1) == 0;\n  }\n\n  this.has = function (path) { return this.get(path) !== undefined; }\n\n  this.get = function (path) {\n    var segments = parsePath(path);\n    var n = segments.length;\n    var i = 0;\n    var o = this._data;\n    while (o && i < n) {\n      o = o[segments[i++]];\n    }\n\n    return o;\n  }\n\n  this.getObject = function (path) {\n    return copy(this.get(path) || {});\n  }\n\n  this.set = function (path, value) {\n    var segments = parsePath(path);\n    var n = segments.length - 1;\n    var i = 0;\n    var o = this._data;\n    while (o && i < n) {\n      var s = segments[i++];\n      if (!o[s]) {\n        o[s] = typeof segments[i] == 'number' ? [] : {};\n      }\n\n      o = o[s];\n    }\n\n    var prevValue = o[segments[n]];\n    if (value != prevValue) {\n      o[segments[n]] = value;\n      this.emit(path, value);\n    }\n\n    this.persist();\n    return this;\n  }\n\n  this.emit = function (path, value) {\n    if (path) {\n      supr(this, 'emit', arguments);\n    }\n\n    if (this._subscribers) {\n      Object.keys(this._subscribers).forEach(function (key) {\n        if (!path || key != path && matchPath(key, path)) {\n          supr(this, 'emit', [key, this.get(key)]);\n        }\n      }, this);\n    }\n    return this;\n  }\n\n  this.persist = function () {\n    if (this._storageKey) {\n      localStorage.setItem(this._storageKey, JSON.stringify(this._data));\n    }\n    return this;\n  }\n});\n",
            "pre": true
        },
        "node_modules/squill/models/bindings.js": {
            "path": "node_modules/squill/models/bindings.js",
            "friendlyPath": "squill.models.bindings",
            "directory": "node_modules/squill/models/",
            "filename": "bindings.js",
            "src": "var RE_BINDING = /(^|[^%])%\\((.*?)\\)([ +0-]?)(\\d*)(\\.?\\d*)([dfcs])/g;\n\nexports.parseFormat = function (widget, format) {\n  var subs = [];\n  format.replace(RE_BINDING, function (match, prefix, key, pad, minLength, decimal, type, index) {\n    subs.push({\n      index: index + prefix.length,\n      endIndex: index + match.length,\n      key: key,\n      pad: pad || ' ',\n      minLength: parseInt(minLength),\n      decimal: parseInt(decimal.substring(1)),\n      type: type,\n      value: ''\n    });\n  });\n\n  subs.reverse();\n  new Binding(widget, null, format, subs);\n}\n\nexports.parseData = function (widget, data) {\n  new Binding(widget, data);\n}\n\nBinding=__class__;var Binding=Binding(function Binding(){return this.init&&this.init.apply(this,arguments)},function () {\n  this.init = function (widget, key, src, subs) {\n\n    var res = widget.getOpts().__result;\n    var baseWidget = res && res.getTarget() || widget;\n\n    this._widget = widget;\n    this._key = key;\n    this._src = src;\n    this._subs = subs;\n\n    this._connect(baseWidget.getModel());\n\n    //  else if (widget.setEnabled && widget.isEnabled && widget.isEnabled()) {\n    //   // disable input until the model is backing it\n    //   this._isDisabled = true;\n    //   widget.setEnabled(false);\n    // }\n\n    widget.on('change', bind(this, '_updateModel'));\n    baseWidget.on('model', bind(this, '_connect'));\n  }\n\n  this._connect = function (model) {\n    if (this._model) { this._disconnect(); }\n    this._model = model;\n\n    // this._widget.setEnabled(true);\n\n    if (this._subs) {\n      this._subs.forEach(function (sub) {\n        sub.value = model.get(sub.key);\n        model.subscribe(sub.key, this, '_update', sub.key);\n      }, this);\n\n      this._update();\n    } else if (this._key) {\n      model.subscribe(this._key, this, '_updateKey');\n      this._updateKey(model.get(this._key));\n    }\n  }\n\n  this._disconnect = function () {\n    var model = this._model;\n    this._subs && this._subs.forEach(function (sub) {\n      model.unsubscribe(sub.key, this);\n    }, this);\n\n    this._key && model.unsubscribe(this._key, this);\n  }\n\n  this._update = function (key, value) {\n    var str = this._src;\n    this._subs.forEach(function (sub) {\n      if (key && sub.key == key) { sub.value = value; }\n      str = str.substring(0, sub.index) + sub.value + str.substring(sub.endIndex);\n    }, this);\n\n    this._widget.setData(str);\n  }\n\n  this._updateKey = function (value) {\n    this._widget.setData(value);\n  }\n\n  this._updateModel = function (value) {\n    if (this._model && this._key) {\n      this._model.set(this._key, value);\n    }\n  }\n});\n\n/*\n\nvar bindings = require('./bindings');\nbindings.parseFormat({}, \"Hello world %(format.this) 4d %(format.that)06.2f\")\n\n*/\n",
            "pre": true
        },
        "node_modules/squill/__imports__.js": {
            "path": "node_modules/squill/__imports__.js",
            "friendlyPath": ".__imports__",
            "directory": "node_modules/squill/",
            "filename": "__imports__.js",
            "pre": true,
            "src": "exports.classes = {\n\talpha: '.Alpha',\n\tlabel: '.Label',\n\tlist: '.List',\n\tbutton: '.TextButton',\n\ttext: '.TextInput',\n\ttextarea: '.TextArea',\n\tpassword: '.TextInput',\n\tscroller: '.Scroller',\n\tcanvas: '.Canvas',\n\tcheckbox: '.CheckBox',\n\tmenu: '.Menu',\n\tslider: '.Slider',\n\tcolor: '.Color',\n\tvcenter: '.VerticalCenter',\n\ttreelist: '.TreeList',\n\tgraph: '.Graph',\n\tselect: '.SelectBox',\n\twidget: '.Widget'\n};\n\n\nexports.resolve = function(env, opts) {\n\tvar imports = [];\n\n\tif (env == 'browser') {\n\t\tfor (var key in exports.classes) {\n\t\t\timports.push(exports.classes[key]);\n\t\t}\n\t}\n\n\treturn imports;\n}\n"
        },
        "node_modules/squill/jscolor/jscolor.js": {
            "path": "node_modules/squill/jscolor/jscolor.js",
            "friendlyPath": ".jscolor.jscolor",
            "directory": "node_modules/squill/jscolor/",
            "filename": "jscolor.js",
            "src": "/**\n * jscolor, JavaScript Color Picker\n *\n * @version 1.3.11\n * @license GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html\n * @author  Jan Odvarko, http://odvarko.cz\n * @created 2008-06-15\n * @updated 2011-11-07\n * @link    http://jscolor.com\n */\n\n\nvar jscolor = {\n\n\n\tdir : '', // location of jscolor directory (leave empty to autodetect)\n\tbindClass : 'color', // class name\n\tbinding : true, // automatic binding via <input class=\"...\">\n\tpreloading : true, // use image preloading?\n\n\n\tinstall : function() {\n\t\tjscolor.addEvent(window, 'load', jscolor.init);\n\t},\n\n\n\tinit : function() {\n\t\tif(jscolor.binding) {\n\t\t\tjscolor.bind();\n\t\t}\n\t\tif(jscolor.preloading) {\n\t\t\tjscolor.preload();\n\t\t}\n\t},\n\n\n\tgetDir : function() {\n\t\t/*\n\t\tif(!jscolor.dir) {\n\t\t\tvar detected = jscolor.detectDir();\n\t\t\tjscolor.dir = detected!==false ? detected : 'jscolor/';\n\t\t}\n\t\t*/\n\t\tjscolor.dir = 'images/colorpicker/'\n\t\treturn jscolor.dir;\n\t},\n\n\n\tdetectDir : function() {\n\t\tvar base = location.href;\n\n\t\tvar e = document.getElementsByTagName('base');\n\t\tfor(var i=0; i<e.length; i+=1) {\n\t\t\tif(e[i].href) { base = e[i].href; }\n\t\t}\n\n\t\tvar e = document.getElementsByTagName('script');\n\t\tfor(var i=0; i<e.length; i+=1) {\n\t\t\tif(e[i].src && /(^|\\/)jscolor\\.js([?#].*)?$/i.test(e[i].src)) {\n\t\t\t\tvar src = new jscolor.URI(e[i].src);\n\t\t\t\tvar srcAbs = src.toAbsolute(base);\n\t\t\t\tsrcAbs.path = srcAbs.path.replace(/[^\\/]+$/, ''); // remove filename\n\t\t\t\tsrcAbs.query = null;\n\t\t\t\tsrcAbs.fragment = null;\n\t\t\t\treturn srcAbs.toString();\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\n\tbind : function(element) {\n\t\t/*\n\t\tvar matchClass = new RegExp('(^|\\\\s)('+jscolor.bindClass+')\\\\s*(\\\\{[^}]*\\\\})?', 'i');\n\t\tvar e = document.getElementsByTagName('input');\n\t\tfor(var i=0; i<e.length; i+=1) {\n\t\t\tvar m;\n\t\t\tif(!e[i].color && e[i].className && (m = e[i].className.match(matchClass))) {\n\t\t\t\tvar prop = {};\n\t\t\t\tif(m[3]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\teval('prop='+m[3]);\n\t\t\t\t\t} catch(eInvalidProp) {}\n\t\t\t\t}\n\t\t\t\te[i].color = new jscolor.color(e[i], prop);\n\t\t\t}\n\t\t}\n\t\t*/\n\t\telement.color = new jscolor.color(element, {});\n\t},\n\n\n\tpreload : function() {\n\t\tfor(var fn in jscolor.imgRequire) {\n\t\t\tif(jscolor.imgRequire.hasOwnProperty(fn)) {\n\t\t\t\tjscolor.loadImage(fn);\n\t\t\t}\n\t\t}\n\t},\n\n\n\timages : {\n\t\tpad : [ 181, 101 ],\n\t\tsld : [ 16, 101 ],\n\t\tcross : [ 15, 15 ],\n\t\tarrow : [ 7, 11 ]\n\t},\n\n\n\timgRequire : {},\n\timgLoaded : {},\n\n\n\trequireImage : function(filename) {\n\t\tjscolor.imgRequire[filename] = true;\n\t},\n\n\n\tloadImage : function(filename) {\n\t\tif(!jscolor.imgLoaded[filename]) {\n\t\t\tjscolor.imgLoaded[filename] = new Image();\n\t\t\tjscolor.imgLoaded[filename].src = jscolor.getDir()+filename;\n\t\t}\n\t},\n\n\n\tfetchElement : function(mixed) {\n\t\treturn typeof mixed === 'string' ? document.getElementById(mixed) : mixed;\n\t},\n\n\n\taddEvent : function(el, evnt, func) {\n\t\tif(el.addEventListener) {\n\t\t\tel.addEventListener(evnt, func, false);\n\t\t} else if(el.attachEvent) {\n\t\t\tel.attachEvent('on'+evnt, func);\n\t\t}\n\t},\n\n\n\tfireEvent : function(el, evnt) {\n\t\tif(!el) {\n\t\t\treturn;\n\t\t}\n\t\tif(document.createEvent) {\n\t\t\tvar ev = document.createEvent('HTMLEvents');\n\t\t\tev.initEvent(evnt, true, true);\n\t\t\tel.dispatchEvent(ev);\n\t\t} else if(document.createEventObject) {\n\t\t\tvar ev = document.createEventObject();\n\t\t\tel.fireEvent('on'+evnt, ev);\n\t\t} else if(el['on'+evnt]) { // alternatively use the traditional event model (IE5)\n\t\t\tel['on'+evnt]();\n\t\t}\n\t},\n\n\n\tgetElementPos : function(e) {\n\t\tvar e1=e, e2=e;\n\t\tvar x=0, y=0;\n\t\tif(e1.offsetParent) {\n\t\t\tdo {\n\t\t\t\tx += e1.offsetLeft;\n\t\t\t\ty += e1.offsetTop;\n\t\t\t} while(e1 = e1.offsetParent);\n\t\t}\n\t\twhile((e2 = e2.parentNode) && e2.nodeName.toUpperCase() !== 'BODY') {\n\t\t\tx -= e2.scrollLeft;\n\t\t\ty -= e2.scrollTop;\n\t\t}\n\t\treturn [x, y];\n\t},\n\n\n\tgetElementSize : function(e) {\n\t\treturn [e.offsetWidth, e.offsetHeight];\n\t},\n\n\n\tgetRelMousePos : function(e) {\n\t\tvar x = 0, y = 0;\n\t\tif (!e) { e = window.event; }\n\t\tif (typeof e.offsetX === 'number') {\n\t\t\tx = e.offsetX;\n\t\t\ty = e.offsetY;\n\t\t} else if (typeof e.layerX === 'number') {\n\t\t\tx = e.layerX;\n\t\t\ty = e.layerY;\n\t\t}\n\t\treturn { x: x, y: y };\n\t},\n\n\n\tgetViewPos : function() {\n\t\tif(typeof window.pageYOffset === 'number') {\n\t\t\treturn [window.pageXOffset, window.pageYOffset];\n\t\t} else if(document.body && (document.body.scrollLeft || document.body.scrollTop)) {\n\t\t\treturn [document.body.scrollLeft, document.body.scrollTop];\n\t\t} else if(document.documentElement && (document.documentElement.scrollLeft || document.documentElement.scrollTop)) {\n\t\t\treturn [document.documentElement.scrollLeft, document.documentElement.scrollTop];\n\t\t} else {\n\t\t\treturn [0, 0];\n\t\t}\n\t},\n\n\n\tgetViewSize : function() {\n\t\tif(typeof window.innerWidth === 'number') {\n\t\t\treturn [window.innerWidth, window.innerHeight];\n\t\t} else if(document.body && (document.body.clientWidth || document.body.clientHeight)) {\n\t\t\treturn [document.body.clientWidth, document.body.clientHeight];\n\t\t} else if(document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) {\n\t\t\treturn [document.documentElement.clientWidth, document.documentElement.clientHeight];\n\t\t} else {\n\t\t\treturn [0, 0];\n\t\t}\n\t},\n\n\n\tURI : function(uri) { // See RFC3986\n\n\t\tthis.scheme = null;\n\t\tthis.authority = null;\n\t\tthis.path = '';\n\t\tthis.query = null;\n\t\tthis.fragment = null;\n\n\t\tthis.parse = function(uri) {\n\t\t\tvar m = uri.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\\/\\/)([^\\/?#]*))?([^?#]*)((\\?)([^#]*))?((#)(.*))?/);\n\t\t\tthis.scheme = m[3] ? m[2] : null;\n\t\t\tthis.authority = m[5] ? m[6] : null;\n\t\t\tthis.path = m[7];\n\t\t\tthis.query = m[9] ? m[10] : null;\n\t\t\tthis.fragment = m[12] ? m[13] : null;\n\t\t\treturn this;\n\t\t};\n\n\t\tthis.toString = function() {\n\t\t\tvar result = '';\n\t\t\tif(this.scheme !== null) { result = result + this.scheme + ':'; }\n\t\t\tif(this.authority !== null) { result = result + '//' + this.authority; }\n\t\t\tif(this.path !== null) { result = result + this.path; }\n\t\t\tif(this.query !== null) { result = result + '?' + this.query; }\n\t\t\tif(this.fragment !== null) { result = result + '#' + this.fragment; }\n\t\t\treturn result;\n\t\t};\n\n\t\tthis.toAbsolute = function(base) {\n\t\t\tvar base = new jscolor.URI(base);\n\t\t\tvar r = this;\n\t\t\tvar t = new jscolor.URI;\n\n\t\t\tif(base.scheme === null) { return false; }\n\n\t\t\tif(r.scheme !== null && r.scheme.toLowerCase() === base.scheme.toLowerCase()) {\n\t\t\t\tr.scheme = null;\n\t\t\t}\n\n\t\t\tif(r.scheme !== null) {\n\t\t\t\tt.scheme = r.scheme;\n\t\t\t\tt.authority = r.authority;\n\t\t\t\tt.path = removeDotSegments(r.path);\n\t\t\t\tt.query = r.query;\n\t\t\t} else {\n\t\t\t\tif(r.authority !== null) {\n\t\t\t\t\tt.authority = r.authority;\n\t\t\t\t\tt.path = removeDotSegments(r.path);\n\t\t\t\t\tt.query = r.query;\n\t\t\t\t} else {\n\t\t\t\t\tif(r.path === '') { // TODO: == or === ?\n\t\t\t\t\t\tt.path = base.path;\n\t\t\t\t\t\tif(r.query !== null) {\n\t\t\t\t\t\t\tt.query = r.query;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.query = base.query;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(r.path.substr(0,1) === '/') {\n\t\t\t\t\t\t\tt.path = removeDotSegments(r.path);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(base.authority !== null && base.path === '') { // TODO: == or === ?\n\t\t\t\t\t\t\t\tt.path = '/'+r.path;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.path = base.path.replace(/[^\\/]+$/,'')+r.path;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tt.path = removeDotSegments(t.path);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tt.query = r.query;\n\t\t\t\t\t}\n\t\t\t\t\tt.authority = base.authority;\n\t\t\t\t}\n\t\t\t\tt.scheme = base.scheme;\n\t\t\t}\n\t\t\tt.fragment = r.fragment;\n\n\t\t\treturn t;\n\t\t};\n\n\t\tfunction removeDotSegments(path) {\n\t\t\tvar out = '';\n\t\t\twhile(path) {\n\t\t\t\tif(path.substr(0,3)==='../' || path.substr(0,2)==='./') {\n\t\t\t\t\tpath = path.replace(/^\\.+/,'').substr(1);\n\t\t\t\t} else if(path.substr(0,3)==='/./' || path==='/.') {\n\t\t\t\t\tpath = '/'+path.substr(3);\n\t\t\t\t} else if(path.substr(0,4)==='/../' || path==='/..') {\n\t\t\t\t\tpath = '/'+path.substr(4);\n\t\t\t\t\tout = out.replace(/\\/?[^\\/]*$/, '');\n\t\t\t\t} else if(path==='.' || path==='..') {\n\t\t\t\t\tpath = '';\n\t\t\t\t} else {\n\t\t\t\t\tvar rm = path.match(/^\\/?[^\\/]*/)[0];\n\t\t\t\t\tpath = path.substr(rm.length);\n\t\t\t\t\tout = out + rm;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\n\t\tif(uri) {\n\t\t\tthis.parse(uri);\n\t\t}\n\n\t},\n\n\n\t/*\n\t * Usage example:\n\t * var myColor = new jscolor.color(myInputElement)\n\t */\n\n\tcolor : function(target, prop) {\n\n\n\t\tthis.required = true; // refuse empty values?\n\t\tthis.adjust = true; // adjust value to uniform notation?\n\t\tthis.hash = false; // prefix color with # symbol?\n\t\tthis.caps = true; // uppercase?\n\t\tthis.slider = true; // show the value/saturation slider?\n\t\tthis.valueElement = target; // value holder\n\t\tthis.styleElement = target; // where to reflect current color\n\t\tthis.onImmediateChange = null; // onchange callback (can be either string or function)\n\t\tthis.hsv = [0, 0, 1]; // read-only  0-6, 0-1, 0-1\n\t\tthis.rgb = [1, 1, 1]; // read-only  0-1, 0-1, 0-1\n\n\t\tthis.pickerOnfocus = true; // display picker on focus?\n\t\tthis.pickerMode = 'HSV'; // HSV | HVS\n\t\tthis.pickerPosition = 'bottom'; // left | right | top | bottom\n\t\tthis.pickerSmartPosition = true; // automatically adjust picker position when necessary\n\t\tthis.pickerButtonHeight = 20; // px\n\t\tthis.pickerClosable = false;\n\t\tthis.pickerCloseText = 'Close';\n\t\tthis.pickerButtonColor = 'ButtonText'; // px\n\t\tthis.pickerFace = 10; // px\n\t\tthis.pickerFaceColor = 'ThreeDFace'; // CSS color\n\t\tthis.pickerBorder = 1; // px\n\t\tthis.pickerBorderColor = 'ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight'; // CSS color\n\t\tthis.pickerInset = 1; // px\n\t\tthis.pickerInsetColor = 'ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow'; // CSS color\n\t\tthis.pickerZIndex = 10000;\n\n\n\t\tfor(var p in prop) {\n\t\t\tif(prop.hasOwnProperty(p)) {\n\t\t\t\tthis[p] = prop[p];\n\t\t\t}\n\t\t}\n\n\n\t\tthis.hidePicker = function() {\n\t\t\tif(isPickerOwner()) {\n\t\t\t\tremovePicker();\n\t\t\t}\n\t\t};\n\n\n\t\tthis.showPicker = function() {\n\t\t\tif(!isPickerOwner()) {\n\t\t\t\tvar tp = jscolor.getElementPos(target); // target pos\n\t\t\t\tvar ts = jscolor.getElementSize(target); // target size\n\t\t\t\tvar vp = jscolor.getViewPos(); // view pos\n\t\t\t\tvar vs = jscolor.getViewSize(); // view size\n\t\t\t\tvar ps = getPickerDims(this); // picker size\n\t\t\t\tvar a, b, c;\n\t\t\t\tswitch(this.pickerPosition.toLowerCase()) {\n\t\t\t\t\tcase 'left': a=1; b=0; c=-1; break;\n\t\t\t\t\tcase 'right':a=1; b=0; c=1; break;\n\t\t\t\t\tcase 'top':  a=0; b=1; c=-1; break;\n\t\t\t\t\tdefault:     a=0; b=1; c=1; break;\n\t\t\t\t}\n\t\t\t\tvar l = (ts[b]+ps[b])/2;\n\n\t\t\t\t// picker pos\n\t\t\t\tif (!this.pickerSmartPosition) {\n\t\t\t\t\tvar pp = [\n\t\t\t\t\t\ttp[a],\n\t\t\t\t\t\ttp[b]+ts[b]-l+l*c\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tvar pp = [\n\t\t\t\t\t\t-vp[a]+tp[a]+ps[a] > vs[a] ?\n\t\t\t\t\t\t\t(-vp[a]+tp[a]+ts[a]/2 > vs[a]/2 && tp[a]+ts[a]-ps[a] >= 0 ? tp[a]+ts[a]-ps[a] : tp[a]) :\n\t\t\t\t\t\t\ttp[a],\n\t\t\t\t\t\t-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c > vs[b] ?\n\t\t\t\t\t\t\t(-vp[b]+tp[b]+ts[b]/2 > vs[b]/2 && tp[b]+ts[b]-l-l*c >= 0 ? tp[b]+ts[b]-l-l*c : tp[b]+ts[b]-l+l*c) :\n\t\t\t\t\t\t\t(tp[b]+ts[b]-l+l*c >= 0 ? tp[b]+ts[b]-l+l*c : tp[b]+ts[b]-l-l*c)\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\tdrawPicker(pp[a], pp[b]);\n\t\t\t}\n\t\t};\n\n\n\t\tthis.importColor = function() {\n\t\t\tif(!valueElement) {\n\t\t\t\tthis.exportColor();\n\t\t\t} else {\n\t\t\t\tif(!this.adjust) {\n\t\t\t\t\tif(!this.fromString(valueElement.value, leaveValue)) {\n\t\t\t\t\t\tstyleElement.style.backgroundColor = styleElement.jscStyle.backgroundColor;\n\t\t\t\t\t\tstyleElement.style.color = styleElement.jscStyle.color;\n\t\t\t\t\t\tthis.exportColor(leaveValue | leaveStyle);\n\t\t\t\t\t}\n\t\t\t\t} else if(!this.required && /^\\s*$/.test(valueElement.value)) {\n\t\t\t\t\tvalueElement.value = '';\n\t\t\t\t\tstyleElement.style.backgroundColor = styleElement.jscStyle.backgroundColor;\n\t\t\t\t\tstyleElement.style.color = styleElement.jscStyle.color;\n\t\t\t\t\tthis.exportColor(leaveValue | leaveStyle);\n\n\t\t\t\t} else if(this.fromString(valueElement.value)) {\n\t\t\t\t\t// OK\n\t\t\t\t} else {\n\t\t\t\t\tthis.exportColor();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\n\t\tthis.exportColor = function(flags) {\n\t\t\tif(!(flags & leaveValue) && valueElement) {\n\t\t\t\tvar value = this.toString();\n\t\t\t\tif(this.caps) { value = value.toUpperCase(); }\n\t\t\t\tif(this.hash) { value = '#'+value; }\n\t\t\t\tvalueElement.value = value;\n\t\t\t}\n\t\t\tif(!(flags & leaveStyle) && styleElement) {\n\t\t\t\tstyleElement.style.backgroundColor =\n\t\t\t\t\t'#'+this.toString();\n\t\t\t\tstyleElement.style.color =\n\t\t\t\t\t0.213 * this.rgb[0] +\n\t\t\t\t\t0.715 * this.rgb[1] +\n\t\t\t\t\t0.072 * this.rgb[2]\n\t\t\t\t\t< 0.5 ? '#FFF' : '#000';\n\t\t\t}\n\t\t\tif(!(flags & leavePad) && isPickerOwner()) {\n\t\t\t\tredrawPad();\n\t\t\t}\n\t\t\tif(!(flags & leaveSld) && isPickerOwner()) {\n\t\t\t\tredrawSld();\n\t\t\t}\n\t\t};\n\n\n\t\tthis.fromHSV = function(h, s, v, flags) { // null = don't change\n\t\t\th<0 && (h=0) || h>6 && (h=6);\n\t\t\ts<0 && (s=0) || s>1 && (s=1);\n\t\t\tv<0 && (v=0) || v>1 && (v=1);\n\t\t\tthis.rgb = HSV_RGB(\n\t\t\t\th===null ? this.hsv[0] : (this.hsv[0]=h),\n\t\t\t\ts===null ? this.hsv[1] : (this.hsv[1]=s),\n\t\t\t\tv===null ? this.hsv[2] : (this.hsv[2]=v)\n\t\t\t);\n\t\t\tthis.exportColor(flags);\n\t\t};\n\n\n\t\tthis.fromRGB = function(r, g, b, flags) { // null = don't change\n\t\t\tr<0 && (r=0) || r>1 && (r=1);\n\t\t\tg<0 && (g=0) || g>1 && (g=1);\n\t\t\tb<0 && (b=0) || b>1 && (b=1);\n\t\t\tvar hsv = RGB_HSV(\n\t\t\t\tr===null ? this.rgb[0] : (this.rgb[0]=r),\n\t\t\t\tg===null ? this.rgb[1] : (this.rgb[1]=g),\n\t\t\t\tb===null ? this.rgb[2] : (this.rgb[2]=b)\n\t\t\t);\n\t\t\tif(hsv[0] !== null) {\n\t\t\t\tthis.hsv[0] = hsv[0];\n\t\t\t}\n\t\t\tif(hsv[2] !== 0) {\n\t\t\t\tthis.hsv[1] = hsv[1];\n\t\t\t}\n\t\t\tthis.hsv[2] = hsv[2];\n\t\t\tthis.exportColor(flags);\n\t\t};\n\n\n\t\tthis.fromString = function(hex, flags) {\n\t\t\tvar m = hex.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i);\n\t\t\tif(!m) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tif(m[1].length === 6) { // 6-char notation\n\t\t\t\t\tthis.fromRGB(\n\t\t\t\t\t\tparseInt(m[1].substr(0,2),16) / 255,\n\t\t\t\t\t\tparseInt(m[1].substr(2,2),16) / 255,\n\t\t\t\t\t\tparseInt(m[1].substr(4,2),16) / 255,\n\t\t\t\t\t\tflags\n\t\t\t\t\t);\n\t\t\t\t} else { // 3-char notation\n\t\t\t\t\tthis.fromRGB(\n\t\t\t\t\t\tparseInt(m[1].charAt(0)+m[1].charAt(0),16) / 255,\n\t\t\t\t\t\tparseInt(m[1].charAt(1)+m[1].charAt(1),16) / 255,\n\t\t\t\t\t\tparseInt(m[1].charAt(2)+m[1].charAt(2),16) / 255,\n\t\t\t\t\t\tflags\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t};\n\n\n\t\tthis.toString = function() {\n\t\t\treturn (\n\t\t\t\t(0x100 | Math.round(255*this.rgb[0])).toString(16).substr(1) +\n\t\t\t\t(0x100 | Math.round(255*this.rgb[1])).toString(16).substr(1) +\n\t\t\t\t(0x100 | Math.round(255*this.rgb[2])).toString(16).substr(1)\n\t\t\t);\n\t\t};\n\n\n\t\tfunction RGB_HSV(r, g, b) {\n\t\t\tvar n = Math.min(Math.min(r,g),b);\n\t\t\tvar v = Math.max(Math.max(r,g),b);\n\t\t\tvar m = v - n;\n\t\t\tif(m === 0) { return [ null, 0, v ]; }\n\t\t\tvar h = r===n ? 3+(b-g)/m : (g===n ? 5+(r-b)/m : 1+(g-r)/m);\n\t\t\treturn [ h===6?0:h, m/v, v ];\n\t\t}\n\n\n\t\tfunction HSV_RGB(h, s, v) {\n\t\t\tif(h === null) { return [ v, v, v ]; }\n\t\t\tvar i = Math.floor(h);\n\t\t\tvar f = i%2 ? h-i : 1-(h-i);\n\t\t\tvar m = v * (1 - s);\n\t\t\tvar n = v * (1 - s*f);\n\t\t\tswitch(i) {\n\t\t\t\tcase 6:\n\t\t\t\tcase 0: return [v,n,m];\n\t\t\t\tcase 1: return [n,v,m];\n\t\t\t\tcase 2: return [m,v,n];\n\t\t\t\tcase 3: return [m,n,v];\n\t\t\t\tcase 4: return [n,m,v];\n\t\t\t\tcase 5: return [v,m,n];\n\t\t\t}\n\t\t}\n\n\n\t\tfunction removePicker() {\n\t\t\tdelete jscolor.picker.owner;\n\t\t\tdocument.getElementsByTagName('body')[0].removeChild(jscolor.picker.boxB);\n\t\t}\n\n\n\t\tfunction drawPicker(x, y) {\n\t\t\tif(!jscolor.picker) {\n\t\t\t\tjscolor.picker = {\n\t\t\t\t\tbox : document.createElement('div'),\n\t\t\t\t\tboxB : document.createElement('div'),\n\t\t\t\t\tpad : document.createElement('div'),\n\t\t\t\t\tpadB : document.createElement('div'),\n\t\t\t\t\tpadM : document.createElement('div'),\n\t\t\t\t\tsld : document.createElement('div'),\n\t\t\t\t\tsldB : document.createElement('div'),\n\t\t\t\t\tsldM : document.createElement('div'),\n\t\t\t\t\tbtn : document.createElement('div'),\n\t\t\t\t\tbtnS : document.createElement('span'),\n\t\t\t\t\tbtnT : document.createTextNode(THIS.pickerCloseText)\n\t\t\t\t};\n\t\t\t\tfor(var i=0,segSize=4; i<jscolor.images.sld[1]; i+=segSize) {\n\t\t\t\t\tvar seg = document.createElement('div');\n\t\t\t\t\tseg.style.height = segSize+'px';\n\t\t\t\t\tseg.style.fontSize = '1px';\n\t\t\t\t\tseg.style.lineHeight = '0';\n\t\t\t\t\tjscolor.picker.sld.appendChild(seg);\n\t\t\t\t}\n\t\t\t\tjscolor.picker.sldB.appendChild(jscolor.picker.sld);\n\t\t\t\tjscolor.picker.box.appendChild(jscolor.picker.sldB);\n\t\t\t\tjscolor.picker.box.appendChild(jscolor.picker.sldM);\n\t\t\t\tjscolor.picker.padB.appendChild(jscolor.picker.pad);\n\t\t\t\tjscolor.picker.box.appendChild(jscolor.picker.padB);\n\t\t\t\tjscolor.picker.box.appendChild(jscolor.picker.padM);\n\t\t\t\tjscolor.picker.btnS.appendChild(jscolor.picker.btnT);\n\t\t\t\tjscolor.picker.btn.appendChild(jscolor.picker.btnS);\n\t\t\t\tjscolor.picker.box.appendChild(jscolor.picker.btn);\n\t\t\t\tjscolor.picker.boxB.appendChild(jscolor.picker.box);\n\t\t\t}\n\n\t\t\tvar p = jscolor.picker;\n\n\t\t\t// controls interaction\n\t\t\tp.box.onmouseup =\n\t\t\tp.box.onmouseout = function() { target.focus(); };\n\t\t\tp.box.onmousedown = function() { abortBlur=true; };\n\t\t\tp.box.onmousemove = function(e) {\n\t\t\t\tif (holdPad || holdSld) {\n\t\t\t\t\tholdPad && setPad(e);\n\t\t\t\t\tholdSld && setSld(e);\n\t\t\t\t\tif (document.selection) {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t} else if (window.getSelection) {\n\t\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t\t}\n\t\t\t\t\tdispatchImmediateChange();\n\t\t\t\t}\n\t\t\t};\n\t\t\tp.padM.onmouseup =\n\t\t\tp.padM.onmouseout = function() { if(holdPad) { holdPad=false; jscolor.fireEvent(valueElement,'change'); } };\n\t\t\tp.padM.onmousedown = function(e) {\n\t\t\t\tholdPad=true;\n\t\t\t\tsetPad(e);\n\t\t\t\tdispatchImmediateChange();\n\t\t\t};\n\t\t\tp.sldM.onmouseup =\n\t\t\tp.sldM.onmouseout = function() { if(holdSld) { holdSld=false; jscolor.fireEvent(valueElement,'change'); } };\n\t\t\tp.sldM.onmousedown = function(e) {\n\t\t\t\tholdSld=true;\n\t\t\t\tsetSld(e);\n\t\t\t\tdispatchImmediateChange();\n\t\t\t};\n\n\t\t\t// picker\n\t\t\tvar dims = getPickerDims(THIS);\n\t\t\tp.box.style.width = dims[0] + 'px';\n\t\t\tp.box.style.height = dims[1] + 'px';\n\n\t\t\t// picker border\n\t\t\tp.boxB.style.position = 'absolute';\n\t\t\tp.boxB.style.clear = 'both';\n\t\t\tp.boxB.style.left = x+'px';\n\t\t\tp.boxB.style.top = y+'px';\n\t\t\tp.boxB.style.zIndex = THIS.pickerZIndex;\n\t\t\t//p.boxB.style.border = THIS.pickerBorder+'px solid';\n\t\t\t//p.boxB.style.borderColor = THIS.pickerBorderColor;\n\t\t\t//p.boxB.style.background = THIS.pickerFaceColor;\n\t\t\tp.boxB.className = 'colorMenu';\n\n\t\t\t// pad image\n\t\t\tp.pad.style.width = jscolor.images.pad[0]+'px';\n\t\t\tp.pad.style.height = jscolor.images.pad[1]+'px';\n\n\t\t\t// pad border\n\t\t\tp.padB.style.position = 'absolute';\n\t\t\tp.padB.style.left = THIS.pickerFace+'px';\n\t\t\tp.padB.style.top = THIS.pickerFace+'px';\n\t\t\tp.padB.style.border = THIS.pickerInset+'px solid';\n\t\t\tp.padB.style.borderColor = THIS.pickerInsetColor;\n\n\t\t\t// pad mouse area\n\t\t\tp.padM.style.position = 'absolute';\n\t\t\tp.padM.style.left = '0';\n\t\t\tp.padM.style.top = '0';\n\t\t\tp.padM.style.width = THIS.pickerFace + 2*THIS.pickerInset + jscolor.images.pad[0] + jscolor.images.arrow[0] + 'px';\n\t\t\tp.padM.style.height = p.box.style.height;\n\t\t\tp.padM.style.cursor = 'crosshair';\n\n\t\t\t// slider image\n\t\t\tp.sld.style.overflow = 'hidden';\n\t\t\tp.sld.style.width = jscolor.images.sld[0]+'px';\n\t\t\tp.sld.style.height = jscolor.images.sld[1]+'px';\n\n\t\t\t// slider border\n\t\t\tp.sldB.style.display = THIS.slider ? 'block' : 'none';\n\t\t\tp.sldB.style.position = 'absolute';\n\t\t\tp.sldB.style.right = THIS.pickerFace+'px';\n\t\t\tp.sldB.style.top = THIS.pickerFace+'px';\n\t\t\tp.sldB.style.border = THIS.pickerInset+'px solid';\n\t\t\tp.sldB.style.borderColor = THIS.pickerInsetColor;\n\n\t\t\t// slider mouse area\n\t\t\tp.sldM.style.display = THIS.slider ? 'block' : 'none';\n\t\t\tp.sldM.style.position = 'absolute';\n\t\t\tp.sldM.style.right = '0';\n\t\t\tp.sldM.style.top = '0';\n\t\t\tp.sldM.style.width = jscolor.images.sld[0] + jscolor.images.arrow[0] + THIS.pickerFace + 2*THIS.pickerInset + 'px';\n\t\t\tp.sldM.style.height = p.box.style.height;\n\t\t\ttry {\n\t\t\t\tp.sldM.style.cursor = 'pointer';\n\t\t\t} catch(eOldIE) {\n\t\t\t\tp.sldM.style.cursor = 'hand';\n\t\t\t}\n\n\t\t\t// \"close\" button\n\t\t\tfunction setBtnBorder() {\n\t\t\t\tvar insetColors = THIS.pickerInsetColor.split(/\\s+/);\n\t\t\t\tvar pickerOutsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\n\t\t\t\tp.btn.style.borderColor = pickerOutsetColor;\n\t\t\t}\n\t\t\tp.btn.style.display = THIS.pickerClosable ? 'block' : 'none';\n\t\t\tp.btn.style.position = 'absolute';\n\t\t\tp.btn.style.left = THIS.pickerFace + 'px';\n\t\t\tp.btn.style.bottom = THIS.pickerFace + 'px';\n\t\t\tp.btn.style.padding = '0 15px';\n\t\t\tp.btn.style.height = '18px';\n\t\t\tp.btn.style.border = THIS.pickerInset + 'px solid';\n\t\t\tsetBtnBorder();\n\t\t\tp.btn.style.color = THIS.pickerButtonColor;\n\t\t\tp.btn.style.font = '12px sans-serif';\n\t\t\tp.btn.style.textAlign = 'center';\n\t\t\ttry {\n\t\t\t\tp.btn.style.cursor = 'pointer';\n\t\t\t} catch(eOldIE) {\n\t\t\t\tp.btn.style.cursor = 'hand';\n\t\t\t}\n\t\t\tp.btn.onmousedown = function () {\n\t\t\t\tTHIS.hidePicker();\n\t\t\t};\n\t\t\tp.btnS.style.lineHeight = p.btn.style.height;\n\n\t\t\t// load images in optimal order\n\t\t\tswitch(modeID) {\n\t\t\t\tcase 0: var padImg = 'hs.png'; break;\n\t\t\t\tcase 1: var padImg = 'hv.png'; break;\n\t\t\t}\n\t\t\tp.padM.style.backgroundImage = \"url('\"+jscolor.getDir()+\"cross.gif')\";\n\t\t\tp.padM.style.backgroundRepeat = \"no-repeat\";\n\t\t\tp.sldM.style.backgroundImage = \"url('\"+jscolor.getDir()+\"arrow.gif')\";\n\t\t\tp.sldM.style.backgroundRepeat = \"no-repeat\";\n\t\t\tp.pad.style.backgroundImage = \"url('\"+jscolor.getDir()+padImg+\"')\";\n\t\t\tp.pad.style.backgroundRepeat = \"no-repeat\";\n\t\t\tp.pad.style.backgroundPosition = \"0 0\";\n\n\t\t\t// place pointers\n\t\t\tredrawPad();\n\t\t\tredrawSld();\n\n\t\t\tjscolor.picker.owner = THIS;\n\t\t\tdocument.getElementsByTagName('body')[0].appendChild(p.boxB);\n\t\t}\n\n\n\t\tfunction getPickerDims(o) {\n\t\t\tvar dims = [\n\t\t\t\t2*o.pickerInset + 2*o.pickerFace + jscolor.images.pad[0] +\n\t\t\t\t\t(o.slider ? 2*o.pickerInset + 2*jscolor.images.arrow[0] + jscolor.images.sld[0] : 0),\n\t\t\t\to.pickerClosable ?\n\t\t\t\t\t4*o.pickerInset + 3*o.pickerFace + jscolor.images.pad[1] + o.pickerButtonHeight :\n\t\t\t\t\t2*o.pickerInset + 2*o.pickerFace + jscolor.images.pad[1]\n\t\t\t];\n\t\t\treturn dims;\n\t\t}\n\n\n\t\tfunction redrawPad() {\n\t\t\t// redraw the pad pointer\n\t\t\tswitch(modeID) {\n\t\t\t\tcase 0: var yComponent = 1; break;\n\t\t\t\tcase 1: var yComponent = 2; break;\n\t\t\t}\n\t\t\tvar x = Math.round((THIS.hsv[0]/6) * (jscolor.images.pad[0]-1));\n\t\t\tvar y = Math.round((1-THIS.hsv[yComponent]) * (jscolor.images.pad[1]-1));\n\t\t\tjscolor.picker.padM.style.backgroundPosition =\n\t\t\t\t(THIS.pickerFace+THIS.pickerInset+x - Math.floor(jscolor.images.cross[0]/2)) + 'px ' +\n\t\t\t\t(THIS.pickerFace+THIS.pickerInset+y - Math.floor(jscolor.images.cross[1]/2)) + 'px';\n\n\t\t\t// redraw the slider image\n\t\t\tvar seg = jscolor.picker.sld.childNodes;\n\n\t\t\tswitch(modeID) {\n\t\t\t\tcase 0:\n\t\t\t\t\tvar rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 1);\n\t\t\t\t\tfor(var i=0; i<seg.length; i+=1) {\n\t\t\t\t\t\tseg[i].style.backgroundColor = 'rgb('+\n\t\t\t\t\t\t\t(rgb[0]*(1-i/seg.length)*100)+'%,'+\n\t\t\t\t\t\t\t(rgb[1]*(1-i/seg.length)*100)+'%,'+\n\t\t\t\t\t\t\t(rgb[2]*(1-i/seg.length)*100)+'%)';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tvar rgb, s, c = [ THIS.hsv[2], 0, 0 ];\n\t\t\t\t\tvar i = Math.floor(THIS.hsv[0]);\n\t\t\t\t\tvar f = i%2 ? THIS.hsv[0]-i : 1-(THIS.hsv[0]-i);\n\t\t\t\t\tswitch(i) {\n\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\tcase 0: rgb=[0,1,2]; break;\n\t\t\t\t\t\tcase 1: rgb=[1,0,2]; break;\n\t\t\t\t\t\tcase 2: rgb=[2,0,1]; break;\n\t\t\t\t\t\tcase 3: rgb=[2,1,0]; break;\n\t\t\t\t\t\tcase 4: rgb=[1,2,0]; break;\n\t\t\t\t\t\tcase 5: rgb=[0,2,1]; break;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i=0; i<seg.length; i+=1) {\n\t\t\t\t\t\ts = 1 - 1/(seg.length-1)*i;\n\t\t\t\t\t\tc[1] = c[0] * (1 - s*f);\n\t\t\t\t\t\tc[2] = c[0] * (1 - s);\n\t\t\t\t\t\tseg[i].style.backgroundColor = 'rgb('+\n\t\t\t\t\t\t\t(c[rgb[0]]*100)+'%,'+\n\t\t\t\t\t\t\t(c[rgb[1]]*100)+'%,'+\n\t\t\t\t\t\t\t(c[rgb[2]]*100)+'%)';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\n\t\tfunction redrawSld() {\n\t\t\t// redraw the slider pointer\n\t\t\tswitch(modeID) {\n\t\t\t\tcase 0: var yComponent = 2; break;\n\t\t\t\tcase 1: var yComponent = 1; break;\n\t\t\t}\n\t\t\tvar y = Math.round((1-THIS.hsv[yComponent]) * (jscolor.images.sld[1]-1));\n\t\t\tjscolor.picker.sldM.style.backgroundPosition =\n\t\t\t\t'0 ' + (THIS.pickerFace+THIS.pickerInset+y - Math.floor(jscolor.images.arrow[1]/2)) + 'px';\n\t\t}\n\n\n\t\tfunction isPickerOwner() {\n\t\t\treturn jscolor.picker && jscolor.picker.owner === THIS;\n\t\t}\n\n\n\t\tfunction blurTarget() {\n\t\t\tif(valueElement === target) {\n\t\t\t\tTHIS.importColor();\n\t\t\t}\n\t\t\tif(THIS.pickerOnfocus) {\n\t\t\t\tTHIS.hidePicker();\n\t\t\t}\n\t\t}\n\n\n\t\tfunction blurValue() {\n\t\t\tif(valueElement !== target) {\n\t\t\t\tTHIS.importColor();\n\t\t\t}\n\t\t}\n\n\n\t\tfunction setPad(e) {\n\t\t\tvar mpos = jscolor.getRelMousePos(e);\n\t\t\tvar x = mpos.x - THIS.pickerFace - THIS.pickerInset;\n\t\t\tvar y = mpos.y - THIS.pickerFace - THIS.pickerInset;\n\t\t\tswitch(modeID) {\n\t\t\t\tcase 0: THIS.fromHSV(x*(6/(jscolor.images.pad[0]-1)), 1 - y/(jscolor.images.pad[1]-1), null, leaveSld); break;\n\t\t\t\tcase 1: THIS.fromHSV(x*(6/(jscolor.images.pad[0]-1)), null, 1 - y/(jscolor.images.pad[1]-1), leaveSld); break;\n\t\t\t}\n\t\t}\n\n\n\t\tfunction setSld(e) {\n\t\t\tvar mpos = jscolor.getRelMousePos(e);\n\t\t\tvar y = mpos.y - THIS.pickerFace - THIS.pickerInset;\n\t\t\tswitch(modeID) {\n\t\t\t\tcase 0: THIS.fromHSV(null, null, 1 - y/(jscolor.images.sld[1]-1), leavePad); break;\n\t\t\t\tcase 1: THIS.fromHSV(null, 1 - y/(jscolor.images.sld[1]-1), null, leavePad); break;\n\t\t\t}\n\t\t}\n\n\n\t\tfunction dispatchImmediateChange() {\n\t\t\tif (THIS.onImmediateChange) {\n\t\t\t\tif (typeof THIS.onImmediateChange === 'string') {\n\t\t\t\t\teval(THIS.onImmediateChange);\n\t\t\t\t} else {\n\t\t\t\t\tTHIS.onImmediateChange(THIS);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tvar THIS = this;\n\t\tvar modeID = this.pickerMode.toLowerCase()==='hvs' ? 1 : 0;\n\t\tvar abortBlur = false;\n\t\tvar\n\t\t\tvalueElement = jscolor.fetchElement(this.valueElement),\n\t\t\tstyleElement = jscolor.fetchElement(this.styleElement);\n\t\tvar\n\t\t\tholdPad = false,\n\t\t\tholdSld = false;\n\t\tvar\n\t\t\tleaveValue = 1<<0,\n\t\t\tleaveStyle = 1<<1,\n\t\t\tleavePad = 1<<2,\n\t\t\tleaveSld = 1<<3;\n\n\t\t// target\n\t\tjscolor.addEvent(target, 'focus', function() {\n\t\t\tif(THIS.pickerOnfocus) { THIS.showPicker(); }\n\t\t});\n\t\tjscolor.addEvent(target, 'blur', function() {\n\t\t\tif(!abortBlur) {\n\t\t\t\twindow.setTimeout(function(){ abortBlur || blurTarget(); abortBlur=false; }, 0);\n\t\t\t} else {\n\t\t\t\tabortBlur = false;\n\t\t\t}\n\t\t});\n\n\t\t// valueElement\n\t\tif(valueElement) {\n\t\t\tvar updateField = function() {\n\t\t\t\tTHIS.fromString(valueElement.value, leaveValue);\n\t\t\t\tdispatchImmediateChange();\n\t\t\t};\n\t\t\tjscolor.addEvent(valueElement, 'keyup', updateField);\n\t\t\tjscolor.addEvent(valueElement, 'input', updateField);\n\t\t\tjscolor.addEvent(valueElement, 'blur', blurValue);\n\t\t\tvalueElement.setAttribute('autocomplete', 'off');\n\t\t}\n\n\t\t// styleElement\n\t\tif(styleElement) {\n\t\t\tstyleElement.jscStyle = {\n\t\t\t\tbackgroundColor : styleElement.style.backgroundColor,\n\t\t\t\tcolor : styleElement.style.color\n\t\t\t};\n\t\t}\n\n\t\t// require images\n\t\tswitch(modeID) {\n\t\t\tcase 0: jscolor.requireImage('hs.png'); break;\n\t\t\tcase 1: jscolor.requireImage('hv.png'); break;\n\t\t}\n\t\tjscolor.requireImage('cross.gif');\n\t\tjscolor.requireImage('arrow.gif');\n\n\t\tthis.importColor();\n\t}\n\n};\n\n//jscolor.install();\nexports = jscolor;\n",
            "pre": true
        },
        "node_modules/squill/Label.js": {
            "path": "node_modules/squill/Label.js",
            "friendlyPath": ".Label",
            "directory": "node_modules/squill/",
            "filename": "Label.js",
            "src": "jsio('from util.browser import $');\njsio('import squill.Widget');\njsio('import squill.models.bindings as bindings');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Label=__class__;exports=c__Users_Surface_cloud_devkit_node_modules_squill_Label(function c__Users_Surface_cloud_devkit_node_modules_squill_Label(){return this.init&&this.init.apply(this,arguments)},squill.Widget, function() {\n\tthis._css = 'label';\n\tthis._def = {\n\t\tchildren: [{\n\t\t\tid: '_labelSpan',\n\t\t\ttag: 'span'\n\t\t}]\n\t}\n\n\tthis.buildWidget = function() {\n\t\tthis.setLabel(this.getI18n('label'));\n\n\t\tvar opts = this._opts;\n\t\tif (opts.format) {\n\t\t\tbindings.parseFormat(this, opts.format);\n\t\t}\n\t}\n\n\tthis.setData =\n\tthis.setValue =\n\tthis.setLabel =\n\tthis.setText = function(text) { if (/object/i.test(text)) debugger; $.setText(this._labelSpan, text); }\n\tthis.setHTML = function(html) { this._labelSpan.innerHTML = html; }\n});\n",
            "pre": true
        },
        "node_modules/squill/List.js": {
            "path": "node_modules/squill/List.js",
            "friendlyPath": ".List",
            "directory": "node_modules/squill/",
            "filename": "List.js",
            "src": "jsio('import .Window');\njsio('import .Widget');\njsio('from util.browser import $');\njsio('import .models.DataSource as DataSource');\njsio('import .Selection');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_List=__class__;var List = exports=c__Users_Surface_cloud_devkit_node_modules_squill_List(function c__Users_Surface_cloud_devkit_node_modules_squill_List(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\n\tthis._css = 'list';\n\n\tthis.init = function(opts) {\n\t\topts = merge(opts, {\n\t\t\tcontainSelf: true,\n\t\t\tcellSpacing: 0,\n\t\t\tisTiled: false,\n\t\t\tpreserveCells: false,\n\t\t\trenderAll: true,\n\t\t\tisFixedHeight: true,\n\t\t\tabsolutePosition: true,\n\t\t\tfilter: null\n\t\t});\n\n\t\tthis.needsRender = delay(this.render);\n\n\t\tif (opts.cellCtor) { this.setCellCtor(opts.cellCtor); }\n\t\tif (opts.dataSource) { this.setDataSource(opts.dataSource); }\n\t\tif (opts.sorter) { this.setSorter(opts.sorter); }\n\n\t\tthis._lastFilter = null;\n\n\t\tthis._filter = opts.filter;\n\t\tthis._cellsByID = {};\n\t\tthis._removed = {};\n\t\tthis._containSelf = opts.containSelf;\n\t\tthis._containerTag = opts.containerTag;\n\t\tthis._applyNodeOrder = opts.applyNodeOrder;\n\n\t\tthis._renderOpts = {\n\t\t\tcellSpacing: opts.cellSpacing || 0\n\t\t};\n\n\t\tthis.updateFilter = delay(function() {\n\t\t\tthis._lastFilter = null;\n\t\t\tthis.needsRender();\n\t\t}, 100);\n\n\t\tsupr(this, 'init', [opts]);\n\n\t\tif (opts.__result) {\n\t\t\topts.__result.addSubscription(this, 'select');\n\t\t}\n\n\t\tWindow.get().on('ViewportChange', bind(this, 'needsRender'));\n\t};\n\n\t// cells go in _container\n\tthis.getContainer = function() {\n\t\treturn this._container;\n\t};\n\n\tthis.getDataSource = function() {\n\t\treturn this._dataSource;\n\t};\n\n\tthis.setModel = function (path, value) {\n\t\tif (arguments.length == 1) {\n\t\t\tthis.setDataSource(arguments[0]);\n\t\t} else {\n\t\t\treturn supr(this, 'setModel', arguments);\n\t\t}\n\t};\n\n\tthis.setData = function (data) {\n\t\tif (!this._dataSource) {\n\t\t\tthis.setDataSource(new DataSource({sorter: this._sorter}));\n\t\t} else {\n\t\t\tthis._dataSource.clear();\n\t\t}\n\n\t\tif (data) {\n\t\t\tvar items;\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\titems = data.map(function (data, index) { return {id: index, data: data}; });\n\t\t\t} else {\n\t\t\t\titems = Object.keys(data).map(function (key) {\n\t\t\t\t\treturn {id: key, data: data[key]};\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._dataSource.add(items);\n\t\t}\n\n\t\tthis.needsRender();\n\t};\n\n\tthis.setDataSource = function(dataSource) {\n\t\tif (this._dataSource == dataSource) { return; }\n\n\t\tif (this._dataSource) {\n\t\t\tthis._dataSource.unsubscribe('Update', this);\n\t\t\tthis._dataSource.unsubscribe('Remove', this);\n\t\t\tthis.clear();\n\t\t}\n\n\t\tthis._dataSource = dataSource;\n\t\tthis._dataSource.subscribe('Update', this, 'onUpdateItem');\n\t\tthis._dataSource.subscribe('Remove', this, 'onRemoveItem');\n\n\t\tthis.needsRender();\n\t};\n\n\tthis.onUpdateItem = function(id, item) {\n\t\tvar cell = this._cellsByID[id];\n\t\tif (cell && cell.getItem() != item) { cell.setItem(item); }\n\t\tthis.updateFilter();\n\t};\n\n\tthis.onRemoveItem = function(id) {\n\t\tthis._removed[id] = true;\n\t\tthis.updateFilter();\n\t};\n\n\tthis.buildWidget = function() {\n\n\t\tthis._container = $({parent: this._el, className: this._opts.containerClassName, tag: this._containerTag || 'div'});\n\t\tif (this._containSelf && !this._applyNodeOrder) {\n\t\t\tthis._container.style.position = 'relative';\n\t\t}\n\n\t\tif (this._opts.selection || this._opts.selectable) {\n\t\t\tthis.setSelectable(this._opts.selection || this._opts.selectable);\n\t\t}\n\n\t\tthis.render();\n\t};\n\n\tthis.setValue = function (value) {\n\t\tif (this.selection) {\n\t\t\tthis.selection.select(value);\n\t\t}\n\t}\n\n\tthis.getValue = function () {\n\t\tif (this.selection) {\n\t\t\treturn this.selection.get();\n\t\t}\n\t}\n\n\tthis.setSelectable = function(selectable) {\n\t\tthis.selection = new Selection({\n\t\t\tparent: this,\n\t\t\ttype: selectable\n\t\t})\n\t\t\t.subscribe('Select', this, '_onSelected', true)\n\t\t\t.subscribe('Deselect', this, '_onSelected', false)\n\n\t\tthis.selection;\n\t};\n\n\tthis._onSelected = function(isSelected, item, id) {\n\t\tif (this._cellsByID[id] !== undefined) {\n\t\t\tthis._cellsByID[id].updateSelected();\n\n\t\t\tif (isSelected) {\n\t\t\t\tthis.publish('select', id, item);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.setCellCtor = function(cellCtor) {\n\t\tif (cellCtor == this._cellCtor) { return; }\n\n\t\tthis._cellCtor = cellCtor;\n\t\tthis.clear();\n\t}\n\n\tthis.clear = function() {\n\t\tfor (var id in this._cellsByID) {\n\t\t\tvar cell = this._cellsByID[id];\n\t\t\tcell.remove();\n\t\t}\n\n\t\tthis._cellsByID = {};\n\t\tthis._renderedDataSource = null;\n\t\tthis._cellDim = null;\n\t};\n\n\tthis.getCell =\n\tthis.getCellById = function(id) {\n\t\treturn this._cellsByID[id];\n\t};\n\n\tthis.setCell =\n\tthis.setCellForId = function (id, cell) {\n\t\tthis._cellsByID[id] = cell;\n\t}\n\n\tthis.getCells = function() {\n\t\treturn this._cellsByID;\n\t};\n\n\tthis.setSorter = function(sorter) {\n\t\tthis._sorter = sorter;\n\t\tif (this._renderedDataSource) {\n\t\t\tthis._renderedDataSource.setSorter(sorter);\n\t\t}\n\t};\n\n\t// Filter moved to DataSource...\n\tthis.setFilter = function(filter) {\n\t\tthis._filter = filter;\n\t\tthis.needsRender();\n\t};\n\n\tthis.setFixedHeight = function(isFixedHeight) {\n\t\tthis._opts.isFixedHeight = isFixedHeight;\n\t};\n\n\tthis._applyDataSource = function() {\n\t\tif (this._filter != this._lastFilter) {\n\t\t\tthis._lastFilter = this._filter;\n\t\t\tthis._renderedDataSource = this._dataSource.getFilteredDataSource(bind(this, this._filter));\n\n\t\t\tthis._lastSorter = this._sorter;\n\t\t\tthis._renderedDataSource.setSorter(this._sorter);\n\t\t} else if (this._sorter != this._lastSorter) {\n\t\t\tif (!this._renderedDataSource || this._renderedDataSource == this._dataSource) {\n\t\t\t\tthis._filter = function () { return true; };\n\t\t\t\treturn this._applyDataSource();\n\t\t\t} else {\n\t\t\t\tthis._lastSorter = this._sorter;\n\t\t\t\tthis._renderedDataSource.setSorter(this._sorter);\n\t\t\t}\n\t\t}\n\n\t\tif (!this._renderedDataSource) {\n\t\t\tthis._renderedDataSource = this._dataSource;\n\t\t}\n\t};\n\n\tthis.onShow = function() { supr(this, 'onShow', arguments); this.needsRender(); }\n\n\t// just render all cells for now\n\tthis.render = function() {\n\t\tif (!this._dataSource) { return; }\n\t\tthis._applyDataSource();\n\t\tthis._renderedDataSource.sort();\n\n\t\tif (this._opts.renderAll) {\n\t\t\tthis.renderAllDelayed();\n\t\t} else if (this._opts.isFixedHeight) {\n\t\t\tthis.renderFixedHeight();\n\t\t} else {\n\t\t\tthis.renderDynamicHeight();\n\t\t}\n\n\t\tthis._removed = {};\n\t};\n\n\tthis.setCellDim = function(cellDim) {\n\t\tthis._cellDim = cellDim;\n\t};\n\n\tthis.getCellDim = function() {\n\t\tif (this._cellDim) { return this._cellDim; }\n\n\t\tif (this._opts.isFixedHeight) {\n\t\t\tvar item = this._renderedDataSource.getItemForIndex(0);\n\t\t\tif (!item) { return false; }\n\t\t\tvar key = item[this._renderedDataSource.getKey()],\n\t\t\t\tcell = this._cellsByID[key] || (this._cellsByID[key] = this._createCell(item)),\n\t\t\t\tdim = $.size(cell.getElement());\n\t\t\tif (dim.width == 0 || dim.height == 0) { return null; }\n\n\t\t\tvar cellSpacing = this._opts.cellSpacing;\n\t\t\tif (cellSpacing) {\n\t\t\t\tdim.width += cellSpacing;\n\t\t\t\tdim.height += cellSpacing;\n\t\t\t}\n\n\t\t\tthis._cellDim = dim;\n\t\t\treturn dim;\n\t\t} else {\n\t\t\tthrow 'unimplemented'\n\t\t}\n\t};\n\n\tthis._createCell = function(item) {\n\t\tvar key = this._dataSource.getKey(),\n\t\t\tcell = new this._cellCtor({\n\t\t\t\tparent: this,\n\t\t\t\tcontroller: this,\n\t\t\t\tkey: key,\n\t\t\t\titem: item\n\t\t\t});\n\n\t\tcell.getElement().setAttribute('squill-data-id', item[key]);\n\t\tcell.render();\n\t\treturn cell;\n\t};\n\n\tthis._nodeOrder = function() {\n\t\tvar container = this._container;\n\t\tvar src = this._renderedDataSource;\n\t\tvar key = src.key;\n\t\tvar dummy;\n\t\tvar cell;\n\t\tvar element;\n\t\tvar item;\n\t\tvar i;\n\n\t\tif (!container.childNodes.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tdummy = document.createElement('div');\n\n\t\tcontainer.insertBefore(dummy, container.childNodes[0]);\n\t\tfor (i = 0; i < src.length; i++) {\n\t\t\titem = src.getItemForIndex(i);\n\t\t\tcell = this._cellsByID[item[key]];\n\t\t\telement = cell.getElement();\n\t\t\tif (cell && element.parentNode) {\n\t\t\t\tcontainer.insertBefore(container.removeChild(element), dummy);\n\t\t\t}\n\t\t}\n\n\t\tcontainer.removeChild(dummy);\n\t};\n\n\tthis.renderAllDelayed = function() {\n\t\tvar src = this._renderedDataSource;\n\t\tif (!src) { return; }\n\n\t\tthis.updateRenderOpts();\n\t\tvar i = 0;\n\t\tfunction renderOne() {\n\t\t\tvar item = src.getItemForIndex(i);\n\t\t\tif (!item) { return false; }\n\n\t\t\tvar id = item[src.getKey()];\n\t\t\tvar cell = this._cellsByID[id];\n\t\t\tif (!cell) {\n\t\t\t\tcell = this._cellsByID[id] = this._createCell(item);\n\t\t\t} else {\n\t\t\t\tcell.render();\n\t\t\t}\n\t\t\t!this._applyNodeOrder && this.positionCell(cell, i);\n\t\t\t++i;\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction renderMany() {\n\t\t\tif (this._renderManyTimeout) {\n\t\t\t\tclearTimeout(this._renderManyTimeout);\n\t\t\t\tthis._renderManyTimeout = void 0;\n\t\t\t}\n\n\t\t\tvar THRESHOLD = 50; // ms to render\n\t\t\tvar n = 0, t = +new Date();\n\t\t\twhile (n++ < 10 || +new Date() - t < THRESHOLD) {\n\t\t\t\tif (!renderOne.call(this)) {\n\t\t\t\t\tthis._applyNodeOrder && this._nodeOrder();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._renderManyTimeout = setTimeout(bind(this, renderMany), 100);\n\t\t}\n\n\t\tvar removed = this._removed;\n\t\tfor (var id in removed) {\n\t\t\tif (!src.getItemForID(id)) {\n\t\t\t\tvar cell = this._cellsByID[id];\n\t\t\t\tif (cell) {\n\t\t\t\t\tcell.remove();\n\t\t\t\t\tdelete this._cellsByID[id];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trenderMany.call(this);\n\t}\n\n\tthis.setOffsetParent = function(offsetParent) {\n\t\tthis._opts.offsetParent = offsetParent;\n\t};\n\n\tthis.setTiled = function(tiled) {\n\t\tthis._opts.isTiled = tiled;\n\t\tthis._isTiled = tiled;\n\t};\n\n\tthis.updateRenderOpts = function() {\n\t\tvar r = this._renderOpts;\n\n\t\tr.offsetTop = this._containSelf ? 0 : this._container.offsetTop;\n\t\tr.offsetLeft = this._containSelf ? 0 : this._container.offsetLeft;\n\n\t\tvar parent = this._offsetParent || this.getOffsetParent();\n\t\tr.top = (parent.getAttribute('squill-scroller-top') || parent.scrollTop) - r.offsetTop;\n\t\tr.height = parent.offsetHeight;\n\t\tr.bottom = r.top + r.height;\n\n\t\tif (this._opts.isFixedHeight) {\n\t\t\tvar cellDim = this.getCellDim();\n\t\t\tif (!cellDim) { return false; }\n\t\t\tr.cellWidth = cellDim.width;\n\t\t\tr.cellHeight = cellDim.height;\n\t\t}\n\n\t\tvar n = r.numRows = this._renderedDataSource.length;\n\t\tif (this._opts.isFixedHeight) {\n\t\t\tif (this._opts.isTiled) {\n\t\t\t\tr.maxWidth = parent.offsetWidth - r.offsetLeft;\n\t\t\t\tr.numPerRow = Math.max(1, r.maxWidth / r.cellWidth | 0);\n\t\t\t\tr.numRows = Math.ceil(n / r.numPerRow);\n\t\t\t\tr.start = Math.max(0, (r.top / r.cellHeight | 0) * r.numPerRow);\n\t\t\t\tr.end = Math.ceil(r.bottom / r.cellHeight) * r.numPerRow;\n\t\t\t} else {\n\t\t\t\tr.start = Math.max(0, r.top / r.cellHeight | 0);\n\t\t\t\tr.end = (r.bottom / r.cellHeight + 1) | 0;\n\t\t\t}\n\t\t}\n\n\t\tif (!this._applyNodeOrder) {\n\t\t\tif (this._opts.absolutePosition) {\n\t\t\t\tthis._container.style.height = r.numRows * r.cellHeight + 'px';\n\t\t\t} else {\n\t\t\t\tthis._container.style.height = 'auto';\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tthis.positionCell = function(cell, i) {\n\t\tif (!this._opts.absolutePosition) { return; }\n\n\t\tvar r = this._renderOpts;\n\t\tvar el = cell.getElement();\n\t\tvar x, y;\n\n\t\tif (this._opts.isTiled) {\n\t\t\tx = i % r.numPerRow;\n\t\t\ty = (i / r.numPerRow) | 0;\n\t\t\tel.style.left = x * r.cellWidth + r.offsetLeft + 'px';\n\t\t\tel.style.top = y * r.cellHeight + r.offsetTop + 'px';\n\t\t} else {\n\t\t\tel.style.top = (i * r.cellHeight || 0) + r.offsetTop + 'px';\n\t\t}\n\t};\n\n\tthis.getOffsetParent = function() {\n\t\t// the list might be contained in some other scrolling div\n\t\treturn this._opts.offsetParent || (this._containSelf ? this._container : this._container.offsetParent) || document.body;\n\t};\n\n\tthis.renderFixedHeight = function() {\n\t\tvar parent = this.getOffsetParent();\n\t\tif (!parent) { return; }\n\t\tif (parent != this._offsetParent) {\n\t\t\tif (this._removeScrollEvt) { this._removeScrollEvt(); }\n\t\t\tthis._offsetParent = parent;\n\t\t\tthis._removeScrollEvt = $.onEvent(parent, 'scroll', this, 'needsRender');\n\t\t}\n\n\t\t// render data\n\t\tvar src = this._renderedDataSource,\n\t\t\tkey = src.getKey(),\n\t\t\tn = src.length;\n\n\t\tif (n && !this.updateRenderOpts()) { return; }\n\n\t\t// swap lists\n\t\tvar oldCellsByID = this._cellsByID;\n\t\tthis._cellsByID = {};\n\n\t\t// render new items\n\t\tif (n) {\n\t\t\tvar isTiled = this._isTiled;\n\t\t\tvar r = this._renderOpts;\n\t\t\tfor (var i = r.start; i < r.end; ++i) {\n\t\t\t\tvar item = src.getItemForIndex(i);\n\t\t\t\tif (!item) { break; }\n\n\t\t\t\tvar id = item[key];\n\t\t\t\tvar cell = oldCellsByID[id];\n\t\t\t\tif (!cell) {\n\t\t\t\t\tcell = this._createCell(item);\n\t\t\t\t} else {\n\t\t\t\t\tdelete(oldCellsByID[id]);\n\t\t\t\t\tcell.render();\n\t\t\t\t}\n\n\t\t\t\tthis.positionCell(cell, i);\n\t\t\t\tthis._cellsByID[id] = cell;\n\t\t\t}\n\t\t};\n\n\t\t// remove old items\n\t\tif (!this._opts.preserveCells) {\n\t\t\tfor (var id in oldCellsByID) {\n\t\t\t\toldCellsByID[id].remove();\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var id in oldCellsByID) {\n\t\t\t\tvar cell = oldCellsByID[id];\n\t\t\t\tif (!src.getItemForID(id)) {\n\t\t\t\t\tcell.remove();\n\t\t\t\t} else {\n\t\t\t\t\tthis._cellsByID[id] = cell;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n});\n",
            "pre": true
        },
        "node_modules/squill/Window.js": {
            "path": "node_modules/squill/Window.js",
            "friendlyPath": "squill.Window",
            "directory": "node_modules/squill/",
            "filename": "Window.js",
            "src": "jsio('import lib.PubSub');\njsio('import std.uri');\njsio('from util.browser import $');\n\nvar UNIQUE_ID = '__squill__window_id';\n\nvar node_modules_squill_Window=__class__;var Window = exports=node_modules_squill_Window(function node_modules_squill_Window(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function() {\n\tthis.init = function(win) {\n\t\tthis._win = win || window;\n\t\tthis._location = new std.uri(this._win.location);\n\t\tthis._dim = $(this._win);\n\t\t$.onEvent(this._win, 'resize', this, 'onViewportChange');\n\t\t$.onEvent(this._win, 'scroll', this, 'onViewportChange');\n\t}\n\n\tthis.onViewportChange = function(e) {\n\t\tthis._dim = $(this._win);\n\t\tthis.publish('ViewportChange', e, this._dim);\n\t}\n\n\tthis.getDim =\n\tthis.getViewport = function() { return this._dim; }\n\n\tthis.query = function(key) {\n\t\treturn this._location.query(key);\n\t}\n\n\tthis.hash = function(key) {\n\t\treturn this._location.query(key);\n\t}\n\n\tthis.center = function(el, opts) {\n\t\topts = merge(opts, {subscribe: true});\n\n\t\tvar width = 'width' in opts ? opts.width : el.offsetWidth,\n\t\t\theight = 'height' in opts ? opts.height : el.offsetHeight;\n\n\t\tel.style.left = (this._dim.width - width) / 2 + 'px';\n\t\tel.style.top = (this._dim.height - height) / 2 + 'px';\n\n\t\tif (opts.subscribe) {\n\t\t\tthis.subscribe('ViewportChange', this, 'center', el, merge({subscribe: false}, opts));\n\t\t}\n\t}\n});\n\nvar gWin = {};\nexports.get = function(win) {\n\tif (!win) { win = window; }\n\n\tif (win[UNIQUE_ID]) {\n\t\treturn gWin[win[UNIQUE_ID]];\n\t} else {\n\t\treturn gWin[win[UNIQUE_ID]] = new Window(win);\n\t}\n}\n",
            "pre": true
        },
        "node_modules/squill/models/DataSource.js": {
            "path": "node_modules/squill/models/DataSource.js",
            "friendlyPath": "squill.models.DataSource",
            "directory": "node_modules/squill/models/",
            "filename": "DataSource.js",
            "src": "jsio('import lib.Callback');\njsio('import .BasicDataSource as BasicDataSource');\n\nvar node_modules_squill_models_DataSource=__class__;var DataSource = exports=node_modules_squill_models_DataSource(function node_modules_squill_models_DataSource(){return this.init&&this.init.apply(this,arguments)},BasicDataSource, function(supr) {\n\n\tvar defaults = {\n\t\tkey: 'id'\n\t};\n\n\tthis.init = function(opts) {\n\t\tthis._opts = opts = merge(opts, defaults);\n\n\t\tsupr(this, 'init', [opts]);\n\n\t\tthis._byIndex = [];\n\t\tthis._byID = {};\n\t\tthis._ctor = opts.ctor;\n\t\tthis._reverse = opts.reverse;\n\n\t\tthis.length = 0;\n\n\t\tthis.onLoad = new lib.Callback();\n\n\t\tthis.setSorter(opts.sorter);\n\t\tthis.setPersistence(opts.persistence);\n\n\t\tthis._changeDataSave = false;\n\t\tthis._changeData = {\n\t\t\tupdated: [],\n\t\t\tupdatedHash: {},\n\t\t\tremoved: [],\n\t\t\tremovedHash: {}\n\t\t};\n\t};\n\n\tthis.setPersistence = function(persistence) {\n\t\tthis._persistence = persistence;\n\t\tif (persistence) {\n\t\t\tthis.onLoad.clear();\n\t\t\tpersistence.load(this, this.onLoad.chain());\n\t\t}\n\t}\n\n\tthis._saveChanges = function(type, key) {\n\t\tif (this._changeDataSave && !this._changeData[type + 'Hash'][key]) {\n\t\t\tthis._changeData[type + 'Hash'][key] = true;\n\t\t\tthis._changeData[type].push(key);\n\t\t}\n\t};\n\n\tthis.getFilteredDataSource = function(filterFn) {\n\t\tvar ds = new DataSource(this._opts);\n\t\tthis.forEach(function (item) {\n\t\t\tif (filterFn(item)) {\n\t\t\t\tds.add(item);\n\t\t\t}\n\t\t});\n\n\t\tthis.subscribe('Update', function (id, item) {\n\t\t\tif (filterFn(item)) {\n\t\t\t\tds.add(item);\n\t\t\t} else {\n\t\t\t\tds.remove(item);\n\t\t\t}\n\t\t});\n\n\t\tthis.subscribe('Remove', function (id, item) { ds.remove(item); });\n\t\treturn ds;\n\t};\n\n\tthis.signalUpdate = function(type, item, id) {\n\t\tif (item[this.key] === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (type) {\n\t\t\tcase 'UPDATE':\n\t\t\t\tthis._saveChanges('updated', item[this.key]);\n\t\t\t\tthis.publish('Update', item[this.key], item);\n\t\t\t\tbreak;\n\n\t\t\tcase 'REMOVE':\n\t\t\t\tthis._saveChanges('removed', item[this.key]);\n\t\t\t\tthis.publish('Remove', id, item);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tvar toStringSort = function() {\n\t\treturn this._sortKey;\n\t};\n\t// NEVER CHANGE THE ID OF AN ITEM WITHOUT REMOVING IT FROM THE DATASOURCE FIRST.\n\t// Love, Jeff Hubbard and Marcus Cavanaugh\n\n\tthis.updated =\n\tthis.add = function(item) {\n\t\tif (isArray(item)) {\n\t\t\tvar res = [];\n\t\t\tfor (var i = 0, len = item.length; i < len; ++i) {\n\t\t\t\tif (item[i]) {\n\t\t\t\t\tvar obj = this.add(item[i]);\n\t\t\t\t\tif (obj) {\n\t\t\t\t\t\tres.push(obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn res;\n\t\t} else {\n\t\t\tvar id = item[this.key];\n\n\t\t\t// note: not the same as `if (!id) { ... }`\n\t\t\tif (id == null) { return; }\n\n\t\t\tvar index = null;\n\t\t\tif (this._byID[id]) {\n\t\t\t\tfor (var i = 0, _item; _item = this._byIndex[i]; ++i) {\n\t\t\t\t\tif (_item[this.key] == id) {\n\t\t\t\t\t\tif (typeof _item.update == 'function') {\n\t\t\t\t\t\t\t_item.update(item);\n\t\t\t\t\t\t\titem = _item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tindex = this.length++;\n\t\t\t}\n\n\t\t\t// if we're adding it to the array:\n\t\t\tif (index !== null) {\n\n\t\t\t\t// make sure it's an instance of the specified class\n\t\t\t\tif (this._ctor && !(item instanceof this._ctor)) {\n\t\t\t\t\titem = new this._ctor(item);\n\t\t\t\t}\n\n\t\t\t\tthis._byIndex[index] = item;\n\t\t\t}\n\n\t\t\tthis._byID[id] = item;\n\n\t\t\tthis.signalUpdate('UPDATE', item);\n\n\t\t\tif (this._sorter) {\n\t\t\t\titem._sortKey = this._sorter(item);\n\t\t\t\titem.toString = toStringSort;\n\t\t\t}\n\t\t}\n\n\t\treturn item;\n\t};\n\n\tthis.remove = function(id) {\n\t\tif (typeof id == 'object') { id = id[this.key]; }\n\t\tif (id == null) { return; }\n\n\t\tif (this._byID[id]) {\n\t\t\tthis.signalUpdate('REMOVE', this._byID[id], id);\n\t\t\tdelete this._byID[id];\n\t\t\tfor (var i = 0, item; item = this._byIndex[i]; ++i) {\n\t\t\t\tif (item[this.key] == id) {\n\t\t\t\t\t--this.length;\n\t\t\t\t\treturn this._byIndex.splice(i, 1)[0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.keepOnly = function(list) {\n\t\tthis.compare(list, function(dataSource, local, remote) {\n\t\t\tif (!remote) {\n\t\t\t\tdataSource.remove(local);\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.clear = function() {\n\t\tvar index = this._byIndex;\n\n\t\tthis._byIndex = [];\n\t\tthis._byID = {};\n\t\tthis.length = 0;\n\n\t\tfor (var i = 0, item; item = index[i]; ++i) {\n\t\t\tthis.signalUpdate('REMOVE', item, item[this.key]);\n\t\t}\n\t};\n\n\tthis.getCount = function() {\n\t\treturn this.length;\n\t};\n\n\tthis.setSorter = function(sorter) {\n\t\tthis._sorter = sorter;\n\t\tif (sorter) {\n\t\t\tfor (var i = 0, item; item = this._byIndex[i]; ++i) {\n\t\t\t\titem._sortKey = sorter(item);\n\t\t\t\titem.toString = toStringSort;\n\t\t\t}\n\t\t}\n\t\tthis.sort();\n\t\treturn this;\n\t};\n\n\tthis.getIDs = function () {\n\t\treturn this._byIndex.map(function (item) {\n\t\t\treturn item[this.key];\n\t\t}, this);\n\t};\n\n\tthis.contains = function(id) {\n\t\treturn !!this._byID[id];\n\t};\n\n\tthis.getKey = function() {\n\t\treturn this.key;\n\t}\n\n\tthis.get = this.getItemForID = function(id) {\n\t\treturn this._byID[id] || null;\n\t};\n\n\tthis.indexOf = function (item) {\n\t\treturn this._byIndex.indexOf(item);\n\t};\n\n\tthis.getItemForIndex = function(index) {\n\t\treturn this._byIndex[index];\n\t};\n\n\tthis.sort = function() {\n\t\tthis._byIndex.sort();\n\t\tthis._reverse && this._byIndex.reverse();\n\t};\n\n\tthis.forEach = this.each = function(cb, context) {\n\t\tfor (var i = 0; i < this.length; ++i) {\n\t\t\tif (cb.call(context, this._byIndex[i], i)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.toJSON = function() {\n\t\treturn {\n\t\t\tkey: this.key,\n\t\t\titems: this._byIndex\n\t\t};\n\t};\n\n\tthis.fromJSON = function(data) {\n\t\tthis.clear();\n\t\tvar key = this.key = data.key;\n\t\tthis.add(data.items);\n\t};\n\n\tthis.toArray = function() { return this._byIndex.slice(0); }\n\n\tthis.beginChanges = function() {\n\t\tthis._changeDataSave = true;\n\t\tthis._changeData = {\n\t\t\tupdated: [],\n\t\t\tupdatedHash: {},\n\t\t\tremoved: [],\n\t\t\tremovedHash: {}\n\t\t};\n\t};\n\n\tthis.saveChanges = function() {\n\t\tthis._changeDataSave = false;\n\t\tif (this._persistence) {\n\t\t\tvar changeData = this._changeData,\n\t\t\t\ti, j;\n\n\t\t\tthis._persistence.remove(changeData.removed);\n\n\t\t\tif (changeData.updated.length) {\n\t\t\t\tvar updateList = [];\n\t\t\t\tfor (i = 0, j = changeData.updated.length; i < j; i++) {\n\t\t\t\t\tupdateList.push(this._byID[changeData.updated[i]]);\n\t\t\t\t}\n\t\t\t\tthis._persistence.update(updateList);\n\t\t\t}\n\n\t\t\tthis._persistence.commit();\n\t\t}\n\t};\n\n\tthis.load = function(cb) {\n\t\tif (this._persistence) {\n\t\t\tthis._persistence.load(this, function(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tlogger.LOG&&console.log(\"LOG\",\"squill.models.DataSource\",'error loading', JSON.stringify(err));\n\t\t\t\t}\n\t\t\t\tcb && cb(err);\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.save = function() {\n\t\tif (this._persistence) {\n\t\t\tthis._persistence.save(this);\n\t\t}\n\t}\n\n\tthis.compare = function(dict, cb) {\n\t\tvar key = this.key;\n\n\t\t// create a key-indexed copy of dict to run the comparison against\n\t\tvar compareTo = {};\n\t\tif (isArray(dict)) {\n\t\t\tfor (var i = 0, n = dict.length; i < n; ++i) {\n\t\t\t\tcompareTo[dict[i][key]] = dict[i];\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var k in dict) {\n\t\t\t\tcompareTo[k] = dict[k];\n\t\t\t}\n\t\t}\n\n\t\t// first, compare all items in the index to the dict items\n\t\tvar items = this._byIndex.slice(0);\n\t\tfor (var i = 0, item; item = items[i]; ++i) {\n\t\t\tvar k = item[key];\n\t\t\tcb.call(this, this, item, compareTo[k]);\n\t\t\tdelete compareTo[k];\n\t\t}\n\n\t\t// then, for any remaining dict items, they don't exist in the local version\n\t\tfor (var k in compareTo) {\n\t\t\tcb.call(this, this, null, compareTo[k]);\n\t\t}\n\t}\n\n\tthis.filter = function(filter) {\n\t\tvar result = new DataSource({key: this.key});\n\t\tvar key;\n\t\tvar item;\n\t\tvar match;\n\t\tvar i;\n\t\tvar j = this.length;\n\n\t\tresult.key = this.key;\n\t\tfor (i = 0; i < j; ++i) {\n\t\t\titem = this._byIndex[i];\n\t\t\tmatch = true;\n\t\t\tfor (key in filter) {\n\t\t\t\tif ((typeof item[key] == 'string') && (item[key].toLowerCase().indexOf(filter[key]) == -1)) {\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (match) {\n\t\t\t\tresult.add(item);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n});\n",
            "pre": true
        },
        "node_modules/squill/models/BasicDataSource.js": {
            "path": "node_modules/squill/models/BasicDataSource.js",
            "friendlyPath": ".BasicDataSource",
            "directory": "node_modules/squill/models/",
            "filename": "BasicDataSource.js",
            "src": "jsio('import lib.PubSub as PubSub');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_models_BasicDataSource=__class__;var BasicDataSource = exports=c__Users_Surface_cloud_devkit_node_modules_squill_models_BasicDataSource(function c__Users_Surface_cloud_devkit_node_modules_squill_models_BasicDataSource(){return this.init&&this.init.apply(this,arguments)},PubSub, function(supr) {\n\tthis.init = function(opts) {\n\t\tsupr(this, 'init', arguments);\n\n\t\tthis.key = this._key = opts.key;\n\t\tthis._channel = opts.channel;\n\t\tthis._hasRemote = opts.hasRemote;\n\t};\n\n\tthis.getKey = function() {\n\t\treturn this._key;\n\t};\n});\n",
            "pre": true
        },
        "node_modules/squill/Selection.js": {
            "path": "node_modules/squill/Selection.js",
            "friendlyPath": ".Selection",
            "directory": "node_modules/squill/",
            "filename": "Selection.js",
            "src": "jsio('import lib.PubSub');\n\n/**\n * The Selection class connects a selection storage to a UI element.\n *\n * A selection storage is very simple class that maintains the data layer of\n * a selection. It is entirely based on item ID, exposing the methods:\n *   isSelected(id) -> bool\n *   select(id)\n *   deselect(id)\n * You may, for example, want to implement a selection store that persists\n * the current selection over a network. The base implementation of a selection\n * storage is exports.LocalStore, which simply wraps an in-memory object.\n *\n * The Selection class handles logic such as how many items can be selected\n * at once, and provides the API that UI widgets can interact with.  For example,\n * the squill.List class contains a public proprty .selection that is an\n * instance of a Selection instance.\n */\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Selection=__class__;exports=c__Users_Surface_cloud_devkit_node_modules_squill_Selection(function c__Users_Surface_cloud_devkit_node_modules_squill_Selection(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function() {\n\n\tthis.init = function(opts) {\n\t\tthis._parent = opts.parent;\n\t\tthis._type = opts.type || false;\n\t\tthis._selection = opts.selectionStore || new exports.LocalStore();\n\t\tthis._maxSelections = opts.maxSelections || 1;\n\t\tthis._currentSelectionCount = 0;\n\t\tthis._lastSelected = null;\n\t};\n\n\tthis.getType = function() { return this._type; };\n\n\tthis.isSelected = function(id) {\n\t\tif (typeof id == 'object') {\n\t\t\tid = id[this._parent.getDataSource().key];\n\t\t}\n\t\treturn this._selection.isSelected(id);\n\t};\n\n\tthis.toggle = function(item) {\n\t\tthis._setSelected(item, !this.isSelected(item[this._parent.getDataSource().key]));\n\t};\n\n\tthis.select = function(item) {\n\t\tif((this._currentSelectionCount < this._maxSelections) || this._type == 'single') {\n\t\t\tthis._setSelected(item, true);\n\t\t}\n\t};\n\n\tthis.deselect = function(item) {\n\t\tthis._setSelected(item, false);\n\t};\n\n\tthis.clear =\n\tthis.deselectAll = function() {\n\t\tthis._selection.deselectAll();\n\t\tthis._currentSelectionCount = 0;\n\t};\n\n\tthis.get = function() {\n\t\tif (this._maxSelections == 1) {\n\t\t\treturn Object.keys(this._selection.get())[0];\n\t\t} else {\n\t\t\treturn Object.keys(this._selection.get());\n\t\t}\n\t};\n\n\tthis.getSelectionCount = function() {\n\t\treturn this._currentSelectionCount;\n\t};\n\n\tthis._setSelected = function(item, isSelected) {\n\t\tif (!item) { return; }\n\n\t\tvar dataSource = this._parent.getDataSource(),\n\t\t\tkey = dataSource.key;\n\t\tif (typeof item == 'string') {\n\t\t\titem = dataSource.get(item);\n\t\t\tif (!item) { return; }\n\t\t}\n\t\tvar id = item[key];\n\n\t\tif (this._selection.isSelected(id) != isSelected) {\n\t\t\tif (isSelected) {\n\t\t\t\tif (this._lastSelected && this._type == 'single') {\n\t\t\t\t\tvar lastID = this._lastSelected[key];\n\t\t\t\t\tthis._selection.deselect(lastID);\n\t\t\t\t\tthis._currentSelectionCount--;\n\t\t\t\t\tthis.publish('Deselect', this._lastSelected, lastID);\n\t\t\t\t}\n\n\t\t\t\tthis._lastSelected = item;\n\t\t\t\tthis._selection.select(id);\n\t\t\t\tthis._currentSelectionCount++;\n\t\t\t} else {\n\t\t\t\tthis._selection.deselect(id);\n\t\t\t\tthis._currentSelectionCount--;\n\t\t\t}\n\n\t\t\tthis.publish(isSelected ? 'Select' : 'Deselect', item, id);\n\t\t}\n\t};\n});\n\nexports.LocalStore=__class__;exports.LocalStore=exports.LocalStore(function exports_LocalStore(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function() {\n\t\tthis._store = {};\n\t}\n\n\tthis.get = function() {\n\t\treturn merge({}, this._store);\n\t}\n\n\tthis.select = function(id) {\n\t\tthis._store[id] = true;\n\t}\n\n\tthis.deselect = function(id) {\n\t\tdelete this._store[id];\n\t}\n\n\tthis.deselectAll = function(id) {\n\t\tthis._store = {};\n\t}\n\n\tthis.isSelected = function(id) {\n\t\tif (id !== undefined) {\n\t\t\treturn !!this._store[id];\n\t\t} else {\n\t\t\tfor (var key in this._store) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n});\n\n",
            "pre": true
        },
        "node_modules/squill/TextButton.js": {
            "path": "node_modules/squill/TextButton.js",
            "friendlyPath": ".TextButton",
            "directory": "node_modules/squill/",
            "filename": "TextButton.js",
            "src": "jsio('import .Button, .Widget');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_TextButton=__class__;var TextButton = exports=c__Users_Surface_cloud_devkit_node_modules_squill_TextButton(function c__Users_Surface_cloud_devkit_node_modules_squill_TextButton(){return this.init&&this.init.apply(this,arguments)},Button, function(supr) {\n\tthis._type = 'text-button';\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\t\t$.setText(el, this.getI18n('label') || this.getI18n('text'));\n\n\t\tthis.initMouseEvents(el);\n\t\tthis.initKeyEvents(el);\n\t}\n\n\tthis.setLabel = function(label) {\n\t\tthis._opts.label = label;\n\t\tif(this._el) { $.setText(this._el, label); }\n\t}\n});\n\nWidget.register(TextButton, 'TextButton');\n",
            "pre": true
        },
        "node_modules/squill/Button.js": {
            "path": "node_modules/squill/Button.js",
            "friendlyPath": ".Button",
            "directory": "node_modules/squill/",
            "filename": "Button.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\n\njsio('import .hint as hint');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Button=__class__;var Button = exports=c__Users_Surface_cloud_devkit_node_modules_squill_Button(function c__Users_Surface_cloud_devkit_node_modules_squill_Button(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._css = 'btn';\n\tthis._type = 'button';\n\n\tthis.init = function(params) {\n\t\tparams = merge(params, {tag: 'button', isEnabled: true});\n\t\tthis._isEnabled = params.isEnabled;\n\t\tsupr(this, 'init', [params]);\n\t\tthis._hint = params.hint;\n\t};\n\n\tthis.create = function() {\n\t\tthis._opts.style = JS.merge(this._opts.style, {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\tdisplay: 'block'\n\t\t\t});\n\n\t\tsupr(this, 'create', arguments);\n\t};\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\n\t\tthis.initMouseEvents(el);\n\t\tthis.initKeyEvents(el);\n\n\t\tel.style.userSelect = 'none';\n\t\tel.style.MozUserSelect = 'none'; // Mozilla\n\t\tel.style.KhtmlUserSelect = 'none'; // Safari\n\t\tel.unselectable = 'on'; // IE\n\t};\n\n\tthis._setHintTimeout = function(e) {\n\t\tif (!this._hint) {\n\t\t\treturn;\n\t\t}\n\t\tthis._hintTimeout && clearTimeout(this._hintTimeout);\n\t\tthis._hintTimeout = setTimeout(\n\t\t\tbind(\n\t\t\t\tthis,\n\t\t\t\tfunction() {\n\t\t\t\t\thint.show(e.pageX + 12, e.pageY + 14, this._hint);\n\t\t\t\t}\n\t\t\t),\n\t\t\t300\n\t\t);\n\t};\n\n\tthis.onMouseOver = function(e) {\n\t\tthis._setHintTimeout(e);\n\t};\n\n\tthis.onMouseMove = function(e) {\n\t\tthis._setHintTimeout(e);\n\t};\n\n\tthis.onMouseOut = function(e) {\n\t\thint.hide();\n\t\tthis._hintTimeout && clearTimeout(this._hintTimeout);\n\t};\n\n\tthis.onClick = function(e) {\n\t\t$.stopEvent(e);\n\t\tif (!this._isEnabled) { return; }\n\n\t\tif (this._opts.onClick) {\n\t\t\tthis._opts.onClick(e, this);\n\t\t}\n\n\t\tsupr(this, 'onClick', arguments);\n\t};\n\n\tthis.captureOnEnter = function(widget) {\n\t\twidget.subscribe('KeyDown', this, 'onKeyDown');\n\t\twidget.subscribe('KeyUp', this, 'onKeyUp');\n\t};\n\n\tthis.onKeyDown = function(e) {\n\t\tif (e.keyCode == 13) { $.stopEvent(e); this.onMouseDown(); }\n\t};\n\n\tthis.onKeyUp = function(e) {\n\t\tif (e.keyCode == 13) { $.stopEvent(e); this.onMouseUp(); this.onClick(e); }\n\t};\n\n\tthis.show = function() {\n\t\tthis.onBeforeShow();\n\t\tthis.getElement().style.display = 'inline-block';\n\t\tthis.onShow();\n\t\treturn this;\n\t};\n\n\tthis.blur = function () { this._el && this._el.blur(); }\n\tthis.focus = function () { this._el && this._el.focus(); }\n\n\tthis.setEnabled = function(isEnabled) {\n\t\tif (this._isEnabled != isEnabled) {\n\t\t\tthis._isEnabled = isEnabled;\n\t\t\tif (!isEnabled) {\n\t\t\t\t$.addClass(this._el, 'disabled')\n\t\t\t} else {\n\t\t\t\t$.removeClass(this._el, 'disabled')\n\t\t\t}\n\t\t}\n\t};\n});\n\n",
            "pre": true
        },
        "node_modules/squill/hint.js": {
            "path": "node_modules/squill/hint.js",
            "friendlyPath": ".hint",
            "directory": "node_modules/squill/",
            "filename": "hint.js",
            "src": "jsio('from util.browser import $');\n\nvar hint = $({parent: document.body, className: 'hint'});\n\nexports.show = function(x, y, text) {\n\thint.innerHTML = text;\n\thint.style.left = x + 'px';\n\thint.style.top = y + 'px';\n\thint.style.display = 'block';\n\n\tconsole.log(text);\n\tif (x + hint.offsetWidth >= document.width) {\n\t\thint.style.left = (x - hint.offsetWidth) + 'px';\n\t}\n};\n\nexports.hide = function() {\n\thint = hint || $({\n\t\tparent: document.body,\n\t\tclassName: 'graphHint'\n\t});\n\n\thint.style.display = 'none';\n};\n\nvar setHintTimeout = function(evt) {\n\tevt.target.hintTimeout && clearTimeout(evt.target.hintTimeout);\n\tevt.target.hintTimeout = setTimeout(\n\t\tbind(\n\t\t\tthis,\n\t\t\tfunction() {\n\t\t\t\texports.show(evt.pageX + 12, evt.pageY + 14, evt.target.hintText);\n\t\t\t}\n\t\t),\n\t\t300\n\t);\n};\n\nexports.add = function(el, text) {\n\tel.hintText = text;\n\n\t$.onEvent(el, 'mouseover', setHintTimeout);\n\t$.onEvent(el, 'mousemove', setHintTimeout);\n\t$.onEvent(\n\t\tel,\n\t\t'mouseout',\n\t\tfunction(evt) {\n\t\t\texports.hide();\n\t\t\tevt.target.hintTimeout && clearTimeout(evt.target.hintTimeout);\n\t\t}\n\t);\n}\n",
            "pre": true
        },
        "node_modules/squill/TextInput.js": {
            "path": "node_modules/squill/TextInput.js",
            "friendlyPath": ".TextInput",
            "directory": "node_modules/squill/",
            "filename": "TextInput.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\njsio('import squill.models.bindings as bindings');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_TextInput=__class__;var TextInput = exports=c__Users_Surface_cloud_devkit_node_modules_squill_TextInput(function c__Users_Surface_cloud_devkit_node_modules_squill_TextInput(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._type = 'text';\n\tthis._css = 'textInput';\n\n\tthis.init = function(opts) {\n\t\topts = merge(opts, {\n\t\t\tname: '',\n\t\t\tvalue: '',\n\t\t\tmultiline: false\n\t\t});\n\n\t\tthis._def = {\n\t\t\tchildren: [\n\t\t\t\t{tag: opts.multiline ? 'textarea' : 'input', id: '_input', attrs: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tvalue: opts.value,\n\t\t\t\t\tname: opts.name\n\t\t\t\t}, style: merge(opts.textStyle, {\n\t\t\t\t\tMozBoxSizing: 'border-box',\n\t\t\t\t\tWebkitBoxSizing: 'border-box',\n\t\t\t\t\tMsBoxSizing: 'border-box',\n\t\t\t\t\tboxSizing: 'border-box'\n\t\t\t\t})}\n\t\t\t],\n\t\t\tstyle: {position: 'relative'}\n\t\t};\n\n\t\tif (opts.prefixLabel) {\n\t\t\tthis._def.children.unshift({id: '_label', text: opts.label});\n\t\t}\n\n\t\tsupr(this, 'init', [opts]);\n\t}\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\t\tvar type = this._opts.type;\n\t\tif ('ontouchstart' in this._el) {\n\t\t\tthis._overlay = $({\n\t\t\t\tparent: this._el,\n\t\t\t\tattrs: {\n\t\t\t\t\tnoCapture: true\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: '0px',\n\t\t\t\t\tleft: '0px',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%',\n\t\t\t\t\tzIndex: 1\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._overlay.addEventListener('click', bind(this, function() {\n\t\t\t\t$.hide(this._overlay);\n\t\t\t\tthis._input.focus();\n\t\t\t}), true);\n\t\t}\n\n\t\tvar opts = this._opts\n\t\tif (!opts.prefixLabel || opts.placeholder) {\n\t\t\tvar label = this.getI18n('label');\n\t\t\tif (this._input.getAttribute('placeholder') === null) {\n\t\t\t\tthis._input.setAttribute('placeholder', opts.placeholder || label);\n\t\t\t} else {\n\t\t\t\tthis._placeholder = $.create({\n\t\t\t\t\ttag: 'button',\n\t\t\t\t\ttext: label,\n\t\t\t\t\tstyle: {position: 'absolute'},\n\t\t\t\t\tparent: el\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.initMouseEvents(el);\n\t\tthis.initFocusEvents(this._input);\n\t\tthis.initKeyEvents(this._input);\n\t}\n\n\tthis.focus = function () { this._input.focus(); }\n\tthis.blur = function () { this._input.blur(); }\n\n\tthis.getInputElement = function () { return this._input; }\n\n\tthis.setName = function(name) {\n\t\tsupr(this, 'setName', arguments);\n\n\t\tif (this._input) { this._input.name = name; }\n\t}\n\n\tthis.setData =\n\tthis.setValue = function (value) {\n\t\tif (value === undefined) { value = \"\"; }\n\n\t\tthis.saveSelection();\n\t\tthis._value = this._input.value = value;\n\t\tthis.restoreSelection();\n\t}\n\n\tthis.getValue = function() { return this._input.value; }\n\n\tthis.onKeyDown = function() {\n\t\tsupr(this, 'onKeyDown', arguments);\n\t\tif (this._placeholder) { $.hide(this._placeholder); }\n\t}\n\n\tthis.onKeyUp = function() {\n\t\tsupr(this, 'onKeyUp', arguments);\n\t\tthis.checkLabel();\n\t\tthis.checkValue();\n\t}\n\n\tthis.onMouseDown = function(evt) {\n\t\tsupr(this, 'onMouseDown', arguments);\n\n\t\tevt.stopPropagation();\n//\t\t$.stopEvent(evt);\n\t}\n\n\tthis.onKeyPress = function(e) {\n\t\tsupr(this, 'onKeyPress', arguments);\n\t\tif (e.keyCode == 13) {\n\t\t\tthis.publish('EnterPressed');\n\t\t}\n\t\tthis.checkValue();\n\t}\n\n\tthis.onBlur = function() {\n\t\tsupr(this, 'onBlur');\n\t\tthis.checkLabel();\n\n\t\tif (this._overlay) {\n\t\t\t$.show(this._overlay);\n\t\t}\n\t}\n\n\tthis.isValid = function () { return this._isValid; }\n\n\tthis.checkValue = function() {\n\t\tvar value = this._input.value;\n\t\tvar formatter = this._opts.formatter;\n\t\tif (formatter) {\n\t\t\tvalue = formatter(value);\n\t\t}\n\n\t\tif (value == INVALID_VALUE) {\n\t\t\tthis._isValid = false;\n\t\t\t$.addClass(this._el, 'invalid');\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isValid = true;\n\t\t$.removeClass(this._el, 'invalid');\n\t\tif (this._value != value) {\n\t\t\tthis._value = value;\n\t\t\tvar input = this._input;\n\t\t\tif (value != input.value) {\n\t\t\t\tthis.saveSelection();\n\t\t\t\tinput.value = value;\n\t\t\t\tthis.restoreSelection();\n\t\t\t}\n\t\t\tthis.publish('change', this._value);\n\t\t\tthis.publish('ValueChange', this._value);\n\t\t}\n\t}\n\n\tthis.saveSelection = function () {\n\t\tthis._selection = {\n\t\t\tstart: this._input.selectionStart,\n\t\t\tend: this._input.selectionEnd\n\t\t};\n\t}\n\n\tthis.restoreSelection = function () {\n\t\tvar input = this._input;\n\t\tif (this._isFocused) {\n\t\t\tinput.selectionStart = this._selection.start;\n\t\t\tinput.selectionEnd = this._selection.end;\n\t\t}\n\t}\n\n\tthis.checkLabel = function() {\n\t\tif(this._placeholder && /^\\s*$/.test(this._input.value)) {\n\t\t\t$.show(this._placeholder);\n\t\t}\n\t}\n\n\tthis.onClick = function() {\n\t\tsupr(this, 'onClick');\n\n\t\t//setTimeout(bind(this._input, 'focus'), 100);\n\t}\n\n\tthis.setEnabled = function (isEnabled) {\n\t\tthis._isEnabled = isEnabled;\n\t\tif (isEnabled) {\n\t\t\tdelete this._input.disabled;\n\t\t\tthis.removeClass('disabled');\n\t\t} else {\n\t\t\tthis._input.disabled = true;\n\t\t\tthis.addClass('disabled');\n\t\t}\n\t}\n\n\tthis.isEnabled = function () { return this._isEnabled; }\n\n\tthis.disable = function () { this.setEnabled(false); }\n\tthis.enable = function () { this.setEnabled(true); }\n});\n\nvar INVALID_VALUE = exports.INVALID_VALUE = {};\n\nWidget.register(TextInput, 'TextInput');\n",
            "pre": true
        },
        "node_modules/squill/TextArea.js": {
            "path": "node_modules/squill/TextArea.js",
            "friendlyPath": ".TextArea",
            "directory": "node_modules/squill/",
            "filename": "TextArea.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\njsio('import .TextInput');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_TextArea=__class__;var TextArea = exports=c__Users_Surface_cloud_devkit_node_modules_squill_TextArea(function c__Users_Surface_cloud_devkit_node_modules_squill_TextArea(){return this.init&&this.init.apply(this,arguments)},TextInput, function(supr) {\n\tthis._tag = 'textarea';\n});\n\nWidget.register(TextArea, 'TextArea');\n",
            "pre": true
        },
        "node_modules/squill/Scroller.js": {
            "path": "node_modules/squill/Scroller.js",
            "friendlyPath": ".Scroller",
            "directory": "node_modules/squill/",
            "filename": "Scroller.js",
            "src": "jsio('import .Drag');\njsio('import .Widget');\njsio('import .transforms');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Scroller=__class__;exports=c__Users_Surface_cloud_devkit_node_modules_squill_Scroller(function c__Users_Surface_cloud_devkit_node_modules_squill_Scroller(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._css = 'scroller';\n\n\tthis.init = function(opts) {\n\t\topts = merge(opts, {\n\t\t\tmomentum: true\n\t\t});\n\n\t\tthis._scrollTop = 0;\n\t\tthis._lastDelta = {\n\t\t\tdiff: 0,\n\t\t\twhen: 0,\n\t\t\tduration: 0\n\t\t};\n\n\t\tthis._hasMomentum = opts.momentum;\n\n\t\tsupr(this, 'init', [opts]);\n\t}\n\n\tthis.buildContent = function() {\n\t\tvar el = this._el;\n\n\t\t$.style(el, {height: '100%'});\n\n\t\tthis._scrollPane = $({\n\t\t\tparent: el,\n\t\t\tclassName: 'squill-scrollPane',\n\t\t\tminHeight: '100%'\n\t\t});\n\n\t\tif ('ontouchstart' in el) {\n\t\t\tel.addEventListener('touchstart', bind(this, 'onTouchStart'), true);\n\t\t\tel.addEventListener('mousedown', this, 'start')\n\t\t\tthis.initDragEvents();\n\t\t\tthis._el.style.overflow = 'hidden';\n\t\t\ttransforms.setTop(this._scrollPane, 0);\n\t\t} else {\n\t\t\tthis._el.style.overflow = 'auto';\n\t\t}\n\n\t\tif (this._def) {\n\t\t\tvar def = this._def;\n\t\t\tthis._def = null; // don't handle it in the supr call\n\n\t\t\t// build children into the scroll pane\n\t\t\tthis.buildChildren(merge({el: this._scrollPane}, def));\n\t\t}\n\n\t\treturn supr(this, 'buildContent', arguments);\n\t}\n\n\tthis.getScrollTop = function() { return this._scrollTop; }\n\tthis.getContainer =\n\tthis.getScrollPane = function() { return this._scrollPane; }\n\n\tthis.onTouchStart = function() {\n\t\tif (this._momentum) { clearInterval(this._momentum); }\n\t}\n\n\tthis.onDragStart = function(dragEvt, mouseEvt) {\n\t\tthis._height = this._scrollPane.offsetHeight - this._el.offsetHeight;\n\t\tthis._lastDelta.when = +new Date();\n\t\tif (this._momentum) { clearInterval(this._momentum); }\n\t}\n\n\tthis.onDrag = function(dragEvt, moveEvt, delta) {\n\t\tvar now = +new Date(),\n\t\t\td = this._lastDelta;\n\n\t\td.diff = delta.y;\n\t\td.duration = d.when && (now - d.when) || 0;\n\t\td.when = now;\n\n\t\tthis.scrollTo(this._scrollTop + delta.y);\n\t}\n\n\tthis.scrollTo = function(y, animate) {\n\t\tthis._scrollTop = y;\n\t\tif (this._scrollTop < -this._height) { this._scrollTop = -this._height; }\n\t\tif (this._scrollTop > 0) { this._scrollTop = 0; }\n\n\t\tthis._el.setAttribute('squill-scroller-top', -this._scrollTop);\n\n\t\tvar onFinish = bind(this, function() {\n\t\t\tif (document.createEvent) {\n\t\t\t\tvar e = document.createEvent('HTMLEvents');\n\t\t\t\te.initEvent('scroll', true, false);\n\t\t\t\tthis._el.dispatchEvent(e);\n\t\t\t}\n\t\t});\n\n\t\tif (animate) {\n\t\t\ttransforms.move(this._scrollPane, 0, this._scrollTop, '0.5s ease-in-out', onFinish);\n\t\t} else {\n\t\t\ttransforms.move(this._scrollPane, 0, this._scrollTop);\n\t\t\tonFinish();\n\t\t}\n\t}\n\n\tthis.onDragStop = function(dragEvt, selectEvt) {\n\t\t$.stopEvent(selectEvt);\n\t\tif (this._hasMomentum && this._lastDelta.duration != 0) {\n\t\t\tvar d = this._lastDelta,\n\t\t\t\tspeed = d.diff / d.duration,\n\t\t\t\tstart = d.when,\n\t\t\t\ttime = d.when,\n\t\t\t\tdir = speed > 0 ? 1 : -1,\n\t\t\t\tdur = 2;\n\n\t\t\tthis._momentum = setInterval(bind(this, function() {\n\t\t\t\tvar now = +new Date(),\n\t\t\t\t\tdt = now - time,\n\t\t\t\t\tdistance = speed * dt;\n\n\t\t\t\tthis.scrollTo(this._scrollTop + distance);\n\n\t\t\t\t// TODO: this isn't based on dt which is bad!!!\n\t\t\t\tspeed *= 0.95;\n\t\t\t\tif (Math.abs(speed) < 0.01) {\n\t\t\t\t\tclearTimeout(this._momentum);\n\t\t\t\t\tthis._momentum = null;\n\t\t\t\t}\n\t\t\t\ttime = now;\n\t\t\t}), 10);\n\t\t}\n\t}\n});\n",
            "pre": true
        },
        "node_modules/squill/transforms.js": {
            "path": "node_modules/squill/transforms.js",
            "friendlyPath": ".transforms",
            "directory": "node_modules/squill/",
            "filename": "transforms.js",
            "src": "jsio('from util.browser import $');\n\nvar vendor = (/webkit/i).test(navigator.appVersion) ? 'webkit' :\n\t(/firefox/i).test(navigator.userAgent) ? 'Moz' :\n\t'opera' in window ? 'O' : '',\n\thas3d = 'WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix(),\n\thasTransform = vendor + 'Transform' in document.documentElement.style,\n\ttranslateStart = 'translate' + (has3d ? '3d(' : '('),\n\ttranslateEnd = has3d ? ',0)' : ')';\n\nif (hasTransform) {\n\texports.setLeft = function(el, left) {\n\t\tel.style[vendor + 'Transform'] = translateStart + left + 'px,0' + translateEnd;\n\t}\n\n\texports.setTop = function(el, top) {\n\t\tel.style[vendor + 'Transform'] = translateStart + '0,' + top + 'px' + translateEnd;\n\t}\n} else {\n\texports.setLeft = function(el, left) {\n\t\tel.style.left = left + 'px';\n\t}\n\n\texports.setTop = function(el, top) {\n\t\tel.style.top = top + 'px';\n\t}\n}\n\nexports.onTransitionEnd = function(el, cb) {\n\tvar executed = false;\n\tvar finished = function() {\n\t\tif (executed) { return; }\n\t\texecuted = true;\n\t\tfor (var i = 0, remove; remove = evts[i]; ++i) {\n\t\t\tremove();\n\t\t}\n\t\tcb();\n\t}\n\n\tvar evts = [\n\t\t$.onEvent(el, 'webkitTransitionEnd', finished),\n\t\t$.onEvent(el, 'transitionend', finished),\n\t\t$.onEvent(el, 'oTransitionEnd', finished)\n\t];\n}\n\nexports.setTransition = function(el, transition, cb) {\n\tif (transition) {\n\t\tvar oldTransition = el.style[vendor + 'Transition'];\n\t\texports.onTransitionEnd(el, function() {\n\t\t\tel.style[vendor + 'Transition'] = oldTransition;\n\t\t\tcb && cb();\n\t\t});\n\t\tel.style[vendor + 'Transition'] = '-' + vendor + '-transform ' + transition;\n\t} else {\n\t\tel.style[vendor + 'Transition'] = 'none';\n\t}\n}\n\nexports.rotate = function(el, rotation, transition, cb) {\n\tif (!hasTransform) { cb && cb(); return; }\n\texports.setTransition(el, transition, cb);\n\n\tel.style[vendor + 'Transform'] = 'rotate(' + rotation + ')';\n\n\tif (cb && !transition) { cb(); }\n}\n\nexports.move = function(el, x, y, transition, cb) {\n\tif (!hasTransform) { cb && cb(); return; }\n\texports.setTransition(el, transition, cb);\n\tel.style[vendor + 'Transform'] = translateStart + x + 'px,' + y + 'px' + translateEnd;\n\tif (cb && !transition) { cb(); }\n}\n\nexports.hasTransform = hasTransform;\n",
            "pre": true
        },
        "node_modules/squill/Canvas.js": {
            "path": "node_modules/squill/Canvas.js",
            "friendlyPath": ".Canvas",
            "directory": "node_modules/squill/",
            "filename": "Canvas.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Canvas=__class__;var Canvas = exports=c__Users_Surface_cloud_devkit_node_modules_squill_Canvas(function c__Users_Surface_cloud_devkit_node_modules_squill_Canvas(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._css = 'cnvs';\n\tthis._type = 'canvas';\n\n\tthis.init = function(params) {\n\t\tparams = merge(params, {tag: 'canvas'});\n\t\tthis._isEnabled = params.isEnabled;\n\t\tsupr(this, 'init', [params]);\n\t}\n\n\tthis.create = function() {\n\t\tsupr(this, 'create', arguments);\n\t};\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\n\t\tel.width = this._opts.width;\n\t\tel.height = this._opts.height;\n\t\tif (this._opts.color) {\n\t\t\tel.style.backgroundColor = this._opts.color;\n\t\t}\n\n\t\tthis.initMouseEvents(el);\n\t\tthis.initKeyEvents(el);\n\t};\n});\n\n",
            "pre": true
        },
        "node_modules/squill/CheckBox.js": {
            "path": "node_modules/squill/CheckBox.js",
            "friendlyPath": ".CheckBox",
            "directory": "node_modules/squill/",
            "filename": "CheckBox.js",
            "src": "\njsio('import .Widget');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_CheckBox=__class__;var CheckBox = exports=c__Users_Surface_cloud_devkit_node_modules_squill_CheckBox(function c__Users_Surface_cloud_devkit_node_modules_squill_CheckBox(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\n\tthis._css = 'checkbox';\n\n\tthis._def = {\n\t\ttag: 'label',\n\t\tchildren: [\n\t\t\t{id: 'checkbox', tag: 'input', attrs: {type: 'checkbox'}},\n\t\t\t{tag: 'span', id: 'label', text: ''}\n\t\t]\n\t};\n\n\tthis.buildWidget = function() {\n\t\tthis.setLabel(this._opts.label || '');\n\t\tif (this._opts.name) {\n\t\t\tthis.setName(this._opts.name);\n\t\t}\n\n\t\tif (this._opts.value) {\n\t\t\tthis.setValue(this._opts.value);\n\t\t}\n\n\t\tthis.initMouseEvents(this.checkbox);\n\t\t$.onEvent(this.checkbox, 'change', this, '_onCheck');\n\n\t\tif (this._opts.__result) {\n\t\t\tthis._opts.__result.addSubscription(this, 'Select', this._opts.id);\n\t\t}\n\t}\n\n\tthis._onCheck = function() {\n\t\tthis.publish('Check', this.isChecked());\n\t\tthis.emit('change', this.isChecked());\n\t}\n\n\tthis.setLabel = function (label) { $.setText(this.label, label); }\n\tthis.setName = function (name) { this.checkbox.name = name; }\n\n\tthis.setData =\n\tthis.setValue = function (value) { this.checkbox.checked = !!value; }\n\n\tthis.isChecked = function () { return this.checkbox.checked; }\n\tthis.setChecked = function (isChecked) { this.checkbox.checked = isChecked; }\n\n\tthis.getValue = function () { return this.isChecked() ? this.checkbox.value : null; }\n});\n",
            "pre": true
        },
        "node_modules/squill/Menu.js": {
            "path": "node_modules/squill/Menu.js",
            "friendlyPath": "squill.Menu",
            "directory": "node_modules/squill/",
            "filename": "Menu.js",
            "src": "jsio('import lib.PubSub');\njsio('import .Widget');\njsio('import .Delegate');\n\njsio('from util.browser import $');\n\nvar node_modules_squill_Menu=__class__;var Menu = exports=node_modules_squill_Menu(function node_modules_squill_Menu(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n  // this.init = function(params) {\n  //  var params = JS.merge(params, {parent: $.id('wrapper')});\n  //  supr(this, 'init', [params]);\n  // }\n\n  this._css = 'menu';\n\n  this._def = {\n    children: [{id: 'container'}]\n  };\n\n  // the default menu delegate just forwards to the menu controller\n  this.delegate = new Delegate(function(on) {\n    on.call = function(ctx, name) {\n      var delegate = ctx.controller.delegate;\n      delegate.call.apply(delegate, [ctx.controller].concat(Array.prototype.slice.call(arguments, 1)));\n    }\n  });\n\n  this.getContainer = function () { return this.container; }\n\n  this.onBeforeShow = function() {}\n  this.onShow = function() {}\n  this.onBeforeHide = function() {}\n  this.onHide = function() {}\n\n  this.toggle = function () {\n    if (this._isShowing) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  this.show = function() {\n    this._isShowing = true;\n\n    var menuEl = this._el;\n    var eventHandler = bind(this, function (e) {\n      var el = e.target;\n      while (el) {\n        if (el == menuEl) {\n          return true;\n        }\n\n        if (/squill-checkbox/.test(el.className)) {\n          return false;\n        }\n\n        el = el.parentNode;\n      }\n\n      // close menu\n      e.preventDefault && e.preventDefault();\n      e.stopImmediatePropagation && e.stopImmediatePropagation();\n      e.stopPropagation && e.stopPropagation();\n      e.cancelBubble = true;\n      return true;\n    });\n\n    var clickHandler = bind(this, function (e) {\n      if (eventHandler(e)) {\n        this.hide();\n\n        untrapIframes();\n        document.body.removeEventListener('mousedown', eventHandler, true);\n        document.body.removeEventListener('mouseup', eventHandler, true);\n        document.body.removeEventListener('click', clickHandler, true);\n      }\n    });\n\n    trapIframes();\n    document.body.addEventListener('mousedown', eventHandler, true);\n    document.body.addEventListener('mouseup', eventHandler, true);\n    document.body.addEventListener('click', clickHandler, true);\n\n    $.show(menuEl);\n\n    this.emit('open');\n    Menu.emit('open', this);\n  }\n\n  this.hide = function() {\n    this._isShowing = false;\n\n    $.hide(this._el);\n\n    this.emit('close');\n    Menu.emit('close', this);\n  }\n});\n\nvar subs = new lib.PubSub();\nMenu.emit = bind(subs, 'emit');\nMenu.on = bind(subs, 'on');\nMenu.removeListener = bind(subs, 'removeListener');\n\nvar _trappedFrames = [];\nfunction trapIframes() {\n  if (_trappedFrames.length) {\n    untrapIframes();\n  }\n\n  _trappedFrames = Array.prototype.map.call(document.getElementsByTagName('iframe'), function (el) {\n    var retVal = {\n        el: el,\n        set: el.style.pointerEvents\n      };\n\n    el.style.pointerEvents = 'none';\n\n    return retVal;\n  });\n}\n\nfunction untrapIframes() {\n  _trappedFrames.forEach(function (item) {\n    item.el.style.pointerEvents = item.set;\n  });\n}\n",
            "pre": true
        },
        "node_modules/squill/Slider.js": {
            "path": "node_modules/squill/Slider.js",
            "friendlyPath": ".Slider",
            "directory": "node_modules/squill/",
            "filename": "Slider.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Slider=__class__;var Slider = exports=c__Users_Surface_cloud_devkit_node_modules_squill_Slider(function c__Users_Surface_cloud_devkit_node_modules_squill_Slider(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._css = 'rng';\n\tthis._type = 'range';\n\n\tthis.init = function(params) {\n\t\tthis._width = params.width || 100;\n\t\tthis._padding = 12;\n\t\tthis._hover = false;\n\t\tthis._fillColor = params.fillColor || '#000000';\n\t\tthis._lineColor = params.lineColor || '#FFFFFF';\n\n\t\tthis._def = {\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tid: params.id + 'Canvas',\n\t\t\t\t\ttag: 'canvas',\n\t\t\t\t\tattrs: {width: this._width, height: this._padding * 2}\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tsupr(this, 'init', [params]);\n\t};\n\n\tthis._render = function() {\n\t\tvar width = this._width,\n\t\t\tpadding = this._padding,\n\t\t\tctx = this._ctx,\n\t\t\tradialGradient,\n\t\t\tv;\n\n\t\tctx.clearRect(0, 0, width, padding * 2);\n\n\t\tctx.lineCap = 'round';\n\n\t\tctx.beginPath();\n\t\tctx.arc(padding + 2, padding, 2, Math.PI * 0.5, Math.PI * 1.5, false);\n\t\tctx.arc(width - padding - 2, padding, 2, Math.PI * 1.5, Math.PI * 0.5, false);\n\t\tctx.closePath();\n\n\t\tctx.lineWidth = 1;\n\t\tctx.strokeStyle = this._lineColor;\n\t\tctx.stroke();\n\t\tctx.fillStyle = this._fillColor;\n\t\tctx.fill();\n\n\t\tctx.save();\n\n\t\tif (this._hover) {\n\t\t\tctx.shadowOffsetX = 0;\n\t\t\tctx.shadowOffsetY = 0;\n\t\t\tctx.shadowBlur = 10;\n\t\t\tctx.shadowColor = '#0099FF';\n\t\t}\n\n\t\tv = ~~((width - padding * 2) * (this.value - this.min) / (this.max - this.min));\n\n\t\tctx.beginPath();\n\t\tctx.arc(padding + v, padding, 5, 0, Math.PI * 2, false);\n\t\tctx.closePath();\n\n\t\tradialGradient = ctx.createRadialGradient(padding - 1 + v, padding - 1, 0, padding + v, padding, 4);\n\n\t\tradialGradient.addColorStop(0, '#FFFFFF');\n\t\tradialGradient.addColorStop(1, '#707070');\n\t\tctx.fillStyle = radialGradient;\n\t\tctx.fill();\n\n\t\tctx.restore();\n\t};\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\t\t\tcanvas = el.firstChild;\n\n\t\tel.slider = this;\n\n\t\t$.onEvent(canvas, 'mouseout', this, '_onMouseOut');\n\t\t$.onEvent(canvas, 'mousedown', this, '_onMouseDown');\n\t\t$.onEvent(canvas, 'mouseup', this, '_onMouseUp');\n\t\t$.onEvent(canvas, 'mousemove', this, '_onMouseMove');\n\n\t\tthis.min = this._opts.min || 0;\n\t\tthis.max = this._opts.max || 100;\n\t\tthis.step = this._opts.step || 1;\n\t\tthis.value = this._opts.value || 0;\n\n\t\tthis._mouseDown = false;\n\t\tthis._checkRange();\n\t\tthis._ctx = canvas.getContext('2d');\n\t\tthis._render();\n\t};\n\n\tthis.setValue = function(value) {\n\t\tthis.value = value;\n\t\tthis._render();\n\t};\n\n\tthis._onChange = function() {\n\t\tthis.publish('Change', this.value);\n\t};\n\n\tthis._checkRange = function() {\n\t\tif (this.value < this.min) {\n\t\t\tthis.value = this.min;\n\t\t}\n\t\tif (this.value > this.max) {\n\t\t\tthis.value = this.max;\n\t\t}\n\t};\n\n\tthis._checkMouse = function(evt) {\n\t\tvar mouseX = evt.offsetX,\n\t\t\tmouseY = evt.offsetY,\n\t\t\twidth = this._width,\n\t\t\tpadding = this._padding,\n\t\t\thover = this._hover,\n\t\t\tvalue;\n\n\t\tif (this._mouseDown) {\n\t\t\tif ((mouseX > padding) && (mouseY > padding - 5) && (mouseX < width - padding) && (mouseY < padding + 5)) {\n\t\t\t\tvalue = (evt.offsetX - padding) / (width - padding * 2) * (this.max - this.min);\n\t\t\t\tvalue = this.min + Math.round(value / this.step) * this.step;\n\t\t\t\tthis.value = value;\n\t\t\t\tthis._checkRange();\n\t\t\t\tthis._render();\n\t\t\t\tthis._onChange();\n\t\t\t}\n\t\t} else {\n\t\t\tif ((mouseY > padding - 5) && (mouseY < padding + 5)) {\n\t\t\t\tv = padding + ~~((width - padding * 2) * (this.value - this.min) / (this.max - this.min));\n\t\t\t\tthis._hover = (mouseX > v - 5) && (mouseY < v + 5);\n\t\t\t} else {\n\t\t\t\tthis._hover = false;\n\t\t\t}\n\n\t\t\tif (this._hover !== hover) {\n\t\t\t\tthis._render();\n\t\t\t}\n\t\t}\n\t};\n\n\tthis._onMouseOut = function(evt) {\n\t\tthis._mouseDown = false;\n\t\tthis._hover = false;\n\t\tthis._render();\n\t};\n\n\tthis._onMouseDown = function(evt) {\n\t\tthis._mouseDown = true;\n\t\tthis._checkMouse(evt);\n\t};\n\n\tthis._onMouseUp = function(evt) {\n\t\tthis._mouseDown = false;\n\t};\n\n\tthis._onMouseMove = function(evt) {\n\t\tthis._checkMouse(evt);\n\t};\n});\n\n",
            "pre": true
        },
        "node_modules/squill/Color.js": {
            "path": "node_modules/squill/Color.js",
            "friendlyPath": ".Color",
            "directory": "node_modules/squill/",
            "filename": "Color.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\n\njsio('import .jscolor.jscolor as jscolor');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Color=__class__;var Color = exports=c__Users_Surface_cloud_devkit_node_modules_squill_Color(function c__Users_Surface_cloud_devkit_node_modules_squill_Color(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._css = 'clr';\n\tthis._type = 'text';\n\n\tthis.init = function(params) {\n\t\tparams = merge(params, {tag: 'input'});\n\t\tthis._isEnabled = params.isEnabled;\n\n\t\tsupr(this, 'init', [params]);\n\n\t};\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\n\t\t$.addClass(el, 'squill-color');\n\t\tel.min = this._opts.min || 0;\n\t\tel.max = this._opts.max || 100;\n\t\tel.step = this._opts.step || 1;\n\t\tel.value = this._opts.value || 0;\n\t\tel.onchange = bind(this, this._onChange);\n\n\t\tjscolor.bind(el);\n\t};\n\n\tthis.setValue = function(value) {\n\t\tif (value) {\n\t\t\tif (value[0] !== '#') {\n\t\t\t\tvalue = '#' + value;\n\t\t\t}\n\t\t\tthis._el.style.backgroundColor = value;\n\n\t\t\tvalue = value.substr(1, 6);\n\t\t}\n\t\tthis._el.value = value;\n\t};\n\n\tthis.getValue = function() {\n\t\treturn this._el.value;\n\t};\n\n\tthis._onChange = function() {\n\t\tthis.publish('Change', this._el.value);\n\t};\n});\n\n",
            "pre": true
        },
        "node_modules/squill/VerticalCenter.js": {
            "path": "node_modules/squill/VerticalCenter.js",
            "friendlyPath": ".VerticalCenter",
            "directory": "node_modules/squill/",
            "filename": "VerticalCenter.js",
            "src": "jsio('import .Widget');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_VerticalCenter=__class__;exports=c__Users_Surface_cloud_devkit_node_modules_squill_VerticalCenter(function c__Users_Surface_cloud_devkit_node_modules_squill_VerticalCenter(){return this.init&&this.init.apply(this,arguments)},Widget, function() {\n\tthis._def = {\n\t\ttag: 'table',\n\t\tstyle: merge({height: '100%', width: '100%'}, def.style),\n\t\tattrs: {cellpadding: 0, cellspacing: 0},\n\t\tchildren: [\n\t\t\t$({tag: 'tbody', children: [\n\t\t\t\t$({tag: 'tr', children: [\n\t\t\t\t\t$({id: 'contentPane', tag: 'td', attrs: {valign: 'middle'}, style: {verticalAlign: 'middle'}})\n\t\t\t\t]})\n\t\t\t]})\n\t\t]\n\t};\n\n\tthis.addElement = function() { this.contentPane.appendChild(el); }\n});\n",
            "pre": true
        },
        "node_modules/squill/TreeList.js": {
            "path": "node_modules/squill/TreeList.js",
            "friendlyPath": ".TreeList",
            "directory": "node_modules/squill/",
            "filename": "TreeList.js",
            "src": "jsio('from util.browser import $');\n\njsio('import .Widget');\n\nvar elementIDPrefix = 0;\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_TreeList=__class__;var TreeList = exports=c__Users_Surface_cloud_devkit_node_modules_squill_TreeList(function c__Users_Surface_cloud_devkit_node_modules_squill_TreeList(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tvar defaults = {\n\t\tkey: 'id',\n\t\tlabel: 'title',\n\t\twrapperId: 'browser',\n\t\tcontentId: 'contentWrapper'\n\t};\n\n\tthis.init = function(opts) {\n\t\topts = opts || {};\n\t\topts = merge(opts, defaults);\n\n\t\tthis._initClasses(opts);\n\n\t\tthis._key = opts.key;\n\t\tthis._label = opts.label;\n\t\tthis._wrapperId = opts.wrapperId;\n\t\tthis._contentId = opts.contentId;\n\t\tthis._leaveWidth = opts.leaveWidth || 600;\n\n\t\telementIDPrefix++;\n\t\tthis._elementIDPrefix = 'menuItem' + elementIDPrefix + '_';\n\n\t\tif (opts.dataSource) {\n\t\t\tthis.setDataSource(opts.dataSource);\n\t\t} else {\n\t\t\tthis._dataSource = null;\n\t\t}\n\n\t\tthis._def = {id: this._wrapperId, className: 'browser', children: [\n\t\t\t\t\t\t{id: this._contentId, className: 'contentWrapper', children: []}\n\t\t\t\t\t]};\n\n\t\tthis._root = null;\n\t\tthis._itemByKey = {};\n\n\t\tsupr(this, 'init', arguments);\n\t};\n\n\tthis._initClasses = function(opts) {\n\t\tthis._classNames = {\n\t\t\tnodeWrapper: opts.nodeWrapper || 'browserNodeWrapper',\n\t\t\tnodeWrapperHidden: opts.nodeWrapperHidden || 'browserNodeWrapperHidden',\n\t\t\tnode: opts.node || 'browserNode',\n\t\t\tnodeChildren: opts.nodeChildren || 'children', // Node has children...\n\t\t\tnodeActive: opts.nodeActive || 'active', // Selected node...\n\t\t\tnodeActiveChild: opts.nodeActiveChild || 'browserNodeActiveChild'\n\t\t};\n\t};\n\n\tthis._clearItem = function(item) {\n\t\tvar parent,\n\t\t\tchildren,\n\t\t\ti, j;\n\n\t\tif (item.children) {\n\t\t\tchildren = item.children;\n\t\t\twhile (children.length) {\n\t\t\t\tthis._clearItem(children.pop());\n\t\t\t}\n\t\t}\n\n\t\tif (item.parent) {\n\t\t\tparent = item.parent;\n\t\t\tchildren = parent.children;\n\t\t\tfor (i = 0, j = children.length; i < j; i++) {\n\t\t\t\tif (children[i] === item) {\n\t\t\t\t\tchildren.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!children.length && parent.group) {\n\t\t\t\t$.remove(parent.group.parentNode);\n\t\t\t\t$.remove(parent.group);\n\t\t\t\tdelete(parent.group);\n\t\t\t}\n\t\t}\n\n\t\t$.remove(item.node);\n\t\titem.group && $.remove(item.group);\n\t};\n\n\tthis._createMenuId = function(inc) {\n\t\tvar menuId = this._menuId;\n\t\tif (inc) {\n\t\t\tthis._menuId++;\n\t\t}\n\t\treturn this._elementIDPrefix + menuId;\n\t};\n\n\tthis._createGroup = function(visible) {\n\t\tvar menuId = this._createMenuId(true),\n\t\t\tnode = $({\n\t\t\t\t\tparent: $({\n\t\t\t\t\t\t\t\tparent: $.id(this._contentId),\n\t\t\t\t\t\t\t\tid: menuId,\n\t\t\t\t\t\t\t\tclassName: visible ? this._classNames.nodeWrapper : this._classNames.nodeWrapperHidden\n\t\t\t\t\t\t\t}),\n\t\t\t\t\tclassName: this._classNames.node\n\t\t\t\t});\n\n\t\tnode.menuId = menuId;\n\t\treturn node;\n\t};\n\n\tthis._createItem = function(item, group) {\n\t\tvar id = this._createMenuId(true);\n\n\t\titem.node = $({parent: group, id: id, tag: 'a', text: item[this._label]});\n\t\t$.onEvent(id, 'click', this, 'onClick', item);\n\t};\n\n\tthis.buildWidget = function() {\n\t\tthis._menuId = 0;\n\t\tthis._menuById = [];\n\t\tthis._menuStack = [];\n\t\tthis._menuActiveItem = false;\n\n\t\tif (this._dataSource !== null) {\n\t\t\tthis._dataSource.each(bind(this, this.onCreateItem));\n\t\t}\n\t};\n\n\tthis._removeFromStack = function(depth) {\n\t\tvar menuStack = this._menuStack,\n\t\t\tinfo = null;\n\n\t\twhile (menuStack.length && (menuStack[menuStack.length - 1].depth >= depth)) {\n\t\t\tinfo = menuStack.pop();\n\n\t\t\t$.removeClass(info.node.id, this._classNames.nodeActive);\n\t\t\t$.removeClass(info.node.id, this._classNames.nodeActiveChild);\n\n\t\t\tif (info.group) {\n\t\t\t\t$.addClass(info.group.menuId, this._classNames.nodeWrapperHidden);\n\t\t\t\t$.removeClass(info.group.menuId, this._classNames.nodeWrapper);\n\t\t\t}\n\t\t}\n\n\t\treturn info;\n\t};\n\n\tthis.applyNodeStyle = function(item) {\n\t\tif (item.children && item.children.length) {\n\t\t\t$.addClass(item.node, this._classNames.nodeChildren);\n\t\t} else {\n\t\t\t$.removeClass(item.node, this._classNames.nodeChildren)\n\t\t}\n\t\tif (item === this._menuActiveItem) {\n\t\t\t$.addClass(item.node, this._classNames.nodeActive);\n\t\t} else {\n\t\t\t$.removeClass(item.node, this._classNames.nodeActive);\n\t\t}\n\n\t\tif ((item.removeCustomClass !== undefined) && item.removeCustomClass) {\n\t\t\t$.removeClass(item.node, item.removeCustomClass);\n\t\t}\n\t\tif ((item.customClass !== undefined) && item.customClass) {\n\t\t\t$.removeClass(item.node, item.customClass);\n\t\t\t$.addClass(item.node, item.customClass);\n\t\t}\n\t};\n\n\tthis._addToStack = function(item) {\n\t\tthis._menuStack.push(item);\n\t\tthis.applyNodeStyle(item);\n\n\t\tif (item.children && item.children.length) {\n\t\t\tif (!item.group) {\n\t\t\t\tvar child,\n\t\t\t\t\ti, j;\n\n\t\t\t\titem.children.sort();\n\n\t\t\t\titem.group = this._createGroup(true);\n\t\t\t\tfor (i = 0, j = item.children.length; i < j; i++) {\n\t\t\t\t\tchild = item.children[i];\n\t\t\t\t\tthis._createItem(child, item.group);\n\n\t\t\t\t\t// DisplayItem might change the styling of the element!\n\t\t\t\t\tthis.publish('DisplayItem', child.data, child);\n\t\t\t\t\tthis.applyNodeStyle(child);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$.addClass(item.group.menuId, this._classNames.nodeWrapper);\n\t\t\t$.removeClass(item.group.menuId, this._classNames.nodeWrapperHidden);\n\t\t}\n\t};\n\n\tthis.onClick = function(item) {\n\t\tvar menuStack = this._menuStack;\n\t\tvar lastItem = null;\n\t\tvar id;\n\t\tvar i;\n\n\t\tthis.publish('SelectItem', item.data, item);\n\n\t\tif (this._menuActiveItem) {\n\t\t\tlastItem = this._menuActiveItem;\n\t\t\tthis._menuActiveItem = null;\n\t\t\tthis.applyNodeStyle(lastItem);\n\t\t\tlastItem = null;\n\t\t}\n\n\t\tif (menuStack.length && (item.depth <= menuStack[menuStack.length - 1].depth)) {\n\t\t\tlastItem = this._removeFromStack(item.depth);\n\t\t}\n\t\tif (lastItem !== item) {\n\t\t\tthis._addToStack(item);\n\t\t}\n\n\t\tthis._menuActiveItem = item;\n\t\tthis.applyNodeStyle(item);\n\n\t\tif (menuStack.length) {\n\t\t\ti = menuStack.length;\n\t\t\tif (menuStack[menuStack.length - 1].children && menuStack[menuStack.length - 1].children.length) {\n\t\t\t\ti++;\n\t\t\t}\n\t\t\t$.id(this._contentId).style.width = (i * 200 + this._leaveWidth) + 'px';\n\t\t}\n\t};\n\n\tthis.onUpdateItem = function(item, key) {\n\t\tvar treeItem = {\n\t\t\t\ttitle: item[this._label],\n\t\t\t\ttoString: function() { return this.title; }\n\t\t\t},\n\t\t\tparentItem,\n\t\t\tchildren,\n\t\t\tchild,\n\t\t\ti, j;\n\n\t\tif (this._itemByKey[key]) {\n\t\t\tif (this._itemByKey[key].node) {\n\t\t\t\tthis._itemByKey[key].node.innerHTML = item[this._label];\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif ((item.parent === null) || (item.parent === -1)) {\n\t\t\tif (this._root === null) {\n\t\t\t\tthis._rootGroup = this._createGroup(true);\n\t\t\t\tthis._createItem(treeItem, this._rootGroup);\n\t\t\t\tthis._root = treeItem;\n\n\t\t\t\ttreeItem.data = item;\n\t\t\t\ttreeItem.depth = 0;\n\t\t\t\ttreeItem.parent = null;\n\n\t\t\t\t// DisplayItem might change the styling of the element!\n\t\t\t\tthis.publish('DisplayItem', treeItem.data, treeItem);\n\t\t\t\tthis.applyNodeStyle(treeItem);\n\t\t\t}\n\t\t} else {\n\t\t\tparentItem = this._itemByKey[item.parent[this._key]];\n\t\t\tif (parentItem) {\n\t\t\t\tif (!parentItem.children) {\n\t\t\t\t\tparentItem.children = [];\n\t\t\t\t}\n\t\t\t\tchildren = parentItem.children;\n\n\t\t\t\tif (this._menuActiveItem && ((this._menuActiveItem === parentItem) || (this._menuActiveItem.parent === parentItem))) {\n\t\t\t\t\tfor (i = 0, j = children.length; i < j; i++) {\n\t\t\t\t\t\tif (children[i].node) {\n\t\t\t\t\t\t\t$.remove(children[i].node)\n\t\t\t\t\t\t\tchildren[i].node = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tchildren.push(treeItem);\n\t\t\t\t\tchildren.sort();\n\n\t\t\t\t\tif (!parentItem.group) {\n\t\t\t\t\t\tparentItem.group = this._createGroup(true);\n\t\t\t\t\t\t$.id(this._contentId).style.width = ((this._menuStack.length + 1) * 200 + 500) + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0, j = children.length; i < j; i++) {\n\t\t\t\t\t\tchild = children[i];\n\t\t\t\t\t\tthis._createItem(child, parentItem.group);\n\n\t\t\t\t\t\t// DisplayItem might change the styling of the element!\n\t\t\t\t\t\tthis.publish('DisplayItem', child.data, child);\n\t\t\t\t\t\tthis.applyNodeStyle(child);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tchildren.push(treeItem);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttreeItem.depth = parentItem.depth + 1;\n\t\t\ttreeItem.parent = parentItem;\n\t\t}\n\n\t\ttreeItem.data = item;\n\t\tthis._itemByKey[key] = treeItem;\n\t};\n\n\tthis.onCreateItem = function(item) {\n\t\tthis.onUpdateItem(item, item[this._key]);\n\t};\n\n\tthis.onRemoveItem = function(item, key) {\n\t\tvar treeItem = this._itemByKey[key];\n\t\tvar lastChild;\n\t\tvar treeParent;\n\n\t\tif (treeItem) {\n\t\t\tlastChild = (treeItem.parent.children.length <= 1);\n\t\t\ttreeParent = item[this._dataSource.parentKey];\n\n\t\t\tthis._removeFromStack(this._itemByKey[key].depth - 1);\n\t\t\tthis._clearItem(this._itemByKey[key]);\n\t\t\tthis._menuActiveItem = false;\n\n\t\t\tdelete(this._itemByKey[key]);\n\t\t\tthis.publish('UnSelectItem');\n\n\t\t\tif (lastChild && treeParent) {\n\t\t\t\ttreeItem = this._itemByKey[treeParent[this._dataSource.key]];\n\t\t\t\tthis.publish('DisplayItem', treeItem.data, treeItem);\n\t\t\t\tthis.applyNodeStyle(treeItem);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.showItem = function(item) {\n\t\tvar treeItem = this.getTreeNode(item);\n\t\tthis.publish('DisplayItem', item, treeItem);\n\t\tthis.applyNodeStyle(treeItem);\n\t};\n\n\tthis.setDataSource = function(dataSource) {\n\t\tthis._dataSource = dataSource;\n\t\tthis._dataSource.subscribe('Update', this, this.onUpdateItem);\n\t\tthis._dataSource.subscribe('Remove', this, this.onRemoveItem);\n\t};\n\n\tthis.getPathString = function(separator) {\n\t\tvar result = '',\n\t\t\tmenuStack = this._menuStack,\n\t\t\ti, j;\n\n\t\tseparator = separator || ' ';\n\t\tfor (i = 0, j = menuStack.length; i < j; i++) {\n\t\t\tif (result !== '') {\n\t\t\t\tresult += separator;\n\t\t\t}\n\t\t\tresult += menuStack[i].data[this._label];\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tthis.getTreeNode = function(item) {\n\t\treturn this._itemByKey[item[this._dataSource.key]];\n\t};\n});\n",
            "pre": true
        },
        "node_modules/squill/Graph.js": {
            "path": "node_modules/squill/Graph.js",
            "friendlyPath": ".Graph",
            "directory": "node_modules/squill/",
            "filename": "Graph.js",
            "src": "jsio('from util.browser import $');\njsio('import .Widget');\n\njsio('import .hint as hint');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_Graph=__class__;var Graph = exports=c__Users_Surface_cloud_devkit_node_modules_squill_Graph(function c__Users_Surface_cloud_devkit_node_modules_squill_Graph(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\tthis._css = 'cnvs';\n\tthis._type = 'canvas';\n\n\tthis.init = function(opts) {\n\t\tparams = merge(opts, {tag: 'canvas'});\n\t\tsupr(this, 'init', arguments);\n\n\t\tthis.setSettings(opts.settings || {});\n\n\t\tthis._width = opts.width || 400;\n\t\tthis._height = opts.height || 400;\n\n\t\tthis._rectangles = [];\n\t\tthis._data = false;\n\n\t\t$.onEvent(this._el, 'mousemove', this, this._onMouseMove);\n\t\t$.onEvent(this._el, 'mouseout', this, this._onMouseOut);\n\t};\n\n\tthis._onMouseMove = function(evt) {\n\t\tvar rectangles = this._rectangles,\n\t\t\trectangle,\n\t\t\tfound = false,\n\t\t\ti = rectangles.length;\n\n\t\twhile (i) {\n\t\t\trectangle = rectangles[--i];\n\t\t\tif ((evt.offsetX >= rectangle.x1) && (evt.offsetY >= rectangle.y1) &&\n\t\t\t\t(evt.offsetX <= rectangle.x2) && (evt.offsetY <= rectangle.y2)) {\n\t\t\t\tfound = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (found) {\n\t\t\thint.show(evt.pageX + 15, evt.pageY + 15, rectangle.label);\n\t\t} else {\n\t\t\thint.hide();\n\t\t}\n\t};\n\n\tthis._onMouseOut = function(evt) {\n\t\thint.hide();\n\t};\n\n\tthis.buildWidget = function() {\n\t\tvar el = this._el;\n\n\t\tthis.initMouseEvents(el);\n\t\tthis.initKeyEvents(el);\n\t};\n\n\tthis._renderBackground = function(ctx) {\n\t\tvar el = this._el,\n\t\t\twidth = el.width,\n\t\t\theight = el.height;\n\n\t\tthis._currentWidth = width;\n\t\tthis._currentHeight = height;\n\n\t\tif (this._settings.fillColor) {\n\t\t\tctx.fillStyle = this._settings.fillColor;\n\t\t\tctx.fillRect(0, 0, width, height);\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, width, height);\n\t\t}\n\t};\n\n\tthis._calculateSegments = function(ctx, data) {\n\t\tvar settings = this._settings,\n\t\t\tmax = 0,\n\t\t\tmaxLabel = 0,\n\t\t\ti, j = data.length,\n\t\t\tk, l;\n\n\t\tfor (i = 0; i < j; i++) {\n\t\t\titem = data[i];\n\t\t\tmaxLabel = Math.max(ctx.measureText(item.title).width, maxLabel);\n\t\t\tif (maxLabel > settings.maxLabelSize) {\n\t\t\t\tmaxLabel = settings.maxLabelSize;\n\t\t\t}\n\t\t\tfor (k = 0, l = item.points.length; k < l; k++) {\n\t\t\t\tmax = Math.max(item.points[k], max);\n\t\t\t}\n\t\t}\n\n\t\tvar steps = [0.5, 0.25, 0.2, 0.125, 0.1],\n\t\t\tstepIndex = 0,\n\t\t\tstepCount,\n\t\t\tfactor = 1;\n\n\t\twhile (max / (steps[stepIndex] * factor) > 10) {\n\t\t\tstepIndex++;\n\t\t\tif (stepIndex >= steps.length) {\n\t\t\t\tstepIndex = 0;\n\t\t\t\tfactor *= 10;\n\t\t\t}\n\t\t}\n\n\t\tstepCount = Math.ceil(max / (steps[stepIndex] * factor));\n\t\treturn {\n\t\t\tsteps: stepCount,\n\t\t\tstep: steps[stepIndex],\n\t\t\tmax: stepCount * steps[stepIndex] * factor,\n\t\t\tmaxLabel: maxLabel + 4,\n\t\t\tfactor: factor\n\t\t}\n\t};\n\n\tthis._trimLabel = function(segmentInfo, ctx, label) {\n\t\tif (ctx.measureText(label).width > segmentInfo.maxLabel) {\n\t\t\twhile (ctx.measureText(label + '...').width > segmentInfo.maxLabel) {\n\t\t\t\tlabel = label.substr(0, label.length - 1);\n\t\t\t}\n\t\t\tlabel += '...';\n\t\t}\n\t\treturn label;\n\t};\n\n\tthis._renderHorizontalAxis = function(segmentInfo, ctx, data) {\n\t\tvar settings = this._settings,\n\t\t\tvalueSpace = settings.valueSpace,\n\t\t\tmainPadding = settings.mainPadding,\n\t\t\twidth = this._currentWidth - mainPadding * 2 - valueSpace,\n\t\t\theight = this._currentHeight - mainPadding * 2 - segmentInfo.maxLabel,\n\t\t\tstep = width / data.length,\n\t\t\tlabel,\n\t\t\thasDecimal,\n\t\t\tx, y,\n\t\t\ti, j, k;\n\n\t\tctx.strokeStyle = settings.barBackground;\n\t\tfor (i = 0; i < 2; i++) {\n\t\t\tx = valueSpace + mainPadding + 0.5 + i * width;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, mainPadding);\n\t\t\tctx.lineTo(x, mainPadding + height);\n\t\t\tctx.stroke();\n\t\t}\n\n\t\tctx.textAlign = 'right';\n\t\tctx.textBaseline = 'top';\n\n\t\tfor (i = 0, j = data.length; i < j; i++) {\n\t\t\tx = valueSpace + mainPadding + i * step;\n\t\t\tctx.save();\n\t\t\tctx.rotate(Math.PI * -0.5);\n\t\t\tlabel = this._trimLabel(segmentInfo, ctx, data[i].title);\n\n\t\t\tctx.fillStyle = this._settings.textColor;\n\t\t\tctx.fillText(label, -(mainPadding + height + 4), x);\n\t\t\tctx.restore();\n\n\t\t\tif ((i & 1) === 0) {\n\t\t\t\tctx.fillStyle = settings.barBackground;\n\t\t\t\tctx.fillRect(x, mainPadding, step, height);\n\t\t\t}\n\t\t}\n\n\t\tctx.strokeStyle = this._settings.lineColor;\n\t\tctx.fillStyle = '#000000';\n\n\t\thasDecimal = 0;\n\t\ti = height;\n\t\tj = 0;\n\t\twhile (i >= 0) {\n\t\t\tlabel = (j * segmentInfo.step).toString(10);\n\t\t\tk = label.indexOf('.');\n\t\t\tif (k !== -1) {\n\t\t\t\tk = label.length - k - 1;\n\t\t\t\tif (k > hasDecimal) {\n\t\t\t\t\thasDecimal = k;\n\t\t\t\t}\n\t\t\t}\n\t\t\ti = Math.ceil(i - height / segmentInfo.steps);\n\t\t\tj++;\n\t\t}\n\n\t\ti = height;\n\t\tj = 0;\n\t\twhile (i >= 0) {\n\t\t\tx = mainPadding + valueSpace;\n\t\t\ty = mainPadding + ~~i + 0.5;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + width, y);\n\t\t\tctx.stroke();\n\n\t\t\tlabel = (j * segmentInfo.step).toString(10);\n\t\t\tif (hasDecimal && (label.indexOf('.') === -1)) {\n\t\t\t\tlabel += '.';\n\t\t\t\tfor (k = 0; k < hasDecimal; k++) {\n\t\t\t\t\tlabel += '0';\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.fillStyle = this._settings.textColor;\n\t\t\tctx.fillText(label, valueSpace + mainPadding - 2, mainPadding + i - 8);\n\n\t\t\ti = Math.ceil(i - height / segmentInfo.steps);\n\t\t\tj++;\n\t\t}\n\n\t\tctx.textAlign = 'left';\n\n\t\tlabel = settings.mainLabel + ' x' + segmentInfo.factor;\n\n\t\ti = mainPadding;\n\t\tj = mainPadding + height / 2 + (ctx.measureText(label).width + settings.itemSize) / 2;\n\t\tctx.save();\n\t\tctx.rotate(Math.PI * -0.5);\n\t\tctx.fillStyle = this._settings.textColor;\n\t\tctx.fillText(label, -j - settings.itemSize, i);\n\t\tctx.restore();\n\n\t\tj -= ctx.measureText(label).width;\n\t\tctx.beginPath();\n\t\tctx.moveTo(i + 7.5, j);\n\t\tctx.lineTo(i + 7.5, j + 26);\n\t\tctx.stroke();\n\n\t\tctx.beginPath();\n\t\tctx.moveTo(i + 3.5, j + 5.5);\n\t\tctx.lineTo(i + 7.5, j);\n\t\tctx.lineTo(i + 11.5, j + 5.5);\n\t\tctx.stroke();\n\t};\n\n\tthis._renderVerticalBars = function(segmentInfo, ctx, data) {\n\t\tvar settings = this._settings,\n\t\t\tvalueSpace = settings.valueSpace,\n\t\t\tmainPadding = settings.mainPadding,\n\t\t\twidth = this._currentWidth - mainPadding * 2 - valueSpace,\n\t\t\theight = this._currentHeight - mainPadding * 2 - segmentInfo.maxLabel,\n\t\t\tstep = width / data.length,\n\t\t\tbarWidth = step - settings.barPadding * 2,\n\t\t\tbarWidthSeg,\n\t\t\tbarHeight,\n\t\t\tbarX,\n\t\t\titem,\n\t\t\tpoints,\n\t\t\ti, j, k, l;\n\n\t\tctx.globalAlpha = 0.9;\n\t\tfor (i = 0, j = data.length; i < j; i++) {\n\t\t\titem = data[i];\n\t\t\tpoints = item.points;\n\n\t\t\tl = points.length;\n\t\t\tbarWidthSeg = ~~(barWidth / l);\n\t\t\tfor (k = 0; k < l; k++) {\n\t\t\t\tbarHeight = item.points[k] / segmentInfo.max * height;\n\t\t\t\tbarX = valueSpace + mainPadding + i * step + settings.barPadding;\n\t\t\t\tbarY = mainPadding + height - barHeight;\n\n\t\t\t\tctx.fillStyle = settings.dataColors[k % settings.dataColors.length];\n\t\t\t\tctx.fillRect(barX + k * barWidthSeg, barY, barWidthSeg - 1, barHeight);\n\t\t\t}\n\t\t}\n\t\tctx.globalAlpha = 1;\n\t};\n\n\tthis._renderVerticalPoints = function(segmentInfo, ctx, data) {\n\t\tvar settings = this._settings,\n\t\t\trenderPoints = (settings.types.indexOf('points') !== -1),\n\t\t\trenderLines = (settings.types.indexOf('lines') !== -1),\n\t\t\trenderArea = (settings.types.indexOf('area') !== -1),\n\t\t\tvalueSpace = settings.valueSpace,\n\t\t\tmainPadding = settings.mainPadding,\n\t\t\twidth = this._currentWidth - mainPadding * 2 - valueSpace,\n\t\t\theight = this._currentHeight - mainPadding * 2 - segmentInfo.maxLabel,\n\t\t\tstep = width / data.length,\n\t\t\tpointWidth = step - settings.barPadding * 2,\n\t\t\tpointX, pointY,\n\t\t\tpoints,\n\t\t\tpoint,\n\t\t\tpointList = [],\n\t\t\thasLast,\n\t\t\titem,\n\t\t\ti, j, k, l;\n\n\t\tpointYLast = null;\n\n\t\tfor (i = 0, j = data.length; i < j; i++) {\n\t\t\titem = data[i];\n\t\t\tpoints = item.points;\n\n\t\t\thasLast = pointYLast !== null;\n\t\t\tif (pointYLast === null) {\n\t\t\t\tpointYLast = [];\n\t\t\t}\n\t\t\tpointX = ~~(valueSpace + mainPadding + i * step + settings.barPadding + (pointWidth / 2));\n\t\t\tfor (k = 0, l = points.length; k < l; k++) {\n\t\t\t\tpointY = ~~(mainPadding + height - item.points[k] / segmentInfo.max * height);\n\n\t\t\t\tif (!pointList[k]) {\n\t\t\t\t\tpointList[k] = [];\n\t\t\t\t}\n\t\t\t\tpointList[k].push({x: pointX, y: pointY});\n\n\t\t\t\tctx.strokeStyle = settings.dataColors[k % settings.dataColors.length];\n\t\t\t\tif (renderPoints) {\n\t\t\t\t\tctx.strokeRect(pointX - 4.5, pointY - 4.5, 10, 10);\n\t\t\t\t}\n\n\t\t\t\tif (hasLast && renderLines) {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(pointXLast, pointYLast[k]);\n\t\t\t\t\tctx.lineTo(pointX, pointY);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\n\t\t\t\tpointYLast[k] = pointY;\n\t\t\t}\n\t\t\tpointXLast = pointX;\n\t\t}\n\n\t\tif (renderArea) {\n\t\t\tctx.globalAlpha = 0.05;\n\t\t\tfor (i = 0, j = pointList.length; i < j; i++) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.lineTo(pointList[i][0].x, mainPadding + height);\n\t\t\t\tfor (k = 0, l = pointList[i].length; k < l; k++) {\n\t\t\t\t\tpoint = pointList[i][k];\n\t\t\t\t\tctx.lineTo(point.x, point.y);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(pointList[i][l - 1].x, mainPadding + height);\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.fillStyle = settings.dataColors[i % settings.dataColors.length];\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t\tctx.globalAlpha = 1;\n\t\t}\n\t};\n\n\tthis._renderVerticalAxis = function(segmentInfo, ctx, data) {\n\t\tvar settings = this._settings,\n\t\t\tvalueSpace = settings.valueSpace,\n\t\t\tmainPadding = settings.mainPadding,\n\t\t\twidth = this._currentWidth - mainPadding * 2 - segmentInfo.maxLabel,\n\t\t\theight = this._currentHeight - mainPadding * 2 - valueSpace,\n\t\t\tstep = height / data.length,\n\t\t\tlabel,\n\t\t\thasDecimal,\n\t\t\tx, y,\n\t\t\ti, j, k;\n\n\t\tctx.strokeStyle = settings.barBackground;\n\t\tfor (i = 0; i < 2; i++) {\n\t\t\ty = mainPadding + 0.5 + i * height;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(mainPadding + segmentInfo.maxLabel, y);\n\t\t\tctx.lineTo(mainPadding + segmentInfo.maxLabel + width, y);\n\t\t\tctx.stroke();\n\t\t}\n\n\t\tctx.textAlign = 'right';\n\t\tctx.textBaseline = 'top';\n\n\t\tfor (i = 0, j = data.length; i < j; i++) {\n\t\t\ty = mainPadding + i * step;\n\t\t\tlabel = this._trimLabel(segmentInfo, ctx, data[i].title);\n\n\t\t\tctx.fillStyle = this._settings.textColor;\n\t\t\tctx.fillText(label, mainPadding + segmentInfo.maxLabel - 4, y + 4);\n\t\t\tthis._rectangles.push({\n\t\t\t\tx1: mainPadding + segmentInfo.maxLabel - 4 - ctx.measureText(label).width,\n\t\t\t\ty1: y + 4,\n\t\t\t\tx2: mainPadding + segmentInfo.maxLabel - 4,\n\t\t\t\ty2: y + 20,\n\t\t\t\tlabel: data[i].title\n\t\t\t});\n\t\t\tif ((i & 1) === 0) {\n\t\t\t\tctx.fillStyle = settings.barBackground;\n\t\t\t\tctx.fillRect(mainPadding + segmentInfo.maxLabel, y, width, step);\n\t\t\t}\n\t\t}\n\n\t\tctx.textAlign = 'center';\n\n\t\tctx.strokeStyle = this._settings.lineColor;\n\t\tctx.fillStyle = '#000000';\n\n\t\thasDecimal = 0;\n\t\ti = 0;\n\t\tj = 0;\n\t\twhile (i <= width) {\n\t\t\tlabel = (j * segmentInfo.step).toString(10);\n\t\t\tk = label.indexOf('.');\n\t\t\tif (k !== -1) {\n\t\t\t\tk = label.length - k - 1;\n\t\t\t\tif (k > hasDecimal) {\n\t\t\t\t\thasDecimal = k;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = Math.floor(i + width / segmentInfo.steps);\n\t\t\tj++;\n\t\t}\n\n\t\ti = 0;\n\t\tj = 0;\n\t\twhile (i <= width) {\n\t\t\tx = mainPadding + segmentInfo.maxLabel + ~~i + 0.5;\n\t\t\ty = mainPadding;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x, y + height);\n\t\t\tctx.stroke();\n\n\t\t\tlabel = (j * segmentInfo.step).toString(10);\n\t\t\tif (hasDecimal && (label.indexOf('.') === -1)) {\n\t\t\t\tlabel += '.';\n\t\t\t\tfor (k = 0; k < hasDecimal; k++) {\n\t\t\t\t\tlabel += '0';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tctx.fillStyle = this._settings.textColor;\n\t\t\tctx.fillText(label, mainPadding + segmentInfo.maxLabel + i, mainPadding + height + 2);\n\n\t\t\ti = Math.floor(i + width / segmentInfo.steps);\n\t\t\tj++;\n\t\t}\n\n\t\tctx.textAlign = 'left';\n\n\t\tlabel = settings.mainLabel + ' x' + segmentInfo.factor;\n\n\t\ti = mainPadding + width / 2 - (ctx.measureText(label).width + settings.itemSize) / 2 + segmentInfo.maxLabel;\n\t\tj = mainPadding + height + 18;\n\n\t\tctx.fillStyle = this._settings.textColor;\n\t\tctx.fillText(label, i, j);\n\n\t\ti += ctx.measureText(label).width;\n\t\tctx.beginPath();\n\t\tctx.moveTo(i + 4, j + 7.5);\n\t\tctx.lineTo(i + settings.itemSize, j + 7.5);\n\t\tctx.stroke();\n\n\t\tctx.beginPath();\n\t\tctx.moveTo(i + settings.itemSize - 4, j + 3.5);\n\t\tctx.lineTo(i + settings.itemSize, j + 7.5);\n\t\tctx.lineTo(i + settings.itemSize - 4, j + 11.5);\n\t\tctx.stroke();\n\t}\n\n\tthis._renderHorizontalBars = function(segmentInfo, ctx, data) {\n\t\tvar settings = this._settings,\n\t\t\tvalueSpace = settings.valueSpace,\n\t\t\tmainPadding = settings.mainPadding,\n\t\t\twidth = this._currentWidth - mainPadding * 2 - segmentInfo.maxLabel,\n\t\t\theight = this._currentHeight - mainPadding * 2 - valueSpace,\n\t\t\tstep = height / data.length,\n\t\t\tbarWidth,\n\t\t\tbarHeight = step - settings.barPadding * 2,\n\t\t\tbarHeightSeg,\n\t\t\tbarX, barY,\n\t\t\titem,\n\t\t\tpoints,\n\t\t\ti, j, k, l;\n\n\t\tctx.globalAlpha = 0.9;\n\t\tfor (i = 0, j = data.length; i < j; i++) {\n\t\t\titem = data[i];\n\t\t\tpoints = item.points;\n\n\t\t\tl = points.length;\n\t\t\tbarHeightSeg = ~~(barHeight / l);\n\t\t\tfor (k = 0; k < l; k++) {\n\t\t\t\tbarWidth = ~~(item.points[k] / segmentInfo.max * width);\n\t\t\t\tbarX = segmentInfo.maxLabel + mainPadding;\n\t\t\t\tbarY = ~~mainPadding + i * step + settings.barPadding;\n\n\t\t\t\tctx.fillStyle = settings.dataColors[k % settings.dataColors.length];\n\t\t\t\tctx.fillRect(barX, barY + k * barHeightSeg, barWidth, barHeightSeg - 1);\n\t\t\t}\n\t\t}\n\t\tctx.globalAlpha = 1;\n\t};\n\n\tthis._renderHorizontalPoints = function(segmentInfo, ctx, data) {\n\t\tvar settings = this._settings,\n\t\t\trenderPoints = (settings.types.indexOf('points') !== -1),\n\t\t\trenderLines = (settings.types.indexOf('lines') !== -1),\n\t\t\trenderArea = (settings.types.indexOf('area') !== -1),\n\t\t\tvalueSpace = settings.valueSpace,\n\t\t\tmainPadding = settings.mainPadding,\n\t\t\twidth = this._currentWidth - mainPadding * 2 - segmentInfo.maxLabel,\n\t\t\theight = this._currentHeight - mainPadding * 2 - valueSpace,\n\t\t\tstep = height / data.length,\n\t\t\tpointHeight = step - settings.barPadding * 2,\n\t\t\tpointX, pointY,\n\t\t\tpoints,\n\t\t\tpoint,\n\t\t\tpointList = [],\n\t\t\thasLast,\n\t\t\titem,\n\t\t\ti, j, k, l;\n\n\t\tpointXLast = null;\n\n\t\tfor (i = 0, j = data.length; i < j; i++) {\n\t\t\titem = data[i];\n\t\t\tpoints = item.points;\n\n\t\t\thasLast = pointXLast !== null;\n\t\t\tif (pointXLast === null) {\n\t\t\t\tpointXLast = [];\n\t\t\t}\n\t\t\tpointY = ~~(mainPadding + i * step + settings.barPadding + pointHeight / 2);\n\t\t\tfor (k = 0, l = points.length; k < l; k++) {\n\t\t\t\tpointX = ~~(mainPadding + item.points[k] / segmentInfo.max * width + segmentInfo.maxLabel);\n\n\t\t\t\tif (!pointList[k]) {\n\t\t\t\t\tpointList[k] = [];\n\t\t\t\t}\n\t\t\t\tpointList[k].push({x: pointX, y: pointY});\n\n\t\t\t\tctx.strokeStyle = settings.dataColors[k % settings.dataColors.length];\n\t\t\t\tif (renderPoints) {\n\t\t\t\t\tctx.strokeRect(pointX - 4.5, pointY - 4.5, 10, 10);\n\t\t\t\t}\n\n\t\t\t\tif (hasLast && renderLines) {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(pointXLast[k], pointYLast);\n\t\t\t\t\tctx.lineTo(pointX, pointY);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\n\t\t\t\tpointXLast[k] = pointX;\n\t\t\t}\n\t\t\tpointYLast = pointY;\n\t\t}\n\n\t\tif (renderArea) {\n\t\t\tctx.globalAlpha = 0.05;\n\t\t\tfor (i = 0, j = pointList.length; i < j; i++) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(mainPadding + segmentInfo.maxLabel, pointList[i][0].y);\n\t\t\t\tfor (k = 0, l = pointList[i].length; k < l; k++) {\n\t\t\t\t\tpoint = pointList[i][k];\n\t\t\t\t\tctx.lineTo(point.x, point.y);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(mainPadding + segmentInfo.maxLabel, pointList[i][l - 1].y);\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.fillStyle = settings.dataColors[i % settings.dataColors.length];\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t\tctx.globalAlpha = 1;\n\t\t}\n\t};\n\n\tthis.setData = function(data) {\n\t\tvar el = this._el,\n\t\t\tctx = el.getContext('2d'),\n\t\t\tsettings = this._settings,\n\t\t\ttypes = settings.types,\n\t\t\taxisRenderMethod = function() {},\n\t\t\tbarsRenderMethod = function() {},\n\t\t\tpointsRenderMethod = function() {},\n\t\t\tsegmentInfo;\n\n\t\tswitch (settings.orientation) {\n\t\t\tcase 'horizontal':\n\t\t\t\tel.width = this._width;\n\t\t\t\tel.height = data.length * settings.itemSize + this._settings.valueSpace;\n\t\t\t\taxisRenderMethod = bind(this, this._renderVerticalAxis);\n\t\t\t\tbarsRenderMethod = bind(this, this._renderHorizontalBars);\n\t\t\t\tpointsRenderMethod = bind(this, this._renderHorizontalPoints);\n\t\t\t\tbreak;\n\n\t\t\tcase 'vertical':\n\t\t\t\tel.width = data.length * settings.itemSize + this._settings.valueSpace;\n\t\t\t\tel.height = this._height;\n\t\t\t\taxisRenderMethod = bind(this, this._renderHorizontalAxis);\n\t\t\t\tbarsRenderMethod = bind(this, this._renderVerticalBars);\n\t\t\t\tpointsRenderMethod = bind(this, this._renderVerticalPoints);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tctx.font = settings.font;\n\n\t\tthis._renderBackground(ctx);\n\n\t\tif (data.length) {\n\t\t\tsegmentInfo = this._calculateSegments(ctx, data);\n\n\t\t\taxisRenderMethod(segmentInfo, ctx, data);\n\n\t\t\tif ((types.indexOf('points') !== -1) || (types.indexOf('area') !== -1) || (types.indexOf('lines') !== -1)) {\n\t\t\t\tpointsRenderMethod(segmentInfo, ctx, data);\n\t\t\t}\n\t\t\tif (types.indexOf('bars') !== -1) {\n\t\t\t\tbarsRenderMethod(segmentInfo, ctx, data);\n\t\t\t}\n\t\t}\n\n\t\tthis._data = data;\n\t};\n\n\tthis.setSettings = function(settings) {\n\t\tsettings.mainLabel = settings.mainLabel || '';\n\t\tsettings.textColor = settings.textColor || '#000000';\n\t\tsettings.fillColor = (settings.fillColor === undefined) ? '#FFFFFF' : settings.fillColor;\n\t\tsettings.lineColor = settings.lineColor || '#000000';\n\t\tsettings.orientation = settings.oriantation || 'horizontal';\n\t\tsettings.types = settings.types || 'bars,lines,area,points';\n\t\tsettings.barPadding = settings.barPadding || 2;\n\t\tsettings.barBackground = settings.barBackground || '#F8F8F8';\n\t\tsettings.mainPadding = settings.mainPadding || 10;\n\t\tsettings.valueSpace = settings.valueSpace || 40;\n\t\tsettings.dataColors = settings.dataColors || ['#DD0000', '#00DD00', '#0000DD'];\n\t\tsettings.font = settings.font || '13px Verdana';\n\t\tsettings.maxLabelSize = settings.maxLabelSize || 200;\n\t\tsettings.itemSize = settings.itemSize || 50;\n\n\t\tthis._settings = settings;\n\t};\n\n\tthis.update = function() {\n\t\tthis._data && this.setData(this._data);\n\t};\n});\n",
            "pre": true
        },
        "node_modules/squill/SelectBox.js": {
            "path": "node_modules/squill/SelectBox.js",
            "friendlyPath": ".SelectBox",
            "directory": "node_modules/squill/",
            "filename": "SelectBox.js",
            "src": "jsio('import .Widget');\njsio('import squill.models.DataSource as DataSource');\n\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_node_modules_squill_SelectBox=__class__;var SelectBox = exports=c__Users_Surface_cloud_devkit_node_modules_squill_SelectBox(function c__Users_Surface_cloud_devkit_node_modules_squill_SelectBox(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\n\tthis._css = 'select';\n\n\tthis._def = {\n\t\ttag: 'label',\n\t\tstyle: {display: 'inline-block'},\n\t\tchildren: [{\n\t\t\tid: '_select',\n\t\t\ttag: 'select'\n\t\t}]\n\t};\n\n\tthis.init = function(opts) {\n\t\topts = merge(opts, {\n\t\t\trenderer: bind(this, 'defaultRenderer')\n\t\t});\n\n\t\tthis._items = {};\n\t\tif (opts.dataSource) { this.setDataSource(opts.dataSource); }\n\t\tsupr(this, 'init', arguments);\n\t}\n\n\tthis.buildWidget = function() {\n\t\tif (this._opts.name) {\n\t\t\tthis.setName(this._opts.name);\n\t\t}\n\n\t\tif (!this._dataSource) {\n\t\t\tthis.setDataSource(new DataSource());\n\t\t}\n\n\t\tif (this._opts.items) {\n\t\t\tvar uid = 1;\n\t\t\tvar items = this._opts.items.map(function (item) {\n\t\t\t\tif (typeof item != 'object') {\n\t\t\t\t\treturn {id: typeof item == 'string' ? item : uid++, value: item};\n\t\t\t\t} else {\n\t\t\t\t\tif (!item.id) {\n\t\t\t\t\t\titem.id =   'value' in item ? item.value :\n\t\t\t\t\t\t\t\t\t'title' in item ? item.title :\n\t\t\t\t\t\t\t\t\t(uid++);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._dataSource.add(items);\n\t\t}\n\n\t\tif ('value' in this._opts) {\n\t\t\tthis.setValue(this._opts.value);\n\t\t}\n\n\t\tthis.initMouseEvents(this._el);\n\t\t$.onEvent(this._select, 'change', this, '_onSelect');\n\t}\n\n\tthis._onSelect = function() {\n\t\tvar item = this._dataSource.get(this.getValue());\n\t\tif (item) {\n\t\t\tthis.publish('change', item);\n\t\t}\n\t}\n\n\tthis.getDataSource = function () { return this._dataSource; }\n\n\tthis.setDataSource = function(dataSource) {\n\t\tif (this._dataSource) {\n\t\t\tthis._dataSource.unsubscribe('Update', this);\n\t\t\tthis._dataSource.unsubscribe('Remove', this);\n\t\t}\n\t\tthis._dataSource = dataSource;\n\t\tthis._dataSource.subscribe('Update', this, 'onUpdateItem');\n\t\tthis._dataSource.subscribe('Remove', this, 'onRemoveItem');\n\t\tthis._dataSource.forEach(function(item, key) {\n\t\t\tthis.onUpdateItem(key, item);\n\t\t}, this);\n\t}\n\n\tthis.defaultRenderer = function(item) {\n\t\tvar key = this._dataSource.getKey();\n\t\treturn item.displayName || item.label || item.title || item.text || item[key];\n\t}\n\n\tthis.onUpdateItem = function(id, item) {\n\t\tvar el = this._items[id];\n\t\tvar keyField = this._dataSource.getKey();\n\n\t\tif (typeof(item) === 'string') {\n\t\t\tvar o = {};\n\t\t\to[keyField] = item;\n\t\t\titem = o;\n\t\t}\n\n\t\tif (!el) {\n\t\t\tvar el = this._items[id] = $.create({tag: 'option'});\n\t\t\t$.insertBefore(this._select, el);\n\t\t}\n\n\t\tel.setAttribute('value', item[keyField]);\n\t\tvar renderer = this._opts.renderer;\n\t\tel.innerText = (typeof renderer === 'string' ? item[renderer] : renderer(item))\n\t\tel.value = item[keyField];\n\t}\n\n\tthis.onRemoveItem = function(id) {\n\t\tvar el = this._items[id];\n\t\tvar prevValue = this.getValue();\n\t\tif (el) {\n\t\t\t$.remove(el);\n\t\t\tdelete this._items[id];\n\t\t}\n\t\tvar newValue = this.getValue();\n\t\tif (newValue != prevValue) {\n\t\t\tthis._onSelect(); // the old value was removed, so select a new one\n\t\t}\n\t}\n\n\n\tthis.setName = function(name) { this._select.name = name; }\n\tthis.setValue = function(value) { this._select.value = value; }\n\n\tthis.getValue = function() { return this._select.value; }\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/controllers/Device.js": {
            "path": "src/serve/static/simulator/controllers/Device.js",
            "friendlyPath": ".controllers.Device",
            "directory": "src/serve/static/simulator/controllers/",
            "filename": "Device.js",
            "src": "/** @license\n * This file is part of the Game Closure SDK.\n *\n * The Game Closure SDK is free software: you can redistribute it and/or modify\n * it under the terms of the Mozilla Public License v. 2.0 as published by Mozilla.\n\n * The Game Closure SDK is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * Mozilla Public License v. 2.0 for more details.\n\n * You should have received a copy of the Mozilla Public License v. 2.0\n * along with the Game Closure SDK.  If not, see <http://mozilla.org/MPL/2.0/>.\n */\n\n/**\n * Note that we're in the browser runtime here, so we can assume\n * `document` and `window` exist and that util.browser and squill\n * will both import successfully.  This would not be the case in,\n * for example, the iOS runtime.\n */\n\njsio('import lib.PubSub');\njsio('import ..Simulator as Simulator');\njsio('import ..util.resolutions');\njsio('import .LocalController');\n\nDeviceAPI=__class__;var DeviceAPI=DeviceAPI(function DeviceAPI(){return this.init&&this.init.apply(this,arguments)},function () {\n  this.init = function (device) {\n    this._device = device;\n  }\n\n  this.getClient = function (target) {\n    var conn = this._device.getConn();\n    if (conn) {\n      return conn.getClient(target);\n    }\n  }\n\n  this.getAppId = function () {\n    return this._device.getAppId();\n  }\n\n  this.getBundleId = function () {\n    return this._device.getBundleId();\n  }\n\n  this.getAppTitle = function () {\n    return this._device.getAppTitle();\n  }\n});\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_Device=__class__;var Device = exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_Device(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_Device(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function (supr) {\n\n  this.constructor.activeDevice = null;\n\n  var _simulatorId = 0;\n\n  this.init = function (controller, opts) {\n    var id = opts.id;\n    var isLocal = opts.isLocal !== false;\n    if (!id) {\n      if (isLocal) {\n        id = 'sim' + (++_simulatorId);\n      } else {\n        throw new Error('no id for device');\n      }\n    }\n\n    this._id = id;\n\n    this._screen = opts.screen;\n    this._userAgent = opts.userAgent;\n\n    this.controller = controller;\n    this.rootView = controller.view;\n\n    if (opts.buildTarget) {\n      this._buildTarget = opts.buildTarget;\n    }\n\n    if (isLocal) {\n      this._local = new LocalController({\n        device: this\n      });\n    }\n\n    var simOpts = merge({\n      controller: this,\n      parent: this.rootView\n    }, opts.simulator);\n\n    delete simOpts.type;\n\n    this._simulator = new Simulator(simOpts);\n\n    this._simulator.on('change', bind(this, 'emit', 'change'));\n\n    if (opts.conn) {\n      this.setConn(opts.conn, opts);\n    }\n\n    if (opts.simulator.type) {\n      this.setType(opts.simulator.type);\n    }\n    /*\n          parent: this,\n      manifest: this._manifest,\n      rotation: parseInt(simulatorDef.rotation, 10),\n      deviceName: simulatorDef.device,\n      offsetX: simulatorDef.offsetX,\n      offsetY: simulatorDef.offsetY,\n      name: simulatorDef.name*/\n\n    this.api = new DeviceAPI(this);\n  };\n\n  this.isDebug = function () { return true; }\n\n  this.getType = function () { return this._type; }\n  this.setType = function (type) {\n    var opts = util.resolutions.get(type, {screen: this._screen, userAgent: this._userAgent});\n    if (opts && opts.target) {\n      this._buildTarget = opts.target;\n    }\n\n    this._type = type;\n    this._simulator.setType(opts);\n\n    if (this._local) {\n      this._local.rebuild();\n    }\n  }\n\n  this.isLocal = function () { return !!this._local; }\n  this.getId = function () { return this._id; }\n  this.getLocalController = function () { return this._local; }\n  this.getBuildTarget = function () { return this._buildTarget; }\n\n  // opts from handshake event\n  this.setConn = function (conn, opts) {\n    this._bundleId = opts.bundleId;\n    this._appId = opts.appId;\n    this._appTitle = opts.appTitle;\n    this._conn = conn;\n    this._simulator.setConn(conn);\n    this.emit('conn', conn);\n  }\n\n  this.activate = function () {\n    if (!this._local && Device.activeDevice != this) {\n      Device.activeDevice = this;\n\n      this._conn.getClient('devkit').sendRequest('ACTIVATE', {deviceId: this._id}, function (err, res) {\n        if (err) {\n          logger.ERROR&&console.error(\"ERROR\",\".controllers.Device\",err);\n        } else {\n          logger.LOG&&console.log(\"LOG\",\".controllers.Device\",'activated device', this._id);\n        }\n      });\n    }\n  }\n\n  this.isActive = function () {\n    return this.isLocal() || Device.activeDevice == this;\n  }\n\n  this.remove = function () {\n    // all remote devices share the same connection, so only end the\n    // connection if it's a remote device.\n    if (this.isLocal() && this._conn) {\n      this._conn.end();\n    }\n\n    if (this._simulator) {\n      this._simulator.remove();\n    }\n  }\n\n  this.getConn = function () {\n    return this._conn;\n  }\n\n  this.getManifest = function () {\n    return this.controller.getManifest();\n  }\n\n  this.getAppTitle = function () { return this._appTitle; }\n  this.getAppId = function () { return this._appId; }\n  this.getBundleId = function () { return this._bundleId; }\n\n  this.getSimulator = function () {\n    return this._simulator;\n  }\n\n  this.toJSON = function () {\n    return {\n      id: this._id,\n      simulator: {\n        type: this._simulator.getType()\n      }\n    };\n  }\n});\n\n\n",
            "pre": true
        },
        "src/serve/static/simulator/Simulator.js": {
            "path": "src/serve/static/simulator/Simulator.js",
            "friendlyPath": "..Simulator",
            "directory": "src/serve/static/simulator/",
            "filename": "Simulator.js",
            "src": "/** @license\n * This file is part of the Game Closure SDK.\n *\n * The Game Closure SDK is free software: you can redistribute it and/or modify\n * it under the terms of the Mozilla Public License v. 2.0 as published by Mozilla.\n\n * The Game Closure SDK is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * Mozilla Public License v. 2.0 for more details.\n\n * You should have received a copy of the Mozilla Public License v. 2.0\n * along with the Game Closure SDK.  If not, see <http://mozilla.org/MPL/2.0/>.\n */\n\njsio('from util.browser import $');\n\njsio('import squill.Widget');\njsio('import std.uri');\n\njsio('import squill.Menu');\njsio('import squill.Drag');\njsio('import squill.Delegate');\n\njsio('import lib.PubSub');\n\njsio('import .util.Size as Size');\njsio('import .util.DeviceInfo as DeviceInfo');\n\njsio('import .components.SimulatorChrome as SimulatorChrome');\njsio('import .components.CenterLayout as CenterLayout');\njsio('import .components.Toolbar as Toolbar');\njsio('import .components.DeviceDialog as DeviceDialog');\n\njsio('import .components.renderers.facebook as facebookRenderer');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_Simulator=__class__;exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_Simulator(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_Simulator(){return this.init&&this.init.apply(this,arguments)},CenterLayout, function (supr) {\n\n  this._def = {\n    className: 'simulator no-transitions',\n    children: [\n      {type: Toolbar},\n      {id: 'contents', children: [\n        {id: 'background', type: SimulatorChrome},\n        {id: 'splashImage'},\n        {id: 'resizeHandle'},\n        {id: 'build-spinner', children: [{id: 'spinner'}]}\n      ]}\n    ]\n  };\n\n  this.getContainer = function () { return this.frameWrapper || supr(this, 'getContainer'); };\n\n  this.buildWidget = function () {\n    supr(this, 'buildWidget', arguments);\n\n    var opts = this._opts;\n\n    this._device = opts.controller;\n    this._port = opts.port || 9201;\n    this._debug = true;\n    this._isRetina = true;\n    this._validOrientations = {};\n    this._renderers = {\n      'Facebook': facebookRenderer\n    };\n\n    this._manifest = this._device.getManifest();\n    this._manifest.supportedOrientations.forEach(function (orientation) {\n      this._validOrientations[orientation] = true;\n    }, this);\n\n    this.toolbar.setSimulator(this);\n    this.toolbar.setValidOrientations(this._validOrientations);\n\n    if (opts.simpleUI) {\n      this.toolbar.hide();\n    } else {\n      this.toolbar.show();\n    }\n\n    this._rotation = opts.rotation || 0;\n    this._backgroundProps = {};\n\n    this._isDragEnabled = true;\n    this._offsetX = opts.offsetX || 0;\n    this._offsetY = opts.offsetY || 0;\n\n    this._simulatorIndex = opts.index;\n    this._name = opts.name || 'Simulator_' + this._simulatorIndex;\n\n    this._mover = new squill.Drag({threshold: 0})\n      .subscribe('DragStart', this, 'onDragStart')\n      .subscribe('Drag', this, 'onDrag')\n      .subscribe('DragStop', this, 'onDragStop');\n\n    this._resizer = new squill.Drag({threshold: 0})\n      .subscribe('DragStart', this, 'onResizeStart')\n      .subscribe('Drag', this, 'onResize')\n      .subscribe('DragStop', this, 'onResizeStop');\n\n    this.background.on('Down', bind(this, '_startDrag'));\n\n    $.onEvent(this._el, 'mousedown', this, function (evt) {\n      if (evt.target == this._el) {\n        var rootView = this._device.rootView;\n        rootView.selectSimulator(evt);\n      }\n    });\n\n    $.onEvent(this.resizeHandle, 'mousedown', this, function () {\n        this._resizer.startDrag();\n      });\n\n    window.addEventListener('keydown', bind(this, this._rebuildKeyListener), true);\n    window.addEventListener('message', bind(this, function (e) {\n      if (e.data == 'devkit:reload') {\n        this.reload();\n      }\n\n      if (e.data == 'devkit:toolbar:hide') {\n        this.toolbar.hide();\n      }\n\n      if (e.data == 'devkit:toolbar:show') {\n        this.toolbar.show();\n      }\n    }));\n\n    // initialize muted state from localStorage\n    this._isMuted = false;\n    if (localStorage.getItem('settingMuted') === '1') {\n      this._isMuted = true;\n    }\n\n    this.fromJSON(this._opts);\n  };\n\n  this._startDrag = function () {\n    if (this._isDragEnabled) {\n      this._mover.startDrag();\n    }\n  }\n\n  this.setBuilding = function (isBuilding) {\n    var spinner = this['build-spinner'];\n\n    if (!isBuilding) {\n      setTimeout(bind(this, function () {\n        $.hide(this['build-spinner']);\n        this.removeClass('building');\n      }), 1000);\n      spinner.style.opacity = 0;\n    } else {\n      this.showLoadingImage();\n      spinner.style.display = 'flex';\n\n      setTimeout(bind(this, function () {\n        spinner.style.opacity = 0.5;\n        this.addClass('building');\n      }), 100);\n    }\n  }\n\n  this._onMenuOpen = function (menu) {\n    $.addClass(this.toolbar, 'menu-open');\n    if (menu == this.overflowMenu) {\n      var rootView = this._device.rootView;\n      rootView.getSimulatorButtons().forEach(function (button) {\n        this.overflowMenu.addWidget(button);\n      }, this);\n    }\n  }\n\n  this.setConn = function (conn) {\n    if (this._client) {\n      this._client.end();\n    }\n\n    var client = conn.getClient('simulator');\n    this._client = client;\n\n    // restore mute state when client connects (if necessary)\n    if (this._isMuted) {\n      this.setMuted(true);\n    }\n\n    client.onEvent('HIDE_LOADING_IMAGE', bind(this, 'hideLoadingImage'));\n    this._sendEvent(this._isPaused ? 'PAUSE' : 'RESUME');\n\n    if (!this._device.isLocal()) {\n      if (!this._frame) {\n        this._frame = $({\n          before: this.splashImage,\n          tag: 'img',\n          id: 'frame',\n          className: 'frame'\n        });\n      }\n\n      this._remoteScreenshot();\n    }\n  }\n\n  this._remoteScreenshot = function () {\n    this._sendRequest('SCREENSHOT', bind(this, function (err, res) {\n      if (!err) {\n        this._frame.src = res.canvasImg;\n        this._frame.style.width = res.width + 'px';\n        this._frame.style.height = res.height + 'px';\n      }\n    }));\n  }\n\n  this._sendEvent = function (name, args) {\n    if (!this._device.isLocal()) {\n      this._device.activate();\n    }\n\n    if (this._client) {\n      this._client.sendEvent(name, args);\n    }\n  }\n\n  this._sendRequest = function (name, /* optional*/ args, cb) {\n    if (!this._device.isLocal()) {\n      this._device.activate();\n    }\n\n    if (this._client) {\n      this._client.sendRequest(name, args, cb);\n    }\n  }\n\n  this.canRotate = function () { return this._canRotate; }\n\n  this.showLoadingImage = function () {\n    if (this._deviceInfo.isNativeTarget()) {\n      this.splashImage.style.display = 'block';\n      this.splashImage.style.opacity = 1;\n      this.splashImage.style.backgroundImage = 'url(' + this.getLoadingImageURL() + ')';\n    }\n  }\n\n  this.hideLoadingImage = function () {\n    this.splashImage.style.opacity = 0;\n    setTimeout(bind(this, function () {\n      this.splashImage.style.display = 'none';\n    }), 500);\n  };\n\n  this.setRetina = function (isRetina) {\n    this._isRetina = isRetina;\n    this.update();\n    this.refresh();\n  }\n\n  this.getFrame = function () { return this._frame; };\n\n  this.editDevice = function () {\n    var dialog = new DeviceDialog({\n        simulator: this,\n        loadingImage: this.getLoadingImageURL()\n      })\n      .on('select', bind(this, function (deviceType) {\n        this.setType(deviceType);\n        dialog.hide();\n      }))\n      .show();\n  }\n\n  this.toggleDragEnabled = function () {\n    this.setDragEnabled(!this._isDragEnabled);\n  }\n\n  this.setDragEnabled = function (isDragEnabled) {\n    this._isDragEnabled = !!isDragEnabled;\n    this.emit('change:drag');\n  };\n\n  this.isDragEnabled = function () {\n    return this._isDragEnabled;\n  }\n\n  this.isMuted = function () { return this._isMuted; };\n  this.toggleMuted = function () { this.setMuted(!this._isMuted); }\n  this.setMuted = function (isMuted) {\n    var wasMuted = this._isMuted;\n    this._isMuted = isMuted;\n    if (isMuted) {\n      localStorage.setItem('settingMuted', '1');\n    } else {\n      localStorage.setItem('settingMuted', '0');\n    }\n\n    this._sendEvent('MUTE', {shouldMute: isMuted});\n    this.emit('change:mute', isMuted);\n    this.emit('change');\n  }\n\n  this.getLoadingImageURL = function () {\n    var splash;\n    if (this._rotation % 2 == 0) {\n      //even amounts of rotations mean portrait\n      splash = \"portrait1136\";\n    } else {\n      //oods mean landscape\n      splash = \"landscape1536\";\n    }\n    return new std.uri(this._deviceInfo.getTarget() + \"/splash/\" + splash).toString();\n  };\n\n  this._rebuildKeyListener = function (e) {\n    //this used to be cmd-shift-r, which is reload without cache.\n    // now ctrl-r\n    // if (e.ctrlKey && e.which == 82) {\n    //   this.rebuild();\n    //   e.preventDefault();\n    //   return false;\n  };\n\n  this.setTransitionsEnabled = function (isEnabled) {\n    if (isEnabled) {\n      $.removeClass(this._el, 'no-transitions');\n    } else {\n      $.addClass(this._el, 'no-transitions');\n    }\n  }\n\n  this.setType = function (opts) {\n    this.setTransitionsEnabled(false);\n\n    this._deviceName = opts.id;\n    this._deviceInfo = new DeviceInfo(opts);\n    var info = this._deviceInfo;\n\n    // reset any custom resize\n    this._customSize = null;\n\n    function logInfo(key, value) {\n      console.log(new Array(20 - key.length + 1).join(' ')\n          + '%c' + key + ':%c ' + value,\n          'color: green',\n          'font-weight: bold; color: blue');\n    }\n\n    logInfo('type', info.name || opts.id);\n    logInfo('build-target', info.getTarget());\n    logInfo('device-id', this._device.getId());\n    logInfo('size', info.getScreenSize());\n    logInfo('pixel-ratio', info.getDevicePixelRatio());\n\n    this.update();\n\n    setTimeout(bind(this, 'setTransitionsEnabled', true), 1000);\n\n    if (this._frame) {\n      this.refresh();\n    }\n\n    this.emit('change:type')\n  };\n\n  this.inspect = function () {\n    var device = this._device;\n    var controller = device.controller;\n    var inspector = controller.view.getViewInspector();\n    inspector.setDevice(device);\n    inspector.toggle();\n  }\n\n  this.rotate = function () {\n\n    var isLandscape = (this._rotation + 1) % 2 == 1;\n    if (!this._deviceInfo.canRotate()\n          || isLandscape && !('landscape' in this._validOrientations)\n          || !isLandscape && !('portrait' in this._validOrientations))\n    {\n      return;\n    }\n\n    ++this._rotation;\n\n    this.setTransitionsEnabled(true);\n    this.toolbar.hide();\n\n    this.contents.style.WebkitTransform = 'rotate(' + (this._rotation % 2 ? 90 : -90) + 'deg)';\n\n    var onRotate = bind(this, function () {\n      this.contents.removeEventListener(\"webkitTransitionEnd\", onRotate);\n      this.setTransitionsEnabled(false);\n\n      this.contents.style.WebkitTransform = '';\n      this.toolbar.show();\n      this.update();\n\n      setTimeout(bind(this, 'setTransitionsEnabled', true), 100);\n    });\n\n    this.contents.addEventListener(\"webkitTransitionEnd\", onRotate);\n\n    this.emit('change');\n  };\n\n  this._zoom = 0;\n\n  this.getZoom = function () { return this._zoom; }\n  this.setZoom = function (zoom) {\n    this._zoom = zoom || 1;\n    this.update();\n    this.emit('change:zoom', this._zoom);\n    this.emit('change');\n  }\n\n  this.loadURL = function (url) {\n    this.showLoadingImage();\n\n    if (this._frame) {\n      $.remove(this._frame);\n    }\n\n    this._frame = $({\n      before: this.splashImage,\n      tag: 'iframe',\n      id: 'frame',\n      attrs: {\n        name: this._name\n      },\n      src: url,\n      className: 'frame'\n    });\n\n    this.update();\n  }\n\n  this.getDevicePixelRatio = function () {\n    return this._deviceInfo.getDevicePixelRatio();\n  }\n\n  function sizeToCSS(size, scale) {\n    scale = scale || 1;\n    return {\n      width: size && size.width ? size.width * scale + 'px' : '100%',\n      height: size && size.height ? size.height * scale + 'px' : '100%'\n    };\n  }\n\n  this._setViewport = function (size, viewport, scale) {\n    $.style(this.contents, sizeToCSS(size, scale));\n    // $.style(this.frameWrapper, sizeToCSS(viewport, scale));\n    if (this._frame) {\n      var style;\n\n      if (this._isRetina) {\n        style = merge(sizeToCSS(viewport), {\n          WebkitTransform: 'scale(' + scale + ')',\n          WebkitTransformOrigin: '0px 0px'\n        });\n      } else {\n        style = merge(sizeToCSS(viewport, scale), {\n          WebkitTransform: ''\n        });\n      }\n\n      $.style(this._frame, style);\n    }\n  }\n\n  this._computeRotation = function () {\n    var isPortaitValid = ('portrait' in this._validOrientations);\n    var isLandscapeValid = ('landscape' in this._validOrientations);\n    var rotation = this._rotation;\n    if (!this._deviceInfo.canRotate()) {\n      rotation = 0;\n    } else if (isPortaitValid && !isLandscapeValid) {\n      rotation = 0;\n    } else if (isLandscapeValid && !isPortaitValid) {\n      rotation = 1;\n    }\n    return rotation;\n  }\n\n  this.update = function () {\n    var info = this._deviceInfo;\n    if (!info) { return; }\n\n    var start = Date.now();\n\n    var parent = this._widgetParent;\n    this._rotation = this._computeRotation();\n    var size = this._customSize || info.getScreenSize();\n    if (this._rotation % 2 == 1) {\n      size.rotate();\n    }\n\n    var dpr = this.getDevicePixelRatio();\n    var zoom = this._zoom;\n    if (!zoom) {\n      // check for auto-zoom out to fit window\n      var padding = 10;\n      var winSize = new Size(window.innerWidth - padding * 2, window.innerHeight - padding * 2);\n      var targetSize = info.getChromeSize(this._rotation % 2 == 1);\n      if (winSize.getRatio() < targetSize.getRatio()) {\n        zoom = winSize.width / targetSize.width;\n      } else {\n        zoom = winSize.height / targetSize.height;\n      }\n      zoom = Math.min(1, zoom * dpr);\n    }\n\n    var scale = this._scale = 1 / dpr * zoom;\n    this._width = size.width * scale || 0;\n    this._height = size.height * scale || 0;\n\n    // override the default full-screen with a custom screen size\n    // Note: custom size with viewport != screen size is not supported\n    var viewportSize = this._customSize ? size : info.getViewportSize(this._rotation);\n\n    this.contents.style.cssText = '';\n    $.style(this.contents, info.getCustomStyle());\n\n    this._setViewport(size, viewportSize, scale);\n\n    var renderer = this._renderers[info.getName()];\n    if (this._customRenderer && (!renderer || renderer != this._customRenderer)) {\n      this._customRenderer.destroy(this);\n      this._customRenderer = null;\n    }\n\n    if (renderer && renderer != this._customRenderer) {\n      this._customRenderer = renderer;\n      renderer.create(this);\n    }\n\n    this.setCenterX(info.centerSimulatorX());\n    this.setCenterY(info.centerSimulatorY());\n\n    this.background.update(merge({\n      scale: scale,\n      rotation: this._rotation,\n      screenSize: size,\n    }, info.getBackground(this._rotation)));\n\n    this.setContentSize(size.width * scale, size.height * scale);\n\n    this.toolbar.setOffset(this.getContentArea(), this.background.getOffset());\n\n    console.log(\"UPDATE\", Date.now() - start);\n    this.emit('change');\n  };\n\n  this.onResizeStart = function () {\n    this.setTransitionsEnabled(false);\n    this.toggleClass('resize', true);\n  }\n\n  this.onResizeStop = function () {\n    this.computeOffset();\n    this.toggleClass('resize', false);\n    this.setTransitionsEnabled(true);\n  }\n\n  this.onDragStop = function () {\n    this.computeOffset();\n    this.setTransitionsEnabled(true);\n  };\n\n  this.onDragStart = function () {\n    this.setTransitionsEnabled(false);\n  };\n\n  this.onDrag = function (dragEvt, moveEvt, delta) {\n    this.addOffset(delta.x, delta.y);\n  };\n\n  this.onResize = function (dragEvt, moveEvt, delta) {\n    if (!this._customSize) {\n      this._customSize = this._deviceInfo.getScreenSize();\n    }\n\n    this._customSize.add(delta.x * 2, delta.y * 2);\n\n    this.update();\n  }\n\n  this.refresh = function () {\n    if (this._frame) {\n      this._frame.src = this._frame.src;\n    }\n  }\n\n  this.reload = function () {\n    if (this._device.isLocal()) {\n      this._device.getLocalController().rebuild();\n    } else {\n      this._sendEvent('RELOAD');\n    }\n  }\n\n  this.takeScreenshot = function () {\n    if (this._device.isLocal()) {\n      var win = window.open('', '', 'width=' + (this._screenWidth + 2) + ',height=' + (this._screenHeight + 2));\n      this._client.sendRequest('SCREENSHOT', function (err, res) {\n        var canvas = res.base64Image;\n        var doc = win.document;\n        var now = new Date();\n        var min = ('00' + now.getMinutes()).substr(-2);\n        var time = now.getHours() + ':' + min;\n        var date = (1 + now.getMonth()) + '/' + now.getDate();\n\n        doc.open();\n        doc.write('<html><title>Screenshot ' + date + ' ' + time + '</title></head>'\n          + '<body style=\"margin:0px;padding:0px;background-color:#000;\">'\n          + '<img src=\"' + canvas + '\">'\n          + '</body></html>');\n        doc.close();\n      });\n    } else {\n      this._remoteScreenshot();\n    }\n  }\n\n  this.nativeBackButton = function () {\n    this._sendEvent('BACK_BUTTON');\n  }\n\n  this.nativeHomeButton = function () {\n    this._sendEvent('HOME_BUTTON');\n\n    this._isHomeScreen = !this._isHomeScreen;\n    this.emit('change:home', this._isHomeScreen);\n  }\n\n  this.isHomeScreen = function () {\n    return this._isHomeScreen;\n  }\n\n  this.isDebugMode = function () { return this._isDebugMode; }\n  this.toggleDebugMode = function () { this.setDebugMode(!this._isDebugMode); }\n  this.setDebugMode = function (isDebugMode) {\n    this._isDebugMode = isDebugMode;\n    this.rebuild();\n  }\n\n  // this.delegate = new squill.Delegate(function(on) {\n  //   on.btnOverflow = function () {\n  //     this.overflowMenu.toggle();\n  //   }\n  // });\n\n  this.step = function () {\n    this.setPaused(true);\n    this._sendEvent('STEP');\n  }\n\n  this.togglePaused = function () { this.setPaused(!this._isPaused); }\n  this.isPaused = function () { return this._isPaused; }\n  this.setPaused = function (isPaused) {\n    var isPaused = !!isPaused;\n    if (this._isPaused == isPaused) { return; }\n    this._isPaused = isPaused;\n\n    this._sendEvent(isPaused ? 'PAUSE' : 'RESUME');\n    this.emit('change:pause', isPaused);\n  }\n\n  function bound(value, min, max) {\n    return value < min ? min : value > max ? max : value;\n  }\n\n  this.toJSON = function () {\n    var data = {\n      type: this._deviceName\n    };\n\n    if (this._isMuted) {\n      data.muted = true;\n    }\n\n    if (this._rotation % 2) {\n      data.rotated = true;\n    }\n\n    if (!this._isDragEnabled) {\n      data.draggable = false;\n    }\n\n    if (this._zoom !== 0 && this._zoom !== 1) {\n      data.zoom = this._zoom;\n    }\n\n    return data;\n  }\n\n  this.fromJSON = function (data) {\n    if (data.type) {\n      this._device.setType(data.type);\n    }\n\n    if (data.muted) {\n      this.setMuted(true);\n    }\n\n    if (data.draggable === false) {\n      this.setDragEnabled(false);\n    }\n\n    if (data.rotated) {\n      this._rotation = 1;\n      this.update();\n    }\n\n    if (data.zoom) {\n      this.setZoom(data.zoom);\n    }\n  }\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/util/Size.js": {
            "path": "src/serve/static/simulator/util/Size.js",
            "friendlyPath": ".util.Size",
            "directory": "src/serve/static/simulator/util/",
            "filename": "Size.js",
            "src": "// duck-type width\nfunction hasWidth(obj) {\n  return obj && typeof obj == 'object' && ('width' in obj);\n}\n\nSize=__class__;var Size=Size(function Size(){return this.init&&this.init.apply(this,arguments)},function () {\n  this.init = function (width, height) {\n    if (hasWidth(width)) {\n      this.width = width.width;\n      this.height = width.height;\n    } else {\n      this.width = width || 0;\n      this.height = height || 0;\n    }\n  }\n\n  this.rotate = function () {\n    var h = this.height;\n    this.height = this.width;\n    this.width = h;\n    return this;\n  }\n\n  this.getRatio = function () {\n    return this.width / this.height;\n  }\n\n  this.add = function (w, h) {\n    if (hasWidth(w)) {\n      this.width += w.width;\n      this.height += w.height;\n    } else {\n      this.width += w;\n      this.height += h;\n    }\n  }\n\n  this.scale = function (scale) {\n    this.width *= scale;\n    this.height *= scale;\n    return this;\n  }\n\n  this.toString = function () { return this.width + 'x' + this.height; }\n});\n\nSize.subtract = function (a, b) {\n  return new Size(a.width - b.width, a.height - b.height);\n}\n\nSize.add = function (a, b) {\n  return new Size(a.width + b.width, a.height + b.height);\n}\n\nSize.scale = function (a, scale) {\n  return new Size(a.width * scale, a.height * scale);\n}\n\nmodule.exports = Size;\n",
            "pre": true
        },
        "src/serve/static/simulator/util/DeviceInfo.js": {
            "path": "src/serve/static/simulator/util/DeviceInfo.js",
            "friendlyPath": ".util.DeviceInfo",
            "directory": "src/serve/static/simulator/util/",
            "filename": "DeviceInfo.js",
            "src": "jsio('import .Size');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_util_DeviceInfo=__class__;module.exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_util_DeviceInfo(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_util_DeviceInfo(){return this.init&&this.init.apply(this,arguments)},function () {\n\n  this.init = function (opts) {\n    this._opts = opts;\n  }\n\n  this.getName = function () { return this._opts.name; }\n\n  this.getTarget = function () { return this._opts.target; }\n\n  this.isNativeTarget = function () { return /^native/.test(this._opts.target); }\n\n  this.centerSimulatorX = function () {\n    return 'centerX' in this._opts ? this._opts.centerX : true;\n  }\n\n  this.centerSimulatorY = function () {\n    return 'centerY' in this._opts ? this._opts.centerY : true;\n  }\n\n  this.getScreenSize = function (isRotated) {\n    var opts = this._opts;\n    var size = opts && opts\n             ? new Size(opts.width, opts.height)\n             : new Size();\n\n    return isRotated ? size.rotate() : size;\n  }\n\n  this.getChromeSize = function (isRotated) {\n    var opts = this._opts;\n    var size = opts && opts.background\n             ? new Size(opts.background.width, opts.background.height)\n             : new Size();\n\n    return isRotated ? size.rotate() : size;\n  }\n\n  // some devices have browser chrome, so the renderable viewport is smaller\n  // than the reported screen size\n  this.getViewportSize = function (rotation) {\n    var opts = this._opts;\n    if (opts.viewportSize) {\n      return Array.isArray(opts.viewportSize)\n               ? new Size(opts.viewportSize[rotation % opts.viewportSize.length])\n               : new Size(opts.viewportSize);\n    } else {\n      return this.getScreenSize(rotation % 2);\n    }\n  }\n\n  this.getCustomStyle = function () {\n    return this._opts.style;\n  }\n\n  this.getBackground = function (rotation) {\n    var background = this._opts.background;\n    if (Array.isArray(background)) {\n      return background[rotation % background.length];\n    }\n\n    return background;\n  }\n\n  this.getDevicePixelRatio = function () {\n    return this._opts.devicePixelRatio || 1;\n  }\n\n  this.canRotate = function () {\n    return 'canRotate' in this._opts ? !!this._opts.canRotate : true;\n  }\n\n  this.canDrag = function () {\n    return 'canDrag' in this._opts ? !!this._opts.canDrag : true;\n  }\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/SimulatorChrome.js": {
            "path": "src/serve/static/simulator/components/SimulatorChrome.js",
            "friendlyPath": ".components.SimulatorChrome",
            "directory": "src/serve/static/simulator/components/",
            "filename": "SimulatorChrome.js",
            "src": "jsio('import squill.Widget as Widget');\njsio('import math2D.Point as Point');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_SimulatorChrome=__class__;module.exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_SimulatorChrome(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_SimulatorChrome(){return this.init&&this.init.apply(this,arguments)},Widget, function () {\n\n  this._def = {tag: 'canvas'};\n\n  this.buildWidget = function () {\n    this.initMouseEvents();\n  }\n\n  this.update = function (opts) {\n    this._rotation = opts.rotation || 0;\n    this._scale = opts.scale || 1;\n\n    if (!opts) {\n      return this.hide();\n    }\n\n    this._computePosition(opts);\n    this._render(opts.img);\n  }\n\n  this._computePosition = function (opts) {\n\n    // compute position\n    var scale = this._scale;\n    var width = opts.width;\n    var height = opts.height;\n    var offsetX = opts.offsetX;\n    var offsetY = opts.offsetY;\n\n    var isRotated = !!(this._rotation % 2);\n    if (isRotated) {\n      width = opts.height;\n      height = opts.width;\n      offsetX = opts.height - opts.screenSize.width - opts.offsetY;\n      offsetY = opts.offsetX;\n    }\n\n    this._width = width * scale;\n    this._height = height  * scale;\n    this._offsetX = -(offsetX || 0) * scale;\n    this._offsetY = -(offsetY || 0) * scale;\n\n    $.style(this._el, {\n      left: this._offsetX + 'px',\n      top: this._offsetY + 'px',\n      width: this._width + 'px',\n      height: this._height + 'px'\n    });\n\n  }\n\n  this.getOffset = function () {\n    return new Point(this._offsetX, this._offsetY);\n  }\n\n  this._render = function (url) {\n    // render image\n    this._url = url;\n    if (url) {\n      var img = this._img = new Image();\n      img.onload = bind(this, '_renderChrome');\n      img.src = 'images/' + url;\n      return;\n    } else {\n      this._img = null;\n    }\n\n    this._renderChrome();\n  }\n\n  this._renderChrome = function () {\n\n    // avoid unnecessary renders\n    var cacheKey = [\n      this._width,\n      this._height,\n      !!this._img,\n      this._img && this._img.src\n    ].join('|');\n\n    if (this._cacheKey == cacheKey) { return; }\n    this._cacheKey = cacheKey;\n\n    if (this._img) {\n      this.show();\n    } else {\n      this.hide();\n    }\n\n    // render the image\n    var ctx = this._el.getContext('2d');\n    this._el.width = this._width;\n    this._el.height = this._height;\n\n    ctx.save();\n\n    if (this._img) {\n      if (this._rotation % 2 == 0) {\n        ctx.drawImage(this._img, 0, 0, ctx.canvas.width, ctx.canvas.height);\n      } else {\n        switch (this._rotation % 4) {\n          case 3:\n          case 1:\n            ctx.rotate(90 * Math.PI / 180);\n            ctx.translate(0, -ctx.canvas.width);\n            ctx.drawImage(this._img, 0, 0, ctx.canvas.height, ctx.canvas.width);\n            break;\n        }\n      }\n    }\n\n    ctx.restore();\n  }\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/math2D/Point.js": {
            "path": "../node_modules\\jsio\\packages/math2D/Point.js",
            "friendlyPath": "math2D.Point",
            "directory": "../node_modules\\jsio\\packages/math2D",
            "filename": "Point.js",
            "baseMod": "math2D",
            "basePath": "c:\\Users\\Surface\\cloud\\node_modules\\jsio\\packages/math2D",
            "src": "/*\n* @shim\n*/\njsio('import math.geom.Point');\nexports = math.geom.Point;\nlogger.LOG&&console.log(\"LOG\",\"math2D.Point\",\"Warning: math2D.Point is deprecated\");\n",
            "pre": true
        },
        "src/serve/static/simulator/components/CenterLayout.js": {
            "path": "src/serve/static/simulator/components/CenterLayout.js",
            "friendlyPath": ".components.CenterLayout",
            "directory": "src/serve/static/simulator/components/",
            "filename": "CenterLayout.js",
            "src": "jsio('import math2D.Point as Point');\njsio('import squill.Widget as Widget');\njsio('from util.browser import $');\n\njsio('import ..util.Size as Size');\n\n// centers an element with a given content-size within this node\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_CenterLayout=__class__;module.exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_CenterLayout(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_CenterLayout(){return this.init&&this.init.apply(this,arguments)},Widget, function () {\n  this._def = {\n    className: 'center-layout',\n    children: [\n      {id: '_center', children: [\n        {id: '_corner'}\n      ]}\n    ]\n  }\n\n  this.buildWidget = function () {\n    this._offset = new Point(0, 0);\n  }\n\n  this.getContainer = function () { return this._corner; }\n\n  this.setCenterX = function (isCentered) {\n    this._isCenteredX = isCentered;\n    this.toggleClass('center-x', isCentered);\n  }\n\n  this.setCenterY = function (isCentered) {\n    this._isCenteredY = isCentered;\n    this.toggleClass('center-y', isCentered);\n  }\n\n\n  function bound(value, min, max) {\n    return value < min ? min : value > max ? max : value;\n  }\n\n  this.addOffset = function (x, y) {\n    this._offset.add(x, y);\n    this.onLayoutChange();\n  }\n\n  this.setOffset = function (x, y) {\n    this._offset.x = x;\n    this._offset.y = y;\n    this.onLayoutChange();\n  }\n\n  this.setContentSize = function (width, height) {\n    this._contentSize = new Size(width, height);\n    this.onLayoutChange();\n  }\n\n  this.computeOffset = function () {\n    this._offset = this._computeOffset();\n  }\n\n  this.getContentArea = function () {\n    return new Size(this._el.offsetWidth, this._el.offsetHeight);\n  }\n\n  this._computeOffset = function () {\n    var contentArea = this.getContentArea();\n    var maxOffset = Size.subtract(contentArea, this._contentSize).scale(0.5);\n    var offsetX = this._isCenteredX\n      ? bound(this._offset.x, -maxOffset.width, maxOffset.width)\n      : bound(this._offset.x, 0, 2 * maxOffset.width);\n\n    var offsetY = this._isCenteredY\n      ? bound(this._offset.y, -maxOffset.height, maxOffset.height)\n      : bound(this._offset.y, 0, 2 * maxOffset.height);\n\n    return new Point(offsetX, offsetY);\n  }\n\n  this.onLayoutChange = function () {\n    // var top = this.hasClass('center-x') ? -this._height / 2 : y;\n    // var left = x;\n    // var fullWidth = this.contents.offsetWidth;\n    // var fullHeight = this.contents.offsetHeight;\n\n    var offset = this._computeOffset();\n    $.style(this._corner, {\n      left: (this._isCenteredX && -this._contentSize.width / 2 || 0) + offset.x + 'px',\n      top: (this._isCenteredY && -this._contentSize.height / 2 || 0) + offset.y + 'px',\n\n      // width: fullWidth + 'px',\n      // height: fullHeight + 'px'\n    });\n  }\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/Toolbar.js": {
            "path": "src/serve/static/simulator/components/Toolbar.js",
            "friendlyPath": ".components.Toolbar",
            "directory": "src/serve/static/simulator/components/",
            "filename": "Toolbar.js",
            "src": "jsio('import squill.Widget as Widget');\njsio('import squill.Menu as Menu');\n\njsio('import .onNextFrame');\njsio('from util.browser import $');\n\nButton=__class__;var Button=Button(function Button(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n  this._def = {\n    tag: 'button'\n  };\n\n  this.init = function (opts) {\n    opts.id = opts.id + 'Button';\n    opts.attrs = {tooltip: opts.tooltip || ''};\n    opts.className = opts.tooltip ? 'withTooltip' : '';\n    opts.style = {display: 'inline-block'};\n\n    if (opts.icon) {\n      opts.children = [\n        opts.icon && {id: 'icon', type: Widget, tag: 'i', className: 'glyphicon glyphicon-' + opts.icon}\n      ];\n    }\n\n    supr(this, 'init', arguments);\n\n    this.initMouseEvents();\n  }\n\n  this.setTooltip = function (tooltip) {\n    this._el.setAttribute('tooltip', tooltip);\n  }\n});\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_Toolbar=__class__;module.exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_Toolbar(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_Toolbar(){return this.init&&this.init.apply(this,arguments)},Widget, function () {\n  this._def = {\n    id: 'toolbar', children: [\n      {id: 'buttonContainer'}\n    ]\n  };\n\n  this.buildWidget = function () {\n    this._buttons = {};\n\n    this._el.addEventListener('webkitTransitionEnd', bind(this, 'removeClass', 'transition'));\n  }\n\n  this.setSimulator = function (simulator) {\n    // simulator.on('resize', bind(this, 'onResize'));\n\n    this._createButtons(simulator, this.buttonContainer, [\n      {\n        id: 'deviceType',\n        tooltip: 'change the device type',\n        icon: 'phone',\n        onClick: function (simulator) {\n          simulator.editDevice();\n        }\n      },\n      {\n        id: 'reload',\n        tooltip: 'reload the game',\n        icon: 'refresh',\n        onClick: function (simulator) {\n          simulator.reload();\n        }\n      },\n      {\n        id: 'inspect',\n        tooltip: 'inspect the view hierarchy',\n        icon: 'search',\n        onClick: function (simulator) {\n          simulator.inspect();\n        }\n      },\n      {\n        id: 'drag',\n        tooltip: 'lock simulator position',\n        icon: 'move',\n        event: 'change:drag',\n        onChange: function () {\n          var isDragEnabled = simulator.isDragEnabled();\n          this.toggleClass('disabled', !isDragEnabled);\n          this.setTooltip(isDragEnabled ? 'lock simulator position' : 'unlock simulator position');\n        },\n        onClick: function (simulator) {\n          simulator.toggleDragEnabled();\n        }\n      },\n      {\n        id: 'rotate',\n        tooltip: 'rotate the device',\n        icon: 'repeat',\n        onClick: function (simulator) {\n          simulator.rotate();\n        }\n      },\n      {\n        id: 'nativeBack',\n        tooltip: 'back button (hardware)',\n        icon: 'chevron-left',\n        onClick: function (simulator) {\n          simulator.nativeBackButton();\n        }\n      },\n      {\n        id: 'nativeHome',\n        tooltip: 'home button (hardware)',\n        icon: 'home',\n        event: 'change:home',\n        onChange: function (simulator) {\n          var isHomeScreen = simulator.isHomeScreen();\n          this.setTooltip(isHomeScreen ? 'return to game' : 'home (hardware button)');\n          this.toggleClass('disabled', isHomeScreen);\n        },\n        onClick: function (simulator) {\n          simulator.nativeHomeButton();\n        }\n      },\n      {\n        id: 'screenShot',\n        tooltip: 'take a screenshot',\n        icon: 'picture',\n        onClick: function (simulator) {\n          simulator.takeScreenshot();\n        }\n      },\n      {\n        id: 'mute',\n        tooltip: 'mute all sounds',\n        icon: 'volume-up',\n        event: 'change:mute',\n        onChange: function (simulator) {\n          var isMuted = simulator.isMuted();\n          this.setTooltip(isMuted ? 'unmute all sounds' : 'mute all sounds');\n          this.icon.toggleClass('glyphicon-volume-off', isMuted);\n          this.icon.toggleClass('glyphicon-volume-up', !isMuted);\n        },\n        onClick: function (simulator) {\n          simulator.toggleMuted();\n        }\n      },\n      {\n        id: 'pause',\n        tooltip: 'pause game timer',\n        icon: 'pause',\n        event: 'change:pause',\n        onChange: function (simulator) {\n          var isPaused = simulator.isPaused();\n          this.icon.toggleClass('glyphicon-pause', !isPaused);\n          this.icon.toggleClass('glyphicon-play', isPaused);\n          this.setTooltip(isPaused ? 'resume game timer' : 'pause game timer');\n        },\n        onClick: function (simulator) {\n          simulator.togglePaused();\n        }\n      },\n      {\n        id: 'step',\n        tooltip: 'step forward 1 frame',\n        icon: 'step-forward',\n        onClick: function (simulator) {\n          simulator.step();\n        }\n      },\n      {\n        id: 'overflow',\n        tooltip: 'more options',\n        icon: 'chevron-down',\n        menu: [\n          {\n            id: 'debug',\n            text: 'switch to release build',\n            event: 'change:debug',\n            onChange: function (simulator) {\n              var isDebugMode = simulator.isDebugMode();\n              this.setText(isDebugMode ? 'switch to release build' : 'switch to debug build');\n            }\n          },\n          // {id: 'addSimulator', text: 'add simulator', type: 'button'},\n        ]\n      }\n    ]);\n  }\n\n  this._createButtons = function (simulator, parent, buttons) {\n\n    for (var i = 0, opts; opts = buttons[i]; ++i) {\n      var button = this._buttons[opts.id] = new Button(merge({parent: parent}, opts));\n\n      if (opts.menu) {\n        var menu = new Menu(merge({\n          parent: this.buttonContainer,\n          type: 'menu',\n          className: 'list'\n        }));\n\n        this._createButtons(simulator, menu, opts.menu);\n\n        button.on('Select', bind(menu, 'show'));\n      }\n\n      if (opts.event && opts.onChange) {\n        simulator.on(opts.event, bind(button, opts.onChange, simulator));\n      }\n\n      if (opts.onClick) {\n        button.on('Select', bind(button, opts.onClick, simulator));\n      }\n    }\n  }\n\n  this.getButton = function (id) {\n    return this._buttons[id];\n  }\n\n  this.setValidOrientations = function (orientations) {\n    var btnRotate = this.getButton('rotate');\n    if (orientations.portrait && orientations.landscape) {\n      btnRotate.show();\n    } else {\n      btnRotate.hide();\n    }\n  }\n\n  this.setOffset = function (viewport, offset) {\n    $.style(this._el, {\n      top: offset.y - 30 + 'px',\n      left: offset.x + 'px',\n    });\n\n    var rect = this._el.getBoundingClientRect();\n    $.style(this._el, {\n      paddingTop: Math.max(0, -rect.top) + 'px',\n      paddingLeft: Math.max(0, -rect.left) + 'px'\n    });\n  }\n\n  this.hide = function () {\n    this.addClass('transition');\n    onNextFrame(this, function () {\n      this.addClass('hidden');\n    });\n  }\n\n  this.show = function () {\n    this.addClass('transition');\n    onNextFrame(this, function () {\n      this.removeClass('hidden');\n    });\n  }\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/onNextFrame.js": {
            "path": "src/serve/static/simulator/components/onNextFrame.js",
            "friendlyPath": ".onNextFrame",
            "directory": "src/serve/static/simulator/components/",
            "filename": "onNextFrame.js",
            "src": "\n// runs a (ctx, cb) or just a plain (cb) on the next frame.  Use instead of\n// setTimeout(0) to guarantee that the layouting in the browser is complete\n// and css changes are applied (setTimeout(0) does not make this gaurantee)\nvar reqAnim = window.requestAnimationFrame;\nvar cancelAnim = window.cancelAnimationFrame;\nvar prefixes = ['', 'webkit', 'moz', 'o', 'ms'];\nfor (var i = 0; i < prefixes.length && !reqAnim; ++i) {\n  reqAnim = window[prefixes[i] + 'RequestAnimationFrame'];\n  cancelAnim = window[prefixes[i] + 'CancelAnimationFrame'] || window[prefixes[i] + 'CancelRequestAnimationFrame'];\n}\n\nmodule.exports = function (ctx, cb) {\n  if (arguments.length == 1) {\n    cb = arguments[0];\n  } else {\n    cb = bind.apply(GLOBAL, arguments);\n  }\n\n  reqAnim(cb);\n};\n",
            "pre": true
        },
        "src/serve/static/simulator/components/DeviceDialog.js": {
            "path": "src/serve/static/simulator/components/DeviceDialog.js",
            "friendlyPath": ".components.DeviceDialog",
            "directory": "src/serve/static/simulator/components/",
            "filename": "DeviceDialog.js",
            "src": "jsio('import squill.Widget as Widget');\njsio('import squill.Dialog as Dialog');\njsio('import squill.Delegate as Delegate');\n\njsio('import ..util.resolutions as resolutions');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_DeviceDialog=__class__;module.exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_DeviceDialog(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_DeviceDialog(){return this.init&&this.init.apply(this,arguments)},Dialog, function (supr) {\n\n  this._def = {\n    id: 'deviceDialog',\n    title: 'Device Properties',\n    header: [\n      {type: 'label', text: 'zoom:'},\n      {id: 'zoom50', type: 'button', text: '50%'},\n      {id: 'zoom100', type: 'button', text: '100%'},\n      {id: 'zoom200', type: 'button', text: '200%'},\n      {id: 'zoomCustom', type: 'button', text: 'other'},\n      {id: 'zoomCustomWrapper', type: 'widget', children: [\n        {id: 'zoom', tag: 'input', attrs: {type: 'range', value: 100, max: 400, min: 10, step: 1}},\n        {id: 'zoomPercent', type: 'label', label: '100%'},\n      ]},\n      {id: 'retina', type: 'checkbox', text: 'retina', value: true}\n    ],\n    children: [\n      {type: 'label', text: 'select a device' },\n      {id: 'deviceList'}\n    ]\n  };\n\n  this.buildWidget = function () {\n    supr(this, 'buildWidget', arguments);\n\n    var simulator = this._simulator = this._opts.simulator;\n\n    var previewImage = this._opts.loadingImage;\n    for (var type in resolutions.defaults) {\n      var deviceType = resolutions.defaults[type];\n      new DeviceCell({\n          parent: this.deviceList,\n          type: DeviceCell,\n          deviceType: deviceType,\n          previewImage: previewImage\n        })\n        .on('Select', bind(this, function (deviceType) {\n          this.emit('select', deviceType);\n        }, deviceType));\n    }\n\n    simulator.on('change:zoom', bind(this, '_onZoomChange'));\n    this.zoom.addEventListener('change', bind(this, '_onZoom'));\n    this.zoom.addEventListener('input', bind(this, '_onZoom'));\n    this._onZoomChange();\n\n    this._isZoomCustom = false;\n    this.zoomCustomWrapper.hide();\n  }\n\n  this.delegate = new Delegate(function (on) {\n    on.zoomCustom = function () {\n      this._isZoomCustom = !this._isZoomCustom;\n      this._isZoomCustom ? this.zoomCustomWrapper.show()\n                         : this.zoomCustomWrapper.hide();\n    }\n\n    on.zoom50 = function () { this.zoom.value = 50; this._onZoom(); }\n    on.zoom100 = function () { this.zoom.value = 100; this._onZoom(); }\n    on.zoom200 = function () { this.zoom.value = 200; this._onZoom(); }\n\n    on.retina = function () {\n      this._simulator.setRetina(this.retina.isChecked());\n    }\n  });\n\n  this._onZoom = function () {\n    this._simulator.setZoom(this.zoom.value / 100);\n  }\n\n  this._onZoomChange = function () {\n    this.zoomPercent.setText((this._simulator.getZoom() * 100).toFixed(0) + '%');\n  }\n});\n\nDeviceCell=__class__;var DeviceCell=DeviceCell(function DeviceCell(){return this.init&&this.init.apply(this,arguments)},Widget, function (supr) {\n\n  var FIT_TO = 50;\n\n  this._def = {\n    className: 'device',\n    children: [\n      {id: 'previewBg', children: [\n        {id: 'preview'}\n      ]},\n      {id: 'label', type: 'label'},\n      {id: 'resolution', type: 'label'}\n    ]\n  };\n\n  function getScale(w, h) {\n    var ratio = w / h;\n    return FIT_TO / (ratio > 1 ? w : h)\n  }\n\n  this.buildWidget = function () {\n\n    var def = this._opts.deviceType;\n    var w = def.width || 1;\n    var h = def.height || 1;\n\n    this.label.setText(def.name);\n    if (def.width && def.height) {\n      this.resolution.setText(w + 'x' + h);\n    }\n\n    this.initMouseEvents();\n\n    var setBg = false;\n    var scale = getScale(w, h);\n    if (def.background) {\n      var bg = def.background;\n      if (isArray(bg)) {\n        bg = bg[0];\n      }\n\n      if (bg.width && bg.height) {\n        setBg = true;\n\n        var bgScale = getScale(bg.width, bg.height);\n        if (bgScale < scale) {\n          scale = bgScale;\n        }\n      }\n    }\n\n    this.preview.style.width = w * scale + 'px';\n    this.preview.style.height = h * scale + 'px';\n    this.preview.style.backgroundImage = 'url(' + this._opts.previewImage + ')';\n\n    if (setBg) {\n      this.previewBg.style.cssText =\n        'background-image: url(images/' + bg.img + ');'\n        + 'width:' + bg.width * scale + 'px;'\n        + 'min-height:' + bg.height * scale + 'px;'\n        + 'padding:' + bg.offsetY * scale + 'px 0 0 ' + bg.offsetX * scale + 'px;'\n    }\n  }\n});\n",
            "pre": true
        },
        "node_modules/squill/Dialog.js": {
            "path": "node_modules/squill/Dialog.js",
            "friendlyPath": "squill.Dialog",
            "directory": "node_modules/squill/",
            "filename": "Dialog.js",
            "src": "jsio('import .Widget');\njsio('import .Events');\njsio('import math.geom.Point as Point');\njsio('from util.browser import $');\njsio('import .Window');\n\nvar node_modules_squill_Dialog=__class__;var Dialog = exports=node_modules_squill_Dialog(function node_modules_squill_Dialog(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\n\tthis._def = {\n\t\tdraggable: true,\n\t\tcloseable: true,\n\t\tstyle: {\n\t\t\tposition: 'absolute',\n\t\t\tdisplay: 'flex'\n\t\t},\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tid: '_titlebar',\n\t\t\t\tchildren: [\n\t\t\t\t\t{id: '_closeBtn', children: [{\n\t\t\t\t\t\tid: '_closeBtnIcon'\n\t\t\t\t\t}]},\n\t\t\t\t\t{id: '_titlebarText'}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{id: '_header'},\n\t\t\t{id: '_container'},\n\t\t\t{id: '_footer'}\n\t\t]\n\t};\n\n\tthis._css = 'dialog';\n\n\tthis.getContainer = function () { return this._container; }\n\n\tthis.buildWidget = function (el, scope) {\n\t\tif (this._opts.title) {\n\t\t\tthis.setTitle(this._opts.title);\n\t\t}\n\n\t\tif (this._opts.footer) {\n\t\t\tthis.buildChildren(this._opts.footer, this._footer, scope);\n\t\t}\n\n\t\tif (this._opts.header) {\n\t\t\tthis.buildChildren(this._opts.header, this._header, scope);\n\t\t}\n\n\t\tthis._isModal = !!this._opts.isModal;\n\n\t\tif (!this._opts.closeable) {\n\t\t\t$.hide(this._closeBtn);\n\t\t}\n\n\t\t$.onEvent(this._closeBtn, 'click', this, 'hide', null);\n\t\t$.onEvent(this._closeBtn, 'touchend', this, 'hide', null);\n\n\t\tthis.initDragEvents(this._titlebar);\n\t}\n\n\tthis.setTitle = function (title) { $.setText(this._titlebarText, title); }\n\n\tthis.onDrag = function(dragEvt, moveEvt, delta) {\n\t\tif (!dragEvt.data) {\n\t\t\tdragEvt.data = new Point(parseInt(this._el.style.left), parseInt(this._el.style.top));\n\t\t}\n\n\t\tvar pos = Point.add(dragEvt.data, Point.subtract(dragEvt.currPt, dragEvt.srcPt)),\n\t\t\tdim = Window.get().getViewport();\n\n\t\tthis._el.style.left = Math.max(0, pos.x) + 'px';\n\t\tthis._el.style.top = Math.max(0, pos.y) + 'px';\n\t}\n\n\t// override\n\tthis.dispatchButton = function(target, evt) {\n\t\tif (this.delegate && this.delegate.call(this, target) !== false) {\n\t\t\tthis.hide(target);\n\t\t}\n\t}\n\n\tthis.fadeOut = function() {\n\t\tvar onFinish = bind(this, function() {\n\t\t\tthis.onHide();\n\t\t});\n\n\t\tthis.onBeforeHide();\n\t\tnew Animation({\n\t\t\tduration: 250,\n\t\t\tsubject: function(t) {\n\t\t\t\t$.style(el, {opacity: 1 - t});\n\t\t\t},\n\t\t\tonFinish: onFinish\n\t\t}).seekTo(1);\n\t}\n\n\tthis.setIsModal = function (isModal) {\n\t\tthis._isModal = isModal;\n\t\tif (this.isShowing()) {\n\t\t\tthis.showUnderlay();\n\t\t}\n\t}\n\n\tthis.show = function () {\n\n\t\tvar el = this.getElement();\n\t\tif (!el.parentNode) {\n\t\t\tdocument.body.appendChild(el);\n\t\t}\n\n\t\tvar ret = supr(this, 'show', arguments);\n\n\t\tif (this._isModal) {\n\t\t\tthis.showUnderlay();\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tthis.hide = function () {\n\t\tvar ret = supr(this, 'hide', arguments);\n\n\t\tthis.hideUnderlay();\n\n\t\treturn ret;\n\t}\n\n\tthis.showUnderlay = function () {\n\t\tif (!this._underlay) {\n\t\t\tthis._underlay = $({style: {\n\t\t\t\tparent: document.body,\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: '0px',\n\t\t\t\tright: '0px',\n\t\t\t\tbottom: '0px',\n\t\t\t\tleft: '0px',\n\t\t\t\tbackground: 'rgba(0, 0, 0, 0.85)'\n\t\t\t}});\n\t\t}\n\n\t\tthis._el.parentNode.appendChild(this._underlay);\n\t\tthis._underlay.style.zIndex = getComputedStyle(this._el).zIndex - 1;\n\t\tthis._underlay.style.display = 'block';\n\t}\n\n\tthis.hideUnderlay = function () {\n\t\tif (this._underlay) {\n\t\t\tthis._underlay.style.display = 'none';\n\t\t}\n\t}\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/util/resolutions.js": {
            "path": "src/serve/static/simulator/util/resolutions.js",
            "friendlyPath": "..util.resolutions",
            "directory": "src/serve/static/simulator/util/",
            "filename": "resolutions.js",
            "src": "/** @license\n * This file is part of the Game Closure SDK.\n *\n * The Game Closure SDK is free software: you can redistribute it and/or modify\n * it under the terms of the Mozilla Public License v. 2.0 as published by Mozilla.\n\n * The Game Closure SDK is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * Mozilla Public License v. 2.0 for more details.\n\n * You should have received a copy of the Mozilla Public License v. 2.0\n * along with the Game Closure SDK.  If not, see <http://mozilla.org/MPL/2.0/>.\n */\n\nfunction copy(obj) {\n\treturn JSON.parse(JSON.stringify(obj));\n}\n\nexports.get = function(name, opts) {\n\tvar info = exports.defaults[name];\n\tif (info) { return info; }\n\n\tif (!opts) { opts = {}; }\n\n\tvar match;\n\tfunction matchResolution (id) {\n\t\tvar info = exports.defaults[id];\n\t\tif (opts.screen.width == info.width && opts.screen.height == info.height) {\n\t\t\tmatch = copy(info);\n\t\t} else if (opts.screen.width == info.height && opts.screen.height == info.width) {\n\t\t\tmatch = copy(info);\n\t\t\tmatch.rotation = 1;\n\t\t}\n\t}\n\n\tvar fallback = 'mobile';\n\tif (opts.screen) {\n\t\tif (/-ios$/.test(name)) {\n\t\t\t['iphone', 'iphone4', 'iphone5', 'ipad', 'ipad3'].forEach(bind(this, matchResolution));\n\t\t} else if (/-android$/.test(name)) {\n\t\t\t['nexus', 'galaxy-nexus'].forEach(bind(this, matchResolution));\n\t\t}\n\t}\n\n\tif (!match) {\n\t\tmatch = copy(exports.defaults[fallback]);\n\t\tif (opts.width) { match.width = opts.width; }\n\t\tif (opts.height) { match.height = opts.height; }\n\t\tif (/^browser-/.test(name)) {\n\t\t\topts.target = 'browser-mobile';\n\t\t}\n\t}\n\n\treturn match;\n};\n\nexports.defaults = {\n\tfullScreen: {\n\t\tname: 'Full Screen',\n\t\ttarget: 'browser-desktop',\n\t\tcanRotate: false,\n\t\tcanResize: true,\n\t\tcenterX: false,\n\t\tcenterY: false,\n\t},\n\tmobile: {\n\t\tname: 'Mobile',\n\t\ttarget: 'browser-mobile',\n\t\tdevicePixelRatio: 2,\n\t\tcanRotate: true,\n\t\tcanResize: true,\n\t\twidth: 640,\n\t\theight: 1136,\n\t\tbackground: {\n\t\t\twidth: 640,\n\t\t\theight: 1136,\n\t\t\toffsetX: 0,\n\t\t\toffsetY: 0\n\t\t},\n\t\tstyle: {\n\t\t\tborder: '10px solid #555',\n\t\t\tborderRadius: '5px'\n\t\t}\n\t},\n\tbrowser: {\n\t\tname: 'Browser',\n\t\ttarget: 'browser-desktop',\n\t\tcanRotate: false,\n\t\tcanResize: true,\n\t\twidth: 800,\n\t\theight: 600,\n\t\tbackground: {\n\t\t\twidth: 820,\n\t\t\theight: 620,\n\t\t\toffsetX: 10,\n\t\t\toffsetY: 10\n\t\t},\n\t\tstyle: {\n\t\t\tborder: '10px solid #555',\n\t\t\tborderRadius: '5px'\n\t\t}\n\t},\n\tfacebook: {\n\t\tname: 'Facebook',\n\t\ttarget: 'browser-desktop',\n\t\tcanRotate: false,\n\t\tcanResize: false,\n\t\tcanDrag: false,\n\t\theight: 600,\n\t\twidth: 760,\n\t\tcenterY: false,\n\t\tstyle: {\n\t\t\tmarginTop: '200px'\n\t\t}\n\t},\n\tipad: {\n\t\tname: 'iPad 2',\n\t\ttarget: 'native-ios',\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\twidth: 768,\n\t\theight: 1024,\n\t\tbackground: [{\n\t\t\timg: 'ipad.png',\n\t\t\twidth: 860,\n\t\t\theight: 1125,\n\t\t\toffsetX: 49,\n\t\t\toffsetY: 52\n\t\t}, {\n\t\t\timg: 'ipad-horiz.png',\n\t\t\twidth: 1125,\n\t\t\theight: 860,\n\t\t\toffsetX: 51,\n\t\t\toffsetY: 49\n\t\t}]\n\t},\n\t'ipad3': {\n\t\tname: 'iPad 3',\n\t\ttarget: 'native-ios',\n\t\tdevicePixelRatio: 2,\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\twidth: 1536,\n\t\theight: 2048,\n\t\tbackground: [{\n\t\t\timg: 'ipad.png',\n\t\t\twidth: 1720,\n\t\t\theight: 2260,\n\t\t\toffsetX: 98,\n\t\t\toffsetY: 104\n\t\t}, {\n\t\t\timg: 'ipad-horiz.png',\n\t\t\twidth: 2250,\n\t\t\theight: 1720,\n\t\t\toffsetX: 102,\n\t\t\toffsetY: 98\n\t\t}]\n\t},\n\tnexus: {\n\t\tname: 'Nexus S',\n\t\ttarget: 'native-android',\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\twidth: 480,\n\t\theight: 800,\n\t\tbackground: [{\n\t\t\timg: 'nexus.png',\n\t\t\twidth: 649,\n\t\t\theight: 1135,\n\t\t\toffsetX: 81,\n\t\t\toffsetY: 178\n\t\t}, {\n\t\t\timg: 'nexus.png',\n\t\t\trotation: 90,\n\t\t\twidth: 1135,\n\t\t\theight: 649,\n\t\t\toffsetX: 167,\n\t\t\toffsetY: 81\n\t\t}]\n\t},\n\tiphone: {\n\t\tname: 'iPhone 3GS',\n\t\ttarget: 'native-ios',\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\theight: 480,\n\t\twidth: 320,\n\t\tbackground: {\n\t\t\timg: 'iphone.png',\n\t\t\twidth: 400,\n\t\t\theight: 760,\n\t\t\toffsetX: 42,\n\t\t\toffsetY: 141\n\t\t}\n\t},\n\t'iphone4': {\n\t\tname: 'iPhone 4',\n\t\ttarget: 'native-ios',\n\t\tdevicePixelRatio: 2,\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\theight: 960,\n\t\twidth: 640,\n\t\tbackground: {\n\t\t\timg: 'iphone.png',\n\t\t\twidth: 800,\n\t\t\theight: 1520,\n\t\t\toffsetX: 84,\n\t\t\toffsetY: 282\n\t\t}\n\t},\n\t'iphone5': {\n\t\tname: 'iPhone 5',\n\t\ttarget: 'native-ios',\n\t\tdevicePixelRatio: 2,\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\theight: 1136,\n\t\twidth: 640,\n\t\tbackground: {\n\t\t\timg: 'iphone5.png',\n\t\t\twidth: 762,\n\t\t\theight: 1600,\n\t\t\toffsetX: 65,\n\t\t\toffsetY: 238\n\t\t}\n\t},\n\t'iphone6': {\n\t\tname: 'iPhone 6',\n\t\ttarget: 'native-ios',\n\t\tdevicePixelRatio: 2,\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\theight: 1334,\n\t\twidth: 750,\n\t\tbackground: {\n\t\t\timg: 'iphone6.png',\n\t\t\twidth: 853,\n\t\t\theight: 1771,\n\t\t\toffsetX: 52,\n\t\t\toffsetY: 217\n\t\t}\n\t},\n\t'iphone-browser': {\n\t\tname: 'Mobile Safari',\n\t\ttarget: 'browser-mobile',\n\t\tuserAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 5_0 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A334 Safari/7534.48.3',\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\twidth: 320,\n\t\theight: 480,\n\t\tviewportSize: [ // override the default width/height to account for browser chrome\n\t\t\t{ width: 320, height: 416 },\n\t\t\t{ width: 480, height: 268 }\n\t\t],\n\t\tbackground: [{\n\t\t\timg: 'iphone-webkit.png',\n\t\t\twidth: 400,\n\t\t\theight: 760,\n\t\t\toffsetX: 42,\n\t\t\toffsetY: 161\n\t\t}, {\n\t\t\timg: 'iphone-webkit-horiz.png',\n\t\t\twidth: 760,\n\t\t\theight: 400,\n\t\t\toffsetX: 139,\n\t\t\toffsetY: 62\n\t\t}]\n\t},\n\t'galaxy-nexus': {\n\t\tname: 'Galaxy Nexus',\n\t\ttarget: 'native-android',\n\t\tcanRotate: true,\n\t\tcanResize: false,\n\t\twidth: 720,\n\t\theight: 1184,\n\t\tdevicePixelRatio: 2,\n\t\tbackground: {\n\t\t\timg: 'galaxy-vert.png',\n\t\t\twidth: 854,\n\t\t\theight: 1677,\n\t\t\toffsetX: 66,\n\t\t\toffsetY: 212\n\t\t}\n\t}\n};\n\nfor (var id in exports.defaults) {\n\texports.defaults[id].id = id;\n}\n",
            "pre": true
        },
        "src/serve/static/simulator/components/renderers/facebook.js": {
            "path": "src/serve/static/simulator/components/renderers/facebook.js",
            "friendlyPath": ".components.renderers.facebook",
            "directory": "src/serve/static/simulator/components/renderers/",
            "filename": "facebook.js",
            "src": "jsio('from util.browser import $');\n\nvar _facebookBar;\n\nexports.create = function (simulator) {\n  if (!_facebookBar) {\n    var bar = _facebookBar = $.create({\n      parent: simulator.getElement(),\n      style: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        right: '0px',\n        bottom: '0px',\n        zIndex: 0,\n        minWidth: '1052px',\n        background: 'url(\"images/facebook-header-center.png\") repeat-x'\n      }\n    });\n\n    bar.innerHTML = \"<div style='position:absolute;top:0px;left:0px;width:636px;height:44px;background:url(images/facebook-header-left.png)'></div>\"\n      + \"<div style='position:absolute;top:0px;right:0px;width:296px;height:44px;background:url(images/facebook-header-right.png)'></div>\"\n      + \"<div style=\\\"position:absolute;top:13px;left:56px;width:550px;height:20px;cursor:default;color:#141823; white-space: nowrap; overflow: hidden; font: 14px 'Helvetica Neue', Helvetica, Arial, 'lucida grande', tahoma, verdana, arial, sans-serif; font-weight: bold; \\\"></div>\";\n\n    var rightBar = $.create({\n      parent: bar,\n      style: {\n        position: 'absolute',\n        top: '44px',\n        bottom: '0px',\n        right: '10px',\n        width: '244px',\n        backgroundColor: '#FAFAF9',\n        borderColor: '#B3B3B3',\n        borderWidth: '0px 1px',\n        borderStyle: 'solid',\n        zIndex: 1\n      }\n    });\n  }\n\n  $.style(simulator.getElement(), {\n    background: '#FFF'\n  });\n}\n\nexports.destroy = function (simulator) {\n  if (_facebookBar) {\n    $.remove(_facebookBar);\n\n    $.style(simulator.getElement(), {\n      background: \"\"\n    });\n\n    _facebookBar = null;\n  }\n}\n",
            "pre": true
        },
        "src/serve/static/simulator/controllers/LocalController.js": {
            "path": "src/serve/static/simulator/controllers/LocalController.js",
            "friendlyPath": ".LocalController",
            "directory": "src/serve/static/simulator/controllers/",
            "filename": "LocalController.js",
            "src": "jsio('import std.uri');\njsio('import util.ajax');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_LocalController=__class__;exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_LocalController(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_LocalController(){return this.init&&this.init.apply(this,arguments)},function () {\n\n  this.init = function (opts) {\n    this._device = opts.device;\n    this._app = opts.app || new std.uri(window.location).query('app');\n    this._debug = true;\n  }\n\n  this.rebuild = function (params, cb) {\n    var simulator = this._device.getSimulator();\n    simulator.setBuilding(true);\n\n    // get or update a simulator port with the following options\n    util.ajax.get({\n      url: '/api/simulate/',\n      query: {\n        app: this._app,\n        deviceType: this._device.getType(),\n        deviceId: this._device.getId(),\n        scheme: this._device.isDebug() ? 'debug' : 'release',\n        target: this._device.getBuildTarget()\n      }\n    }, bind(this, function (err, res) {\n      simulator.setBuilding(false);\n\n      if (err) {\n        cb && cb(err);\n      } else {\n        var url = res.url;\n        if (!url && res.port) {\n          var hostname = location.hostname;\n          url = 'http://' + hostname + ':' + res.port + '/';\n        }\n\n        simulator.loadURL(url);\n\n        cb && cb(null, res);\n      }\n    }));\n  };\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/controllers/SimulatorServer.js": {
            "path": "src/serve/static/simulator/controllers/SimulatorServer.js",
            "friendlyPath": ".controllers.SimulatorServer",
            "directory": "src/serve/static/simulator/controllers/",
            "filename": "SimulatorServer.js",
            "src": "jsio('import net');\njsio('import net.interfaces');\njsio('import lib.PubSub');\njsio('import net.protocols.Cuppa');\njsio('import ..util.TargetCuppa');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_SimulatorServer=__class__;exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_SimulatorServer(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_controllers_SimulatorServer(){return this.init&&this.init.apply(this,arguments)},[net.interfaces.Server, lib.PubSub], function () {\n  this.listen = function () {\n    net.listen(this, 'postmessage', {port: 'devkit-simulator'});\n  }\n\n  this.buildProtocol = function () {\n    var conn = new util.TargetCuppa();\n    conn.onEvent('HANDSHAKE', null, bind(this, function (evt) {\n      this.emit('connection', conn, evt.args);\n    }));\n    return conn;\n  }\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/protocols/Cuppa.js": {
            "path": "../node_modules\\jsio\\packages/net/protocols/Cuppa.js",
            "friendlyPath": "net.protocols.Cuppa",
            "directory": "../node_modules\\jsio\\packages/net/protocols",
            "filename": "Cuppa.js",
            "src": "jsio('import jsio.lib.Callback');\njsio('import jsio.lib.PubSub');\n\njsio('from .rtjp import RTJPProtocol');\n\nError=__class__;var Error=Error(function Error(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(protocol, id, msg, details, requestId) {\n\t\tthis.id = id;\n\t\tthis.msg = msg;\n\t\tthis.details = details;\n\t\tthis.requestId = requestId;\n\t}\n});\n\nRPCRequest=__class__;var RPCRequest=RPCRequest(function RPCRequest(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(protocol, id) {\n\t\tthis.protocol = protocol;\n\t\tthis.id = id;\n\t\tthis._onError = new lib.Callback();\n\t\tthis._onSuccess = new lib.Callback();\n\t}\n\n\tthis.onError = function() { this._onError.forward(arguments); }\n\tthis.onSuccess = function() { this._onSuccess.forward(arguments); }\n\n\tthis.bindLater = function(l) {\n\t\tvar args = [].slice(arguments, 1);\n\t\tthis._onError.forward([l, l.fail].concat(args));\n\t\tthis._onSuccess.forward([l, l.succed].concat(args));\n\t\treturn l;\n\t}\n\n\n});\n\nReceivedRequest=__class__;var ReceivedRequest=ReceivedRequest(function ReceivedRequest(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.type = \"request\"\n\n\tthis.init = function(protocol, id, name, args, target) {\n\t\tthis.protocol = protocol\n\t\tthis.id = id;\n\t\tthis.name = name\n\t\tthis.responded = false;\n\t\tthis.args = args;\n\t\tthis.target = target;\n\t}\n\n\tthis.error = function(msg, details) {\n\t\tif (this.responded) { throw new Error(\"already responded\"); }\n\t\tif (this._timer) {\n\t\t\tclearTimeout(this._timer);\n\t\t\tthis._timer = null;\n\t\t}\n\t\targs = {\n\t\t\tid: this.id,\n\t\t\tmsg: msg + \"\"\n\t\t}\n\t\tif (details !== undefined) { args.details = details }\n\t\tthis.responded = true;\n\t\tthis.protocol.sendFrame('ERROR', args);\n\t}\n\n\tthis.respond = function(args) {\n\t\tif (this.responded) { throw new Error(\"already responded\"); }\n\t\tif (this._timer) {\n\t\t\tclearTimeout(this._timer);\n\t\t\tthis._timer = null;\n\t\t}\n\t\tthis.responded = true;\n\t\tthis.protocol.sendFrame('RESPONSE', {\n\t\t\tid: this.id,\n\t\t\targs: args == undefined ? {} : args // python cuppa ignores responses with undefined args\n\t\t});\n\t}\n\n\tthis.timeoutAfter = function(duration, msg) {\n\t\tif (this.responded) { return; }\n\t\tif (this._timer) { clearTimeout(this._timer); }\n\t\tthis._timer = setTimeout(bind(this, '_timeout', msg), duration);\n\t}\n\n\tthis._timeout = function(msg) {\n\t\tif (!this.responded) {\n\t\t\tthis.error(msg);\n\t\t}\n\t}\n\n});\n\nReceivedEvent=__class__;var ReceivedEvent=ReceivedEvent(function ReceivedEvent(){return this.init&&this.init.apply(this,arguments)},function() {\n\tthis.init = function(protocol, id, name, args, target) {\n\t\tthis.id = id;\n\t\tthis.name = name;\n\t\tthis.args = args;\n\t\tthis.target = target;\n\t}\n});\n\n/**\n * @extends net.protocols.rtjp.RTJPProtocol;\n */\nvar c__Users_Surface_cloud_node_modules_jsio_packages_net_protocols_Cuppa=__class__;exports=c__Users_Surface_cloud_node_modules_jsio_packages_net_protocols_Cuppa(function c__Users_Surface_cloud_node_modules_jsio_packages_net_protocols_Cuppa(){return this.init&&this.init.apply(this,arguments)},RTJPProtocol, function(supr) {\n\tthis.init = function() {\n\t\tsupr(this, 'init', arguments);\n\n\t\tthis._onConnect = new lib.Callback();\n\t\tthis._onDisconnect = new lib.Callback();\n\n\t\tthis._requests = {};\n\n\t\tthis.onEvent = new lib.PubSub();\n\t\tthis.onRequest = new lib.PubSub();\n\t}\n\n\tthis.disconnect = function() { this.transport.loseConnection(); }\n\n\t// pass something to call (ctx, method, args...) when connected\n\tthis.onConnect = function() { this._onConnect.forward(arguments); }\n\tthis.onDisconnect = function() { this._onDisconnect.forward(arguments); }\n\n\tthis.reset = function() {\n\t\tthis._onConnect.reset();\n\t\tthis._onDisconnect.reset();\n\t}\n\n\t// called when we're connected\n\tthis.connectionMade = function() {\n\t\tthis._isConnected = true;\n\t\tthis._onConnect.fire();\n\t}\n\n\tthis.connectionLost = function(err) {\n\t\tfor (var i in this._requests) {\n\t\t\tvar req = this._requests[i];\n\t\t\tdelete this._requests[i];\n\t\t\treq._onError.fire(err);\n\t\t}\n\n\t\tthis._isConnected = false;\n\t\tthis._onDisconnect.fire(err);\n\t}\n\n\tthis.sendRequest = function(name, args, target, cb) {\n\t\tif (arguments.length > 4) { // allow bound functions (e.g. [this, 'onResponse', 123])\n\t\t\tcb = bind.apply(GLOBAL, Array.prototype.slice.call(arguments, 3));\n\t\t}\n\n\t\tvar frameArgs = {\n\t\t\tname: name,\n\t\t\targs: args\n\t\t};\n\n\t\tif (target) { frameArgs.target = target; }\n\n\t\tvar id = this.sendFrame('RPC', frameArgs),\n\t\t\treq = this._requests[id] = new RPCRequest(this, id);\n\n\t\tif (cb) {\n\t\t\treq.onSuccess(GLOBAL, cb, false); // will call cb(false, args...)\n\t\t\treq.onError(GLOBAL, cb); // will call cb(err)\n\t\t}\n\n\t\treturn req;\n\t}\n\n\tthis.sendEvent = function(name, args, target) {\n\t\tthis.sendFrame('EVENT', {name: name, args: args, target: target || null});\n\t}\n\n\tthis.frameReceived = function(id, name, args) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\"net.protocols.Cuppa\",'RECEIVED', id, name, args);\n\t\tswitch(name.toUpperCase()) {\n\t\t\tcase 'RESPONSE':\n\t\t\t\tvar req = this._requests[args.id];\n\t\t\t\tif (!req) { return; }\n\t\t\t\tdelete this._requests[args.id];\n\t\t\t\treq._onSuccess.fire(args.args);\n\t\t\t\tbreak;\n\t\t\tcase 'ERROR':\n\t\t\t\tvar msg = args.msg || 'unknown',\n\t\t\t\t\trequestId = args.id,\n\t\t\t\t\treq = this._requests[requestId],\n\t\t\t\t\terr = new Error(this, id, msg, args.details, requestId);\n\n\t\t\t\tif (!req) {\n\t\t\t\t\treturn this.errorReceived && this.errorReceived(err);\n\t\t\t\t} else {\n\t\t\t\t\tdelete this._requests[requestId];\n\t\t\t\t\treq._onError.fire(err);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'RPC':\n\t\t\tcase 'EVENT':\n\t\t\t\tif (!args.name) {\n\t\t\t\t\treturn self.sendFrame('ERROR', { 'id': args.id || id, 'msg': 'missing \"name\"' });\n\t\t\t\t}\n\t\t\t\tvar frameArgs = args.args || {},\n\t\t\t\t\ttarget = args.target || null,\n\t\t\t\t\tisRPC = name.toUpperCase() == 'RPC',\n\t\t\t\t\treqCtor = isRPC ? ReceivedRequest : ReceivedEvent,\n\t\t\t\t\tpubTarget = isRPC ? this.onRequest : this.onEvent,\n\t\t\t\t\treq = new reqCtor(this, args.id || id, args.name, frameArgs, target);\n\n\t\t\t\tpubTarget.publish(req.name, req);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n});\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/protocols/rtjp.js": {
            "path": "../node_modules\\jsio\\packages/net/protocols/rtjp.js",
            "friendlyPath": ".rtjp",
            "directory": "../node_modules\\jsio\\packages/net/protocols",
            "filename": "rtjp.js",
            "src": "jsio('from .delimited import DelimitedProtocol');\n\n/**\n * @extends net.protocols.delimited.DelimitedProtocol\n */\nexports.RTJPProtocol=__class__;exports.RTJPProtocol=exports.RTJPProtocol(function exports_RTJPProtocol(){return this.init&&this.init.apply(this,arguments)},DelimitedProtocol, function(supr) {\n\tthis.init = function() {\n\t\tvar delimiter = '\\r\\n';\n\t\tsupr(this, 'init', [delimiter]);\n\t\tthis.frameId = 0;\n\t}\n\n\tthis.connectionMade = function() {\n\t\tif (this._client && this._client.connectionMade) { this._client.connectionMade(); }\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".rtjp\",\"connectionMade\");\n\t}\n\n\tvar error = function(e) {\n\t\tlogger.ERROR&&console.error(\"ERROR\",\".rtjp\",e);\n\t}\n\n\t// Inherit and overwrite\n\tthis.frameReceived = function(id, name, args) {\n\t}\n\n\t// Public\n\tthis.sendFrame = function(name, args) {\n\t\tif (!args) {\n\t\t\targs = {}\n\t\t}\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".rtjp\",'sendFrame', name, JSON.stringify(args));\n\t\tthis.sendLine(JSON.stringify([++this.frameId, name, args]));\n\t\treturn this.frameId;\n\t}\n\n\tthis.lineReceived = function(line) {\n\t\ttry {\n\t\t\tvar frame = JSON.parse(line);\n\t\t\tif (frame.length != 3) {\n\t\t\t\treturn error.call(this, \"Invalid frame length\");\n\t\t\t}\n\t\t\tif (typeof(frame[0]) != \"number\") {\n\t\t\t\treturn error.call(this, \"Invalid frame id\");\n\t\t\t}\n\t\t\tif (typeof(frame[1]) != \"string\") {\n\t\t\t\treturn error.call(this, \"Invalid frame name\");\n\t\t\t}\n\t\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".rtjp\",\"frameReceived:\", frame[0], frame[1], JSON.stringify(frame[2]));\n\t\t} catch(e) {\n\t\t\terror.call(this, e);\n\t\t}\n\n\t\tif (frame) {\n\t\t\tthis.frameReceived(frame[0], frame[1], frame[2]);\n\t\t}\n\t}\n\n\tthis.connectionLost = function() {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".rtjp\",'conn lost');\n\t}\n});\n\n\n\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/net/protocols/delimited.js": {
            "path": "../node_modules\\jsio\\packages/net/protocols/delimited.js",
            "friendlyPath": ".delimited",
            "directory": "../node_modules\\jsio\\packages/net/protocols",
            "filename": "delimited.js",
            "src": "jsio('import ..interfaces');\n\n/**\n * @extends net.interfaces.Protocol\n */\nexports.DelimitedProtocol=__class__;exports.DelimitedProtocol=exports.DelimitedProtocol(function exports_DelimitedProtocol(){return this.init&&this.init.apply(this,arguments)},interfaces.Protocol, function(supr) {\n\n\tthis.init = function(delimiter) {\n\t\tif (!delimiter) {\n\t\t\tdelimiter = '\\r\\n'\n\t\t}\n\t\tthis.delimiter = delimiter;\n\t\tthis.buffer = \"\"\n\t}\n\n\tthis.connectionMade = function() {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".delimited\",'connectionMade');\n\t}\n\n\tthis.dataReceived = function(data) {\n\t\tif (!data) { return; }\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".delimited\",'dataReceived:', data.length, data);\n\t\tthis.buffer += data;\n\t\tvar i;\n\t\twhile ((i = this.buffer.indexOf(this.delimiter)) != -1) {\n\t\t\tvar line = this.buffer.slice(0, i);\n\t\t\tthis.buffer = this.buffer.slice(i + this.delimiter.length);\n\t\t\tthis.lineReceived(line);\n\t\t}\n\t}\n\n\tthis.lineReceived = function(line) {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".delimited\",'Not implemented, lineReceived:', line);\n\t}\n\tthis.sendLine = function(line) {\n\t\tvar data = line + this.delimiter;\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".delimited\",'WRITE:', data);\n\t\tthis.transport && this.transport.write(data);\n\t}\n\tthis.connectionLost = function() {\n\t\tlogger.DEBUG&&console.debug(\"DEBUG\",\".delimited\",'connectionLost');\n\t}\n});\n\n",
            "pre": true
        },
        "src/serve/static/simulator/util/TargetCuppa.js": {
            "path": "src/serve/static/simulator/util/TargetCuppa.js",
            "friendlyPath": "..util.TargetCuppa",
            "directory": "src/serve/static/simulator/util/",
            "filename": "TargetCuppa.js",
            "src": "jsio('import lib.Callback');\njsio('import lib.PubSub');\n\njsio('from net.protocols.rtjp import RTJPProtocol');\n\nError=__class__;var Error=Error(function Error(){return this.init&&this.init.apply(this,arguments)},function() {\n  this.init = function(protocol, id, msg, details, requestId) {\n    this.id = id;\n    this.msg = msg;\n    this.details = details;\n    this.requestId = requestId;\n  }\n});\n\nRPCRequest=__class__;var RPCRequest=RPCRequest(function RPCRequest(){return this.init&&this.init.apply(this,arguments)},function() {\n  this.init = function(protocol, id) {\n    this.protocol = protocol;\n    this.id = id;\n    this._onError = new lib.Callback();\n    this._onSuccess = new lib.Callback();\n  }\n\n  this.onError = function() { this._onError.forward(arguments); }\n  this.onSuccess = function() { this._onSuccess.forward(arguments); }\n\n  this.bindLater = function(l) {\n    var args = [].slice(arguments, 1);\n    this._onError.forward([l, l.fail].concat(args));\n    this._onSuccess.forward([l, l.succed].concat(args));\n    return l;\n  }\n});\n\nReceivedRequest=__class__;var ReceivedRequest=ReceivedRequest(function ReceivedRequest(){return this.init&&this.init.apply(this,arguments)},function() {\n  this.type = \"request\"\n\n  this.init = function(protocol, id, name, args, target) {\n    this.protocol = protocol\n    this.id = id;\n    this.name = name\n    this.responded = false;\n    this.args = args;\n    this.target = target;\n  }\n\n  this.error = function(msg, details) {\n    if (this.responded) { throw new Error(\"already responded\"); }\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n    args = {\n      id: this.id,\n      msg: msg + \"\"\n    }\n    if (details !== undefined) { args.details = details }\n    this.responded = true;\n    this.protocol.sendFrame('ERROR', args);\n  }\n\n  this.respond = function(args) {\n    if (this.responded) { throw new Error(\"already responded\"); }\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n    this.responded = true;\n    this.protocol.sendFrame('RESPONSE', {\n      id: this.id,\n      args: args == undefined ? {} : args // python cuppa ignores responses with undefined args\n    });\n  }\n\n  this.timeoutAfter = function(duration, msg) {\n    if (this.responded) { return; }\n    if (this._timer) { clearTimeout(this._timer); }\n    this._timer = setTimeout(bind(this, '_timeout', msg), duration);\n  }\n\n  this._timeout = function(msg) {\n    if (!this.responded) {\n      this.error(msg);\n    }\n  }\n\n});\n\nReceivedEvent=__class__;var ReceivedEvent=ReceivedEvent(function ReceivedEvent(){return this.init&&this.init.apply(this,arguments)},function() {\n  this.init = function(protocol, id, name, args, target) {\n    this.id = id;\n    this.name = name;\n    this.args = args;\n    this.target = target;\n  }\n});\n\n/**\n * @extends net.protocols.rtjp.RTJPProtocol;\n */\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_util_TargetCuppa=__class__;exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_util_TargetCuppa(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_util_TargetCuppa(){return this.init&&this.init.apply(this,arguments)},RTJPProtocol, function(supr) {\n\n  var DEFAULT_TARGET = '___';\n\n  this.init = function() {\n    supr(this, 'init', arguments);\n\n    this._onConnect = new lib.Callback();\n    this._onDisconnect = new lib.Callback();\n\n    this._clients = {};\n    this._requests = {};\n    this._subs = {};\n\n    this._eventListeners = {};\n    this._requestListeners = {};\n  }\n\n  this.end =\n  this.disconnect = function() { this.transport.loseConnection(); }\n\n  // pass something to call (ctx, method, args...) when connected\n  this.onConnect = function() { this._onConnect.forward(arguments); }\n  this.onDisconnect = function() { this._onDisconnect.forward(arguments); }\n\n  this.reset = function() {\n    this._onConnect.reset();\n    this._onDisconnect.reset();\n  }\n\n  // called when we're connected\n  this.connectionMade = function() {\n    this._isConnected = true;\n    this._onConnect.fire();\n  }\n\n  this.connectionLost = function(err) {\n    for (var i in this._requests) {\n      var req = this._requests[i];\n      delete this._requests[i];\n      req._onError.fire(err);\n    }\n\n    this._isConnected = false;\n    this._onDisconnect.fire(err);\n  }\n\n  this.sendRequest = function(name, args, target, cb) {\n    if (arguments.length > 4) { // allow bound functions (e.g. [this, 'onResponse', 123])\n      cb = bind.apply(GLOBAL, Array.prototype.slice.call(arguments, 3));\n    }\n\n    var frameArgs = {\n      name: name,\n      args: args\n    };\n\n    if (target) { frameArgs.target = target; }\n\n    var id = this.sendFrame('RPC', frameArgs),\n      req = this._requests[id] = new RPCRequest(this, id);\n\n    if (cb) {\n      req.onSuccess(GLOBAL, cb, false); // will call cb(false, args...)\n      req.onError(GLOBAL, cb); // will call cb(err)\n    }\n\n    return req;\n  }\n\n  this.sendEvent = function(name, args, target) {\n    this.sendFrame('EVENT', {name: name, args: args, target: target || null});\n  }\n\n  this.frameReceived = function(id, name, args) {\n    logger.DEBUG&&console.debug(\"DEBUG\",\"..util.TargetCuppa\",'RECEIVED', id, name, args);\n    switch(name.toUpperCase()) {\n      case 'RESPONSE':\n        var req = this._requests[args.id];\n        if (!req) { return; }\n        delete this._requests[args.id];\n        req._onSuccess.fire(args.args);\n        break;\n      case 'ERROR':\n        var msg = args.msg || 'unknown',\n          requestId = args.id,\n          req = this._requests[requestId],\n          err = new Error(this, id, msg, args.details, requestId);\n\n        if (!req) {\n          return this.errorReceived && this.errorReceived(err);\n        } else {\n          delete this._requests[requestId];\n          req._onError.fire(err);\n        }\n        break;\n      case 'RPC':\n      case 'EVENT':\n        if (!args.name) {\n          return self.sendFrame('ERROR', { 'id': args.id || id, 'msg': 'missing \"name\"' });\n        }\n        var frameArgs = args.args || {};\n        var target = args.target || DEFAULT_TARGET;\n        var isRPC = name.toUpperCase() == 'RPC';\n        var reqCtor = isRPC ? ReceivedRequest : ReceivedEvent;\n        var listeners = isRPC ? this._requestListeners : this._eventListeners;\n        var req = new reqCtor(this, args.id || id, args.name, frameArgs, target);\n\n        if (target && listeners[target]) {\n          var cbs = listeners[target][req.name];\n          if (cbs) {\n            cbs.slice(0).forEach(function (cb) { cb(req); });\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  this.removeTarget = function (target) {\n    delete this._eventListeners[target];\n    delete this._requestListeners[target];\n  }\n\n  this.onRequest = function (name, target, cb) {\n    addCb(this._requestListeners, name, target, cb);\n  }\n\n  this.onEvent = function (name, target, cb) {\n    addCb(this._eventListeners, name, target, cb);\n  }\n\n  function addCb(listeners, name, target, cb) {\n    target = target || DEFAULT_TARGET;\n\n    if (!listeners[target]) {\n      listeners[target] = {};\n    }\n\n    if (!listeners[target][name]) {\n      listeners[target][name] = [];\n    }\n\n    listeners[target][name].push(cb);\n  }\n\n  this.getClient = function (target) {\n    if (!this._clients[target]) {\n      this._clients[target] = new TargetClient(this, target);\n    }\n\n    return this._clients[target];\n  }\n\n  TargetClient=__class__;var TargetClient=TargetClient(function TargetClient(){return this.init&&this.init.apply(this,arguments)},lib.PubSub, function () {\n    this.init = function (conn, target) {\n      this._conn = conn;\n      this._target = target;\n\n      this._onConnect = [];\n      this._onEvent = [];\n      this._onRequest = [];\n\n      this._conn.onConnect(bind(this, '_onConnectionMade'));\n    }\n\n    this.setConn = function (conn) {\n      if (this._conn) { this._removeListeners(); }\n      this._conn = conn;\n    }\n\n    this._onConnectionMade = function (conn) {\n      if (conn == this._conn) {\n        this._onConnect.forEach(function (cb) { cb && cb(); });\n      }\n    }\n\n    this.isConnected = function () { return this._conn.isConnected(); }\n\n    this.onConnect = function (cb) {\n      if (!cb) { return; }\n\n      if (this._conn.isConnected()) {\n        cb();\n      } else {\n        this._onConnect.push(cb);\n      }\n    }\n\n    this.onRequest = function (name, cb) {\n      this._conn.onRequest(name, this._target, cb);\n    }\n\n    this.onEvent = function (name, cb) {\n      this._conn.onEvent(name, this._target, cb);\n    }\n\n    this.end = function () {\n      this._removeListeners();\n    }\n\n    this._removeListeners = function () {\n      this._conn.removeTarget(this._target);\n    }\n\n    this.sendEvent = function (name, opts) {\n      this._conn.sendEvent(name, opts, this._target);\n    }\n\n    this.sendRequest = function (name, opts, cb) {\n      if (typeof opts == 'function') {\n        cb = opts;\n        opts = null;\n      }\n\n      this._conn.sendRequest(name, opts, this._target, cb);\n    }\n  });\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/Logger.js": {
            "path": "src/serve/static/simulator/components/Logger.js",
            "friendlyPath": ".components.Logger",
            "directory": "src/serve/static/simulator/components/",
            "filename": "Logger.js",
            "src": "jsio('import squill.Widget');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_Logger=__class__;module.exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_Logger(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_Logger(){return this.init&&this.init.apply(this,arguments)},squill.Widget, function (supr) {\n  this._def = {\n    children: [\n      {id: 'header', children: [\n        {id: 'title', text: 'log'},\n        {type: 'label', format: '%(status.errors)d errors, %(status.warnings)d warnings'}\n      ]},\n      {id: 'contents'}\n    ]\n  };\n\n  this.buildWidget = function () {\n    supr(this, 'buildWidget', arguments);\n\n    this._timers = {};\n\n    var model = this.getModel();\n    model.set('status.warnings', 0)\n      .set('status.errors', 0);\n\n    this.header.addEventListener('click', bind(this, 'toggle'));\n  };\n\n  this.setDevice = function (device) {\n    if (device == this._device) { return; }\n\n    if (this._client) { this._client.end(); }\n    this._client = null;\n\n    this._device = device;\n    var conn = device.getConn();\n    if (conn) {\n      this._setConn(device, conn);\n    } else {\n      device.on('conn', bind(this, '_setConn', device));\n    }\n  }\n\n  this._setConn = function (device, conn) {\n    var client = conn.getClient('devkit.logging');\n    this._client = client;\n    client.onEvent('LOG', bind(this, '_onLog'));\n    client.onRequest('TIMER_START', bind(this, '_onTimerStart'));\n    client.onEvent('TIMER_END', bind(this, '_onTimerEnd'))\n\n    this._addLine('system', 'connected to ' + device.getId());\n  }\n\n  this._onLog = function (evt) {\n    var type = evt.name.toLowerCase();\n\n    this._addLine(type, evt.args.msg);\n  }\n\n  var _timerUid = 0;\n  this._onTimerStart = function (req) {\n    var id = ++_timerUid;\n\n    this._timers[id] = {\n      name: req.args.name\n    };\n\n    req.respond({timerId: id});\n    this._addLine('info', (req.args.name || '') + ' starting...');\n  }\n\n  this._onTimerEnd = function (evt) {\n    var s = Math.floor(evt.args.delta / 1000);\n    var ms = evt.args.delta - s * 1000;\n    var time = (s ? s + 's' : '');\n    time += (time ? ' ' : '') + ms + 'ms';\n\n    var timer = this._timers[evt.args.timerId];\n    var name = timer && timer.name || '';\n    this._addLine('info', time + ' ' + name);\n  }\n\n  this._addLine = function (type, msg) {\n    var model = this.getModel();\n    if (type == 'warn') {\n      model.set('warnings', model.get('warnings') + 1);\n    }\n\n    if (type == 'error') {\n      model.set('errors', model.get('errors') + 1);\n    }\n\n    $({parent: this.contents, children: [\n        {text: Date.now(), className: 'time'},\n        {text: msg, className: 'msg'}\n      ]});\n  }\n\n  this.toggle = function () {\n    var el = this.getElement();\n    this._isExpanded = !this._isExpanded;\n    this.toggleClass('expanded');\n  };\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/viewInspector/index.js": {
            "path": "src/serve/static/simulator/components/viewInspector/index.js",
            "friendlyPath": ".components.viewInspector",
            "directory": "src/serve/static/simulator/components/viewInspector/",
            "filename": "index.js",
            "src": "jsio('from util.browser import $');\njsio('import squill.Widget as Widget');\n\njsio('import .DetailsWidget');\njsio('import .ViewNode');\n\nexports.ViewInspector=__class__;exports.ViewInspector=exports.ViewInspector(function exports_ViewInspector(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n  this._def = {\n    style: {\n      width: '650px'\n    },\n    children: [\n      {id: '_tree', children: [\n        // {id: '_moveBtn', tag: 'button', text: 'move'},\n        // {id: '_clearViewBtn', tag: 'button', text: 'clear'}\n      ]},\n      {id: '_details', type: DetailsWidget}\n    ]\n  };\n\n  this.init = function(opts) {\n    this._highlight = {timer: 0};\n    this._t = 0;\n    this._highlighted = {};\n\n    this._trace = {\n      list: [],\n      hash: {}\n    };\n\n    this._appID = opts.appID;\n\n    // keep a dictionary of all tree nodes for fast highlighting based on view uid\n    this._nodeIndex = {};\n\n    this._deepTrace = document.createElement(\"div\");\n    this._deepTrace.setAttribute(\"id\", \"_deepTrace\");\n    document.body.appendChild(this._deepTrace);\n\n    supr(this, 'init', arguments); //Widget.init\n\n    this._details.setInspector(this);\n\n    $.onEvent(this._tree, 'mouseover', this, function () {\n      this._disableHighlight = false;\n    });\n  };\n\n  this.setDevice = function (device) {\n    if (device == this._device) { return; }\n\n    if (this._client) { this._client.end(); }\n    this._client = null;\n\n    this._device = device;\n    var conn = device.getConn();\n    if (conn) {\n      this._setConn(device, conn);\n    } else {\n      device.on('conn', bind(this, '_setConn', device));\n    }\n  }\n\n  this._setConn = function (device, conn) {\n    if (device != this._device) { return; }\n\n    var client = conn.getClient('devkit.viewInspector');\n    this._client = client;\n\n    client.onEvent('INPUT_MOVE', bind(this, function (evt) {\n      this.onMouseMove(evt.args);\n    }));\n\n    client.onEvent('INPUT_SELECT', bind(this, function (evt) {\n      this.onMouseSelect(evt.args);\n    }));\n\n    client.onEvent('INPUT_TRACE', bind(this, function (evt) {\n      this.onTrace(evt.args);\n    }));\n\n    client.onEvent('POLL_VIEW_POSITION', bind(this, function (evt) {\n      if(evt.args.uid === this._highlightUID) this._highlightPos = evt.args;\n      if(evt.args.uid === this._selectedUID) this._selectedPos = evt.args;\n    }));\n\n    if (this._isShowing) {\n      this.startDebugging();\n    }\n  };\n\n  this.getClient = function () { return this._client; }\n\n  this.getViewProps = function (uid, cb) {\n    var client = this._client;\n    if (client && client.isConnected()) {\n      client.sendRequest('GET_VIEW_PROPS', {uid: uid}, cb);\n    }\n  };\n\n  this.setViewProp = function (uid, key, value, cb) {\n    var client = this._client;\n    if (client && client.isConnected()) {\n      client.sendRequest('SET_VIEW_PROP', {uid: uid, key: key, value: value}, cb);\n    }\n  };\n\n  this.setImage = function (uid, data, cb) {\n    var client = this._client;\n    if (client && client.isConnected()) {\n      client.sendRequest('REPLACE_IMAGE', {uid: uid, imgData: data}, cb);\n    }\n  };\n\n  this.startDebugging = function () {\n    if (!this._client) { return; }\n\n    if (this._unbindMouseout) {\n      this._unbindMouseout();\n      this._unbindMouseout = null;\n    }\n\n    var mouseOut = bind(this, 'onMouseOut');\n    var mouseOver = bind(this, 'onMouseOver');\n\n    var frame = this._device.getSimulator().getFrame();\n    if (frame) {\n      this._unbindMouseout = bind(frame, 'removeEventListener', 'mouseout', mouseOut, true);\n      frame.addEventListener('mouseout', mouseOut, true);\n      frame.addEventListener('mouseover', mouseOver, true);\n    }\n\n    this._connectMouseEvents();\n\n    if (this._node) {\n      this._node.destroy();\n    }\n\n    this._client.sendRequest('GET_ROOT_UID', bind(this, function (err, res) {\n      this._node = new ViewNode({\n          parent: this._tree,\n          inspector: this,\n          viewUID: res.uid,\n          id: 'rootNode'\n        });\n    }));\n  }\n\n  this.startTimer = function() {\n    if (!this._timer) {\n      this._timer = setInterval(bind(this, 'tick'), 20);\n    }\n  };\n\n  this.stopTimer = function() {\n    if (this._timer) {\n      clearInterval(this._timer);\n      this._timer = null;\n    }\n  };\n\n  this.buildWidget = function(el) { };\n\n  this.onMouseMove = function (evt) {\n    if (!this._timer) { return; }\n\n    this._trace.hash = {};\n    this._trace.list = evt.parents;\n    this._trace.autoExpand = {};\n    for (var i = 0, uid; uid = evt.parents[i]; ++i) {\n      this._trace.hash[uid] = true;\n      this._trace.autoExpand[uid] = true;\n    }\n\n    var targetUID = evt.parents[i - 1];\n    this.highlightView(targetUID);\n    this._mouseHoverView = targetUID;\n\n    this.updateTrace();\n  };\n\n  this.onMouseSelect = function (evt) {\n    if (!this._timer) { return; }\n\n    this._trace.hash = {};\n    this._trace.list = evt.parents;\n    for (var i = 0, uid; uid = evt.parents[i]; ++i) {\n      this._trace.hash[uid] = true;\n    }\n\n    var targetUID = evt.parents[i - 1];\n\n    this.selectView(targetUID);\n    //this.highlightView(targetUID);\n    //this._mouseHoverView = targetUID;\n\n    this.updateTrace();\n\n  };\n\n  this.onTrace = function (evt) {\n    if (!this._timer) { return; }\n\n    this.updateDeepTrace(evt);\n  }\n\n  function onOver(e) {\n    this._disableHighlight = false;\n    var uid = e.target.getAttribute(\"data-id\");\n    this.highlightView(+uid);\n  }\n\n  function onSelect(e) {\n    var uid = e.target.getAttribute(\"data-id\");\n    this.selectView(+uid);\n    this._deepTrace.style.display = \"none\";\n  }\n\n  var indent = 15; //indentation in pixel\n\n  this.updateDeepTrace = function (evt) {\n    var simulator = this._device.getSimulator();\n    var offset = simulator.getFrame().getBoundingClientRect();\n    var ratio = simulator.getDevicePixelRatio();\n    this._deepTrace.style.display = \"block\";\n    this._deepTrace.style.left = offset.left + evt.x / ratio + 5 + \"px\";\n    this._deepTrace.style.top = offset.top + evt.y / ratio + \"px\";\n\n    // document fragments perform much better for large amount of nodes\n    var frag = document.createDocumentFragment();\n    var i = evt.trace.length;\n    while (i--) {\n      // create the element\n      el = document.createElement(\"div\");\n      el.innerText = evt.trace[i].tag;\n\n      el.setAttribute(\"data-id\", evt.trace[i].uid);\n      if (evt.trace[i].uid == evt.target) {\n        el.setAttribute(\"class\", \"active\");\n      }\n\n      el.style.paddingLeft = indent * evt.trace[i].depth + 8 + \"px\";\n\n      // bind events\n      el.onmouseover = bind(this, onOver);\n      el.onclick = bind(this, onSelect);\n\n      // add to the fragment\n      frag.appendChild(el);\n    }\n\n    // cheap way to remove all children\n    this._deepTrace.innerHTML = \"\";\n    this._deepTrace.appendChild(frag);\n  }\n\n  // since expanding a node is async, we need to call updateTrace\n  // every time a new node expands so we can highlight the nodes\n  // along the trace.\n  this.updateTrace = function () {\n    for (var uid in this._highlighted) {\n      if (!(uid in this._trace.hash)) {\n        delete this._highlighted[uid];\n        var node = this._nodeIndex[uid];\n        node && node.highlight(false);\n      }\n    }\n\n    var end = this._trace.list.length - 1;\n    for (var i = 0, uid; uid = this._trace.list[i]; ++i) {\n      var node = this._nodeIndex[uid];\n      if (node) {\n        if (this._trace.autoExpand[uid]) {\n          delete this._trace.autoExpand[uid];\n          if (!node.isToggled()) {\n            node.toggle();\n          }\n        }\n\n        node.highlight(true, i == end);\n        this._highlighted[uid] = true;\n      }\n    }\n  };\n\n  this.onMouseOut = function () {\n    if (this._mouseHoverView == this._highlight.target) {\n      for (var uid in this._highlighted) {\n        var node = this._nodeIndex[uid];\n        node && node.highlight(false);\n      }\n\n      this._highlighted = {};\n      this.highlightView();\n      //disable any further highlighting until mouse over\n      this._disableHighlight = true;\n    }\n  };\n\n  //on mouse over, let highlighting happen again\n  this.onMouseOver = function () {\n    this._disableHighlight = false;\n  };\n\n  this.highlightView = function (viewUID) {\n    var highlight = this._highlight;\n    highlight.target = viewUID;\n\n    var detailView = viewUID || this._selectedUID;\n\n    //this flag prevents race conditions between mouse out and move\n    if (this._disableHighlight) {\n      detailView = this._selectedUID;\n    }\n\n    this._highlightUID = viewUID;\n\n    var client = this._client;\n    if (client && client.isConnected()) {\n      client.sendEvent('SET_HIGHLIGHT', {uid: detailView});\n    }\n\n    this._details.showView(detailView);\n  };\n\n  this.selectView = function (viewUID) {\n    if (this._selectedUID) {\n      var node = this._nodeIndex[this._selectedUID];\n      node && node.setSelected(false);\n    }\n\n    var node = this._nodeIndex[viewUID];\n    if (!node) {\n      return console.error(\"No node found for\", viewUID);\n    }\n\n    node.setSelected(true);\n    this._details.imageView(viewUID, node);\n\n    this._selectedUID = viewUID;\n\n    var client = this._client;\n    if (client && client.isConnected()) {\n      client.sendEvent('SET_SELECTED', {uid: viewUID});\n    }\n  };\n\n  var PERIOD = 8000;\n\n  this.tick = function() {\n    if (!this._node) { return; }\n\n    this._node.refresh();\n\n    var highlight = this._highlight;\n    if (!highlight.target) { return; }\n\n    var t = +new Date();\n    var dt = t - this._t;\n    this._t = t;\n\n    highlight.timer += dt;\n    if (highlight.timer > PERIOD) {\n      highlight.timer -= PERIOD;\n    }\n  };\n\n  this.toggle = function () {\n    this._isShowing = !this._isShowing;\n    if (this._isShowing) {\n      this.open();\n    } else {\n      this.close();\n    }\n  };\n\n  this.isOpen = function () { return this._isShowing; };\n\n  this.onShow = function() {\n    supr(this, 'onShow', arguments);\n\n    var style = this.getElement().style;\n    style.display = 'flex';\n    style.left = '0px';\n    style.opacity = 1;\n    this.startDebugging();\n\n    this.startTimer();\n  };\n\n  this.open = function () {\n    $.removeClass(this._el, 'closed');\n\n    this._isShowing = true;\n    this.show();\n\n    this.emit('open');\n  };\n\n  this.close = function() {\n    this._isShowing = false;\n    this.stopTimer();\n\n    // cancel the view position polling if it's active\n    this._disconnectMouseEvents();\n\n    $.addClass(this._el, 'closed');\n    var style = this._el.style;\n    style.left = -this._el.offsetWidth + 'px';\n    style.opacity = 0;\n\n    setTimeout(function () {\n      style.display = 'none';\n    }, 300);\n\n    this._selectedUID = null;\n    this._highlightUID = null;\n    this._client.sendEvent('SET_SELECTED', {uid: null});\n    this._client.sendEvent('SET_HIGHLIGHT', {uid: null});\n\n    this.stopTimer();\n    this.emit('close');\n  };\n\n  this._connectMouseEvents = function () {\n    if (this._client && this._client.isConnected()) {\n      this._client.sendRequest('ADD_MOUSE_EVT');\n    }\n  };\n\n  this._disconnectMouseEvents = function () {\n    if (this._client && this._client.isConnected()) {\n      this._client.sendEvent('POLL_VIEW_POSITION', {uid: null});\n      this._client.sendRequest('REMOVE_MOUSE_EVT');\n    }\n  };\n\n  this._addNode = function(id, node) { this._nodeIndex[id] = node; };\n  this._removeNode = function(id) { delete this._nodeIndex[id]; };\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/viewInspector/DetailsWidget.js": {
            "path": "src/serve/static/simulator/components/viewInspector/DetailsWidget.js",
            "friendlyPath": ".DetailsWidget",
            "directory": "src/serve/static/simulator/components/viewInspector/",
            "filename": "DetailsWidget.js",
            "src": "jsio('from util.browser import $');\njsio('import squill.Widget as Widget');\njsio('import .InputWidget');\n\nfunction noop(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  return false;\n}\n\nPropRow=__class__;var PropRow=PropRow(function PropRow(){return this.init&&this.init.apply(this,arguments)},Widget, function (supr) {\n  this.init = function (opts) {\n    var children = [];\n    this._def = {\n      className: 'propRow',\n      children: children\n    };\n\n    if (typeof opts.prop == 'string') { opts.prop = {title: opts.prop, id: opts.prop}; }\n\n    var props = opts.props || [opts.prop];\n    props.forEach(function (prop) {\n      children.push({className: 'propTitle', text: prop.title || prop.id}, {id: prop.id, type: InputWidget, prop: prop});\n    });\n\n    this._def.className += ' propCount' + props.length;\n\n    supr(this, 'init', arguments);\n\n    this.props = props;\n  }\n});\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_DetailsWidget=__class__;exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_DetailsWidget(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_DetailsWidget(){return this.init&&this.init.apply(this,arguments)},Widget, function (supr) {\n  this._def = {\n    children: [\n      {id: '_header', children: [\n        {text: 'editing: ', tag: 'span'},\n        {id: '_editorType', tag: 'span', text: 'simulator', type: 'label'},\n        {id: '_closeBtn', type: 'button', children: [{className: 'glyphicon glyphicon-remove'}]}\n      ]},\n      {id: 'details', children: [\n        {id: 'viewDetails', type: 'label'}\n      ]},\n      {id: 'detailsScroller', children: [\n        {className: 'propRow propSection', text: 'position'},\n        {type: PropRow, props: [{title: 'x', id: 'relX'}, {title: 'y', 'id': 'relY'}]},\n        {type: PropRow, prop: {title: 'r', id: 'relR', increment: 0.01}},\n        {type: PropRow, props: [{title: 'width', id: 'relWidth'}, {title: 'height', id: 'relHeight'}]},\n        {type: PropRow, prop: {title: 'scale', id: 'relScale'}},\n\n        {className: 'propRow propSection', text: 'style'},\n        {type: PropRow, prop: {id: 'opacity', min: 0, max: 1, increment: 0.01}},\n        {type: PropRow, prop: 'zIndex'},\n        {type: PropRow, prop: {id: 'visible', type: 'boolean'}},\n        {type: PropRow, props: [{title: 'anchor x', id: 'anchorX'}, {title: 'y', id: 'anchorY'}]},\n        {type: PropRow, props: [{title: 'offset x', id: 'offsetX'}, {title: 'y', id: 'offsetY'}]},\n        {type: PropRow, prop: {id: 'clip', type: 'boolean'}},\n        {type: PropRow, prop: {id: 'inLayout', type: 'boolean'}},\n        {type: PropRow, prop: 'order'},\n        {type: PropRow, prop: 'flex'},\n        {type: PropRow, prop: 'layout'},\n\n        {id: 'boxProps', children: [\n          {className: 'propRow propSection', text: 'box layout'},\n          {type: PropRow, props: [{id: 'left'}, {id: 'right'}]},\n          {type: PropRow, props: [{id: 'top'}, {id: 'bottom'}]},\n\n          {type: PropRow, props: [{id: 'minWidth'}, {title: 'height', id: 'minHeight'}]},\n          {type: PropRow, props: [{id: 'maxWidth'}, {title: 'height', id: 'maxHeight'}]},\n          {type: PropRow, props: [{id: 'layoutWidth'}, {title: 'height', id: 'layoutHeight'}]},\n          {type: PropRow, props: [{id: 'centerX', type: 'boolean'}, {id: 'centerY', type: 'boolean'}]},\n\n        ]},\n\n        {id: 'linearProps', children: [\n          {className: 'propRow propSection', text: 'linear layout'},\n          {type: PropRow, prop: 'subviews'},\n          {type: PropRow, prop: 'direction'},\n          {type: PropRow, prop: 'justifyContent'},\n          {type: PropRow, prop: {id: 'padding', type: 'string'}},\n        ]},\n\n        {className: 'propRow propSection', text: 'absolute position'},\n        {type: PropRow, props: [{title: 'x', id: 'absX'}, {title: 'y', 'id': 'absY'}]},\n        {type: PropRow, prop: {title: 'r', id: 'absR', increment: 0.01}},\n        {type: PropRow, props: [{title: 'width', id: 'absWidth'}, {title: 'height', id: 'absHeight'}]},\n        {type: PropRow, prop: {title: 'scale', id: 'absScale'}},\n\n        {tag: 'div', id: 'dropArea', text: 'Drop Here \\u2193', children: [\n          {tag: 'button', id: 'saveImg', text: \"save image\"}\n        ]}\n      ]}\n    ]\n  };\n\n  this.buildWidget = function () {\n\n    this._children.forEach(function (child) {\n      if (child instanceof PropRow) {\n        child.props.forEach(function (prop) {\n          this[prop.id] = child[prop.id];\n          this[prop.id].subscribe('ValueChange', this, '_onValueChange', prop.id);\n        }, this);\n      }\n    }, this);\n  };\n\n  this.delegate = function (key) {\n    if (key == '_closeBtn') {\n      this._inspector.close();\n    }\n  }\n\n  this._onValueChange = function (key) {\n    if (this._viewUID) {\n      var value = this[key].getValue();\n      this._inspector.setViewProp(this._viewUID, key, value);\n    }\n  };\n\n  this.setInspector = function (inspector) {\n    this._inspector = inspector;\n  };\n\n  this.imageView = function (uid, node) {\n    // get the view properties\n    this._inspector.getViewProps(uid, bind(this, function (err, res) {\n      if (err) return;\n\n      // show the drop area\n      this.dropArea.style.display = res.isImageView ? \"block\" : \"none\";\n\n      //if already data set, show save button\n      if (!node.currentImage || !node.currentImage.data) {\n        this.saveImg.style.display = \"none\";\n      } else {\n        this.saveImg.style.display = \"block\";\n      }\n\n      if (res.isImageView) {\n        //create the object if not set\n        if (!node.currentImage) {\n          node.currentImage = {};\n        }\n\n        //update the uid and path\n        node.currentImage.uid = uid;\n        node.currentImage.path = res.imagePath;\n      } else {\n        //delete the property\n        delete node['currentImage'];\n      }\n    }));\n  }\n\n  this.showView = function (uid) {\n    this._viewUID = uid;\n\n    if (uid) {\n      this._inspector.getViewProps(uid, bind(this, function (err, res) {\n        if (res) {\n          this.viewDetails.setText(res.description);\n          if (res.layout == 'linear') {\n            $.show(this.linearProps);\n          } else {\n            $.hide(this.linearProps);\n          }\n\n          for (var key in res) {\n            if (this[key] && this[key].setValue) {\n              this[key].setValue(res[key]);\n            }\n          }\n        }\n      }));\n    }\n  };\n\n  this.hideProps = function () {\n    for (var i = 0, p; p = arguments[i]; ++i) {\n      $.hide(this['_row' + p]);\n    }\n  }\n\n  this.showProps = function () {\n    for (var i = 0, p; p = arguments[i]; ++i) {\n      $.show(this['_row' + p]);\n    }\n  }\n\n  this.init = function() {\n    supr(this, \"init\", arguments);\n\n    this.dropArea.addEventListener(\"dragenter\", noop, false);\n    this.dropArea.addEventListener(\"dragexit\", bind(this, function(e) {\n      this.dropArea.className = \"\";\n      return noop(e);\n    }), false);\n\n    //modify the styles\n    this.dropArea.addEventListener(\"dragover\", bind(this, function(e) {\n      this.dropArea.className = \"over\";\n      return noop(e);\n    }), false);\n\n    this.dropArea.addEventListener(\"drop\", bind(this, this.dropImage), false);\n\n    this.saveImg.addEventListener(\"click\", bind(this, this.saveImage), false);\n  };\n\n  this.dropImage = function(e) {\n    var files = e.dataTransfer.files;\n    var count = files.length;\n    var file  = files[0];\n\n    if (count < 1) {\n      return console.log(\"No image found\");\n    }\n\n    var reader = new FileReader();\n    reader.onload = bind(this, function(evt) {\n      //set the preview\n      if (!currentNode || !currentNode.currentImage) return;\n\n      this._inspector.setImage(currentNode.currentImage.uid, evt.target.result);\n      currentNode.currentImage.data = evt.target.result;\n    });\n\n    reader.readAsDataURL(file);\n\n    this.saveImg.style.display = \"block\";\n    return noop(e);\n  }\n\n  this.saveImage = function() {\n    var img = currentNode && currentNode.currentImage;\n    if (!img) return;\n\n    var path = encodeURIComponent(img.path.substr(10));\n\n    util.ajax.post({\n      url: \"/art/replaceImage/\" + this._opts.appID + \"/\" + path,\n      data: {data: img.data},\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }, bind(this, function(err, resp) {\n      if (!err) {\n        delete currentNode.currentImage.data;\n        this.saveImg.style.display = \"none\";\n      }\n    }));\n  }\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/viewInspector/InputWidget.js": {
            "path": "src/serve/static/simulator/components/viewInspector/InputWidget.js",
            "friendlyPath": ".InputWidget",
            "directory": "src/serve/static/simulator/components/viewInspector/",
            "filename": "InputWidget.js",
            "src": "jsio('import squill.Widget as Widget');\njsio('from util.browser import $');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_InputWidget=__class__;exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_InputWidget(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_InputWidget(){return this.init&&this.init.apply(this,arguments)},Widget, function (supr) {\n  this._def = {\n    children: [\n      {type: 'text', id: '_value'}\n    ]\n  };\n\n  this.buildWidget = function () {\n    this._value.subscribe('ValueChange', this, 'publish', 'ValueChange');\n    this._value.subscribe('Blur', this, '_onBlur');\n    this._value.subscribe('Focus', this, '_onFocus');\n\n    this._value.subscribe('Down', this, '_onMouseDown');\n    this._value.subscribe('KeyDown', this, '_onKeyDown');\n\n    var inputEl = this._value.getInputElement();\n\n    var prop = this._opts.prop || {};\n\n    if (prop.readOnly) {\n      this._isReadyOnly = true;\n      inputEl.style.cursor = 'default';\n    }\n\n    switch (prop.type) {\n      case 'boolean':\n        this._type = 'boolean';\n        inputEl.style.cursor = 'pointer';\n        break;\n      case 'string':\n        this._type = 'string';\n        break;\n      case 'number':\n      default:\n        this._type = 'number';\n        if ('min' in prop) {\n          this._min = prop.min;\n        }\n\n        if ('max' in prop) {\n          this._max = prop.max;\n        }\n\n        this._increment = prop.increment;\n        break;\n    }\n\n    this.initMouseEvents();\n  };\n\n  this._onMouseDown = function (e) {\n    if (this._isReadyOnly) {\n      $.stopEvent(e);\n      return;\n    }\n\n    if (this._type == 'boolean') {\n      this._setValue(!this.getValue());\n      $.stopEvent(e);\n    }\n  };\n\n  this._onFocus = function () {\n    switch (this._type) {\n      case 'boolean':\n        this._value.getElement().blur();\n        break;\n    }\n  };\n\n  this._onBlur = function () {\n    this.setValue(this.getValue());\n  };\n\n  // set and publish\n  this._setValue = function (value) {\n    this.setValue(value);\n    this.publish('ValueChange', this._value.getValue());\n  };\n\n  this.setValue = function (value) {\n    this._lastValue = value;\n\n    switch (this._type) {\n      case 'number':\n        if (value == undefined) { value = '-'; }\n        this._value.setValue(value);\n        break;\n      case 'boolean':\n        this._value.setValue(value ? 'true' : 'false');\n        break;\n      case 'string':\n      default:\n        this._value.setValue('' + value);\n        break;\n    }\n  };\n\n\n  // ugly way to do fixed-point sum\n  // e.g. 0.06 - 0.01 should be 0.05 (not 0.049999999999999996)\n  function add(value, incr) {\n    var sum = value + incr;\n    var str = incr.toString().split(\".\");\n    if (str.length > 1) {\n      var frac = str[1].length;\n      sum = +sum.toFixed(frac);\n    }\n\n    return sum;\n  }\n\n  this._onKeyDown = function (evt) {\n    switch (evt.keyCode) {\n      case 37: // left\n        break;\n      case 38: // up\n        this._setValue(add(this.getValue(), (this._increment || 1)));\n        $.stopEvent(evt);\n        break;\n      case 39: // right\n        break;\n      case 40: // down\n        this._setValue(add(this.getValue(), -(this._increment || 1)));\n        $.stopEvent(evt);\n        break;\n    }\n  };\n\n  this.getValue = function () {\n    switch (this._type) {\n      case 'number':\n        var val = this._value.getValue();\n        if (val == '-') { return undefined; }\n\n        val = parseFloat(val);\n        if (('_max' in this) && val > this._max) {\n          val = this._max;\n        }\n\n        if (('_min' in this) && val < this._min) {\n          val = this._min;\n        }\n\n        if (isNaN(val)) {\n          return this._lastValue;\n        } else {\n          return val;\n        }\n      case 'boolean':\n        return this._value.getValue() == 'true';\n      default:\n      case 'string':\n        return this._value.getValue();\n    }\n  };\n});\n",
            "pre": true
        },
        "src/serve/static/simulator/components/viewInspector/ViewNode.js": {
            "path": "src/serve/static/simulator/components/viewInspector/ViewNode.js",
            "friendlyPath": ".ViewNode",
            "directory": "src/serve/static/simulator/components/viewInspector/",
            "filename": "ViewNode.js",
            "src": "jsio('from util.browser import $');\njsio('from util.underscore import _');\n\njsio('import squill.Widget as Widget');\n\nvar c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_ViewNode=__class__;var ViewNode = exports=c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_ViewNode(function c__Users_Surface_cloud_devkit_src_serve_static_simulator_components_viewInspector_ViewNode(){return this.init&&this.init.apply(this,arguments)},Widget, function(supr) {\n\n  this._def = {\n    className: 'viewNode',\n    children: [\n      {id: '_label', className: 'label', children: [\n        {id: '_toggleBtn', className: 'toggleBtn'},\n        {id: '_labelText', tag: 'span', type: 'label'}\n      ]},\n      {id: '_childNodes', className: 'children'}\n    ]\n  };\n\n  this.init = function (opts) {\n    this._inspector = opts.inspector;\n\n    this._viewUID = opts.viewUID;\n    this._indent = opts.indent || 0;\n    this._subs = [];\n    this._nodes = [];\n    this._getChildren = opts.getChildren === undefined ? true : !!opts.getChildren;\n\n    supr(this, 'init', arguments);\n  };\n\n  this.getViewUID = function() { return this._viewUID; };\n\n  this.buildWidget = function(el) {\n    var uid = this._viewUID;\n\n    $.style(this._label, {paddingLeft: 10 + this._indent * 15 + 'px'});\n\n    this._isToggled = false;\n\n    this.refresh();\n\n    this._subs.push(\n      $.onEvent(this._label, 'click', this, 'toggle'),\n      $.onEvent(this._label, 'click', this, 'select'),\n      $.onEvent(this._label, 'mouseover', this._inspector, 'highlightView', uid),\n      $.onEvent(this._label, 'mouseout', this._inspector, 'highlightView', null)\n    );\n\n    this._inspector._addNode(this._viewUID, this);\n  };\n\n  this.select = function () {\n    this._inspector.selectView(this._viewUID);\n    this._inspector.highlightView(this._viewUID);\n  };\n\n  this.highlight = function (isHighlighted, atTarget) {\n    var state = '' + isHighlighted + atTarget;\n    if (this._state == state) { return; }\n    this._state = state;\n\n    if (isHighlighted) {\n      if (atTarget === false) {\n        $.addClass(this._el, 'highlightParent');\n        $.removeClass(this._el, 'highlight');\n      } else {\n        $.addClass(this._el, 'highlight');\n        $.removeClass(this._el, 'highlightParent');\n      }\n    } else {\n      $.removeClass(this._el, 'highlight');\n      $.removeClass(this._el, 'highlightParent');\n    }\n  };\n\n  this.show = function() {\n    this._inspector.highlightView(this._viewUID);\n  };\n\n  this.destroy = function() {\n    for (var i = 0, unsubscribe; unsubscribe = this._subs[i]; ++i) {\n      unsubscribe();\n    }\n\n    for (var i = 0, node; node = this._nodes[i]; ++i) {\n      node.destroy();\n    }\n\n    $.remove(this._el);\n\n    this._inspector._removeNode(this._viewUID);\n    this._viewUID = null;\n  };\n\n  var SEND_GET_RATE = 500; //how much in milliseconds the GET_VIEW event should be throttled\n  this.refresh = function() {\n    if (!this._inspector) return;\n    var client = this._inspector.getClient();\n\n    if (!this.sendGetView) {\n      this.sendGetView = _.throttle(bind(this, function () {\n        if (!client || !client.isConnected() || !this._getChildren || !this._viewUID) { return; }\n\n        client.sendRequest('GET_VIEW', {uid: this._viewUID}, bind(this, function (err, res) {\n          if (err || !this._inspector) {\n            logger.WARN&&console.warn(\"WARN\",\".ViewNode\",err);\n            return;\n          }\n\n          var view = this._view = res;\n\n          // update the view style of the node\n          if (view.tag != this._tag) {\n            this._tag = view.tag;\n            $.setText(this._labelText, view.tag);\n          }\n\n          this._hasChildren = view.subviewIDs && (view.subviewIDs.length > 0);\n          this.updateToggleText();\n\n          // if toggled, refresh the children\n          if (this._isToggled) {\n            // make a copy of the nodes\n            var uids = {};\n            for (var i = 0, n; n = this._nodes[i]; ++i) {\n              uids[n.getViewUID()] = n;\n            }\n\n            // refresh the list of nodes, reusing existing nodes\n            this._nodes = [];\n            for (var i = 0, uid; uid = view.subviewIDs[i]; ++i) {\n              if (uid in uids) {\n                // reuse and reorder\n                this._nodes[i] = uids[uid];\n                delete uids[uid];\n                this._nodes[i].refresh();\n                if (i > 0 && this._nodes[i]._el.previousSibling != this._nodes[i - 1]._el) {\n                  this._childNodes.insertBefore(this._nodes[i]._el, this._nodes[i - 1]._el.nextSibling);\n                }\n              } else {\n                // or create a new one\n                this._nodes[i] = new ViewNode({\n                  inspector: this._inspector,\n                  viewUID: uid,\n                  parent: this._childNodes,\n                  indent: this._indent + 1\n                });\n              }\n            }\n\n            // destroy any nodes that weren't reused\n            for (var uid in uids) {\n              uids[uid].destroy();\n            }\n\n            // trace is displayed asynchronously\n            this._inspector.updateTrace();\n          }\n        }));\n      }), SEND_GET_RATE); //change this if it's too slow\n    }\n\n    this.sendGetView();\n  };\n\n  this.setSelected = function (isSelected) {\n    if (isSelected) {\n      $.addClass(this._el, 'selected');\n    } else {\n      $.removeClass(this._el, 'selected');\n    }\n  };\n\n  this.updateToggleText = function () {\n    var text = !this._hasChildren ? '\\u25CF'\n        : this._isToggled ? '\\u25BC'\n        : '\\u25B6';\n\n    if (text != this._toggleText) {\n      $.setText(this._toggleBtn, text);\n      this._toggleText = text;\n    }\n  };\n\n  this.isToggled = function() { return this._isToggled; };\n\n  this.toggle = function() {\n    this._isToggled = !this._isToggled;\n    this.updateToggleText();\n    $.style(this._childNodes, {display: this._isToggled ? 'block' : 'none'});\n  };\n});\n\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/util/underscore.js": {
            "path": "../node_modules\\jsio\\packages/util/underscore.js",
            "friendlyPath": "util.underscore",
            "directory": "../node_modules\\jsio\\packages/util",
            "filename": "underscore.js",
            "src": "//     Underscore.js 1.6.0\n//     http://underscorejs.org\n//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Establish the object that gets returned to break out of a loop iteration.\n  var breaker = {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    concat           = ArrayProto.concat,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeForEach      = ArrayProto.forEach,\n    nativeMap          = ArrayProto.map,\n    nativeReduce       = ArrayProto.reduce,\n    nativeReduceRight  = ArrayProto.reduceRight,\n    nativeFilter       = ArrayProto.filter,\n    nativeEvery        = ArrayProto.every,\n    nativeSome         = ArrayProto.some,\n    nativeIndexOf      = ArrayProto.indexOf,\n    nativeLastIndexOf  = ArrayProto.lastIndexOf,\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object via a string identifier,\n  // for Closure Compiler \"advanced\" mode.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.6.0';\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles objects with the built-in `forEach`, arrays, and raw objects.\n  // Delegates to **ECMAScript 5**'s native `forEach` if available.\n  var each = _.each = _.forEach = function(obj, iterator, context) {\n    if (obj == null) return obj;\n    if (nativeForEach && obj.forEach === nativeForEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, length = obj.length; i < length; i++) {\n        if (iterator.call(context, obj[i], i, obj) === breaker) return;\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (var i = 0, length = keys.length; i < length; i++) {\n        if (iterator.call(context, obj[keys[i]], keys[i], obj) === breaker) return;\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iterator to each element.\n  // Delegates to **ECMAScript 5**'s native `map` if available.\n  _.map = _.collect = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n    each(obj, function(value, index, list) {\n      results.push(iterator.call(context, value, index, list));\n    });\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\n  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduce && obj.reduce === nativeReduce) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n    }\n    each(obj, function(value, index, list) {\n      if (!initial) {\n        memo = value;\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, value, index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.\n  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);\n    }\n    var length = obj.length;\n    if (length !== +length) {\n      var keys = _.keys(obj);\n      length = keys.length;\n    }\n    each(obj, function(value, index, list) {\n      index = keys ? keys[--length] : --length;\n      if (!initial) {\n        memo = obj[index];\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, obj[index], index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var result;\n    any(obj, function(value, index, list) {\n      if (predicate.call(context, value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Delegates to **ECMAScript 5**'s native `filter` if available.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(predicate, context);\n    each(obj, function(value, index, list) {\n      if (predicate.call(context, value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, function(value, index, list) {\n      return !predicate.call(context, value, index, list);\n    }, context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Delegates to **ECMAScript 5**'s native `every` if available.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate || (predicate = _.identity);\n    var result = true;\n    if (obj == null) return result;\n    if (nativeEvery && obj.every === nativeEvery) return obj.every(predicate, context);\n    each(obj, function(value, index, list) {\n      if (!(result = result && predicate.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Delegates to **ECMAScript 5**'s native `some` if available.\n  // Aliased as `any`.\n  var any = _.some = _.any = function(obj, predicate, context) {\n    predicate || (predicate = _.identity);\n    var result = false;\n    if (obj == null) return result;\n    if (nativeSome && obj.some === nativeSome) return obj.some(predicate, context);\n    each(obj, function(value, index, list) {\n      if (result || (result = predicate.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;\n    return any(obj, function(value) {\n      return value === target;\n    });\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matches(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matches(attrs));\n  };\n\n  // Return the maximum element or (element-based computation).\n  // Can't optimize arrays of integers longer than 65,535 elements.\n  // See [WebKit Bug 80797](https://bugs.webkit.org/show_bug.cgi?id=80797)\n  _.max = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.max.apply(Math, obj);\n    }\n    var result = -Infinity, lastComputed = -Infinity;\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      if (computed > lastComputed) {\n        result = value;\n        lastComputed = computed;\n      }\n    });\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.min.apply(Math, obj);\n    }\n    var result = Infinity, lastComputed = Infinity;\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      if (computed < lastComputed) {\n        result = value;\n        lastComputed = computed;\n      }\n    });\n    return result;\n  };\n\n  // Shuffle an array, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  _.shuffle = function(obj) {\n    var rand;\n    var index = 0;\n    var shuffled = [];\n    each(obj, function(value) {\n      rand = _.random(index++);\n      shuffled[index - 1] = shuffled[rand];\n      shuffled[rand] = value;\n    });\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (obj.length !== +obj.length) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // An internal function to generate lookup iterators.\n  var lookupIterator = function(value) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return value;\n    return _.property(value);\n  };\n\n  // Sort the object's values by a criterion produced by an iterator.\n  _.sortBy = function(obj, iterator, context) {\n    iterator = lookupIterator(iterator);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iterator.call(context, value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iterator, context) {\n      var result = {};\n      iterator = lookupIterator(iterator);\n      each(obj, function(value, index) {\n        var key = iterator.call(context, value, index, obj);\n        behavior(result, key, value);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, key, value) {\n    _.has(result, key) ? result[key].push(value) : result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, key, value) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, key) {\n    _.has(result, key) ? result[key]++ : result[key] = 1;\n  });\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iterator, context) {\n    iterator = lookupIterator(iterator);\n    var value = iterator.call(context, obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\n    }\n    return low;\n  };\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if ((n == null) || guard) return array[0];\n    if (n < 0) return [];\n    return slice.call(array, 0, n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if ((n == null) || guard) return array[array.length - 1];\n    return slice.call(array, Math.max(array.length - n, 0));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, (n == null) || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, output) {\n    if (shallow && _.every(input, _.isArray)) {\n      return concat.apply(output, input);\n    }\n    each(input, function(value) {\n      if (_.isArray(value) || _.isArguments(value)) {\n        shallow ? push.apply(output, value) : flatten(value, shallow, output);\n      } else {\n        output.push(value);\n      }\n    });\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Split an array into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(array, predicate) {\n    var pass = [], fail = [];\n    each(array, function(elem) {\n      (predicate(elem) ? pass : fail).push(elem);\n    });\n    return [pass, fail];\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iterator, context) {\n    if (_.isFunction(isSorted)) {\n      context = iterator;\n      iterator = isSorted;\n      isSorted = false;\n    }\n    var initial = iterator ? _.map(array, iterator, context) : array;\n    var results = [];\n    var seen = [];\n    each(initial, function(value, index) {\n      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {\n        seen.push(value);\n        results.push(array[index]);\n      }\n    });\n    return results;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(_.flatten(arguments, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var rest = slice.call(arguments, 1);\n    return _.filter(_.uniq(array), function(item) {\n      return _.every(rest, function(other) {\n        return _.contains(other, item);\n      });\n    });\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\n    return _.filter(array, function(value){ return !_.contains(rest, value); });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    var length = _.max(_.pluck(arguments, 'length').concat(0));\n    var results = new Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(arguments, '' + i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, length = list.length; i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\n  // we need this function. Return the position of the first occurrence of an\n  // item in an array, or -1 if the item is not included in the array.\n  // Delegates to **ECMAScript 5**'s native `indexOf` if available.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, length = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = (isSorted < 0 ? Math.max(0, length + isSorted) : isSorted);\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);\n    for (; i < length; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var hasIndex = from != null;\n    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {\n      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);\n    }\n    var i = (hasIndex ? from : array.length);\n    while (i--) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = arguments[2] || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var idx = 0;\n    var range = new Array(length);\n\n    while(idx < length) {\n      range[idx++] = start;\n      start += step;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Reusable constructor function for prototype setting.\n  var ctor = function(){};\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    var args, bound;\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError;\n    args = slice.call(arguments, 2);\n    return bound = function() {\n      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));\n      ctor.prototype = func.prototype;\n      var self = new ctor;\n      ctor.prototype = null;\n      var result = func.apply(self, args.concat(slice.call(arguments)));\n      if (Object(result) === result) return result;\n      return self;\n    };\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    return function() {\n      var position = 0;\n      var args = boundArgs.slice();\n      for (var i = 0, length = args.length; i < length; i++) {\n        if (args[i] === _) args[i] = arguments[position++];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return func.apply(this, args);\n    };\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var funcs = slice.call(arguments, 1);\n    if (funcs.length === 0) throw new Error('bindAll must be passed function names');\n    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memo = {};\n    hasher || (hasher = _.identity);\n    return function() {\n      var key = hasher.apply(this, arguments);\n      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\n    };\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){ return func.apply(null, args); }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    options || (options = {});\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n        context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n      if (last < wait) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n      }\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = function(func) {\n    var ran = false, memo;\n    return function() {\n      if (ran) return memo;\n      ran = true;\n      memo = func.apply(this, arguments);\n      func = null;\n      return memo;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var funcs = arguments;\n    return function() {\n      var args = arguments;\n      for (var i = funcs.length - 1; i >= 0; i--) {\n        args = [funcs[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = new Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = new Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    each(keys, function(key) {\n      if (key in obj) copy[key] = obj[key];\n    });\n    return copy;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    for (var key in obj) {\n      if (!_.contains(keys, key)) copy[key] = obj[key];\n    }\n    return copy;\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          if (obj[prop] === void 0) obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a == 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className != toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, dates, and booleans are compared by value.\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return a == String(b);\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for\n        // other numeric values.\n        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a == +b;\n      // RegExps are compared by their source patterns and flags.\n      case '[object RegExp]':\n        return a.source == b.source &&\n               a.global == b.global &&\n               a.multiline == b.multiline &&\n               a.ignoreCase == b.ignoreCase;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] == a) return bStack[length] == b;\n    }\n    // Objects with different constructors are not equivalent, but `Object`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&\n                             _.isFunction(bCtor) && (bCtor instanceof bCtor))\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size = 0, result = true;\n    // Recursively compare objects and arrays.\n    if (className == '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size == b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Deep compare objects.\n      for (var key in a) {\n        if (_.has(a, key)) {\n          // Count the expected number of properties.\n          size++;\n          // Deep compare each member.\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n      // Ensure that both objects contain the same number of properties.\n      if (result) {\n        for (key in b) {\n          if (_.has(b, key) && !(size--)) break;\n        }\n        result = !size;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    return obj === Object(obj);\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) == '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return !!(obj && _.has(obj, 'callee'));\n    };\n  }\n\n  // Optimize `isFunction` if appropriate.\n  if (typeof (/./) !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj === 'function';\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj != +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iterators.\n  _.identity = function(value) {\n    return value;\n  };\n\n  _.constant = function(value) {\n    return function () {\n      return value;\n    };\n  };\n\n  _.property = function(key) {\n    return function(obj) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of `key:value` pairs.\n  _.matches = function(attrs) {\n    return function(obj) {\n      if (obj === attrs) return true; //avoid comparing an object to itself.\n      for (var key in attrs) {\n        if (attrs[key] !== obj[key])\n          return false;\n      }\n      return true;\n    }\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iterator, context) {\n    var accum = Array(Math.max(0, n));\n    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() { return new Date().getTime(); };\n\n  // List of HTML entities for escaping.\n  var entityMap = {\n    escape: {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;'\n    }\n  };\n  entityMap.unescape = _.invert(entityMap.escape);\n\n  // Regexes containing the keys and values listed immediately above.\n  var entityRegexes = {\n    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),\n    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  _.each(['escape', 'unescape'], function(method) {\n    _[method] = function(string) {\n      if (string == null) return '';\n      return ('' + string).replace(entityRegexes[method], function(match) {\n        return entityMap[method][match];\n      });\n    };\n  });\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return void 0;\n    var value = object[property];\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\t':     't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  _.template = function(text, data, settings) {\n    var render;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = new RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset)\n        .replace(escaper, function(match) { return '\\\\' + escapes[match]; });\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      }\n      if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      }\n      if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + \"return __p;\\n\";\n\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    if (data) return render(data, _);\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled function source as a convenience for precompilation.\n    template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function, which will delegate to the wrapper.\n  _.chain = function(obj) {\n    return _(obj).chain();\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  _.extend(_.prototype, {\n\n    // Start chaining a wrapped Underscore object.\n    chain: function() {\n      this._chain = true;\n      return this;\n    },\n\n    // Extracts the result from a wrapped and chained object.\n    value: function() {\n      return this._wrapped;\n    }\n\n  });\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}).call(this);\n",
            "pre": true
        },
        "node_modules/ff/lib/ff.js": {
            "path": "node_modules/ff/lib/ff.js",
            "friendlyPath": "ff",
            "directory": "node_modules/ff/lib/",
            "filename": "ff.js",
            "baseMod": "ff",
            "basePath": "c:\\Users\\Surface\\cloud\\devkit/node_modules/ff/lib//ff",
            "src": "/*\n Copyright (c) 2011 Tim Caswell <tim@creationix.com>\n Copyright (c) 2012 Marcus Cavanaugh <m@mcav.com>\n Copyright (c) 2012 Michael Henretty <michael.henretty@gmail.com>\n\n MIT License\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n// This is ff, by Marcus Cavanaugh and Michael Henretty.\n// It was inspired by TwoStep by Tim Caswell (https://gist.github.com/1524578),\n// which was in turn inspired by Will Conant's flow-js.\n\n(function () {\n\n\tvar slice = Array.prototype.slice;\n\n\tfunction isPromise(maybePromise) {\n\t\treturn maybePromise && typeof maybePromise.then === \"function\";\n\t}\n\n\tfunction copyToFunction (group, f) {\n\t\tfor (var method in group) {\n\t\t\tif (typeof group[method] === \"function\") {\n\t\t\t\tf[method] = (function(method) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\treturn group[method].apply(group, arguments);\n\t\t\t\t\t};\n\t\t\t\t})(method);\n\t\t\t}\n\t\t}\n\t}\n\n\t//****************************************************************\n\n\tfunction Group(superGroup, callback, firstSlotCallback) {\n\t\tthis.args = [null];\n\t\tthis.left = 0;\n\t\tthis.callback = callback;\n\t\tthis.isDone = false;\n\t\tthis.firstSlotCallback = firstSlotCallback; // mcav\n\t\tthis.superGroup = superGroup;\n\t}\n\n\tGroup.prototype.done = function done() {\n\t\tif (this.isDone) return;\n\t\tthis.isDone = true;\n\t\tthis.callback.apply(null, this.args);\n\t};\n\n\tGroup.prototype.succeed = function () {\n\t\tif (this.isDone) return;\n\t\tthis.isDone = true;\n\t\tthis.superGroup.result = [null].concat(slice.call(arguments));\n\t\t\n\t\tif (!this.superGroup.started) {\n\t\t\t// if we didn't start the chain of .next() steps,\n\t\t\t// just call the final results immediately.\n\t\t\tthis.superGroup._runResultHandlers.apply(this.superGroup, this.superGroup.result);\n\t\t}\n\t};\n\n\tGroup.prototype.fail = function (err) {\n\t\tif (this.isDone) return;\n\t\tthis.isDone = true;\n\t\tthis.superGroup.result = [err];\n\t\tthis.superGroup.isError = true;\n\t\tif (!this.superGroup.started) {\n\t\t\t// if we didn't start the chain of .next() steps,\n\t\t\t// just call the final results immediately.\n\t\t\tthis.superGroup._runResultHandlers.apply(this.superGroup, this.superGroup.result);\n\t\t}\n\t};\n\n\tGroup.prototype.error = function error(err) {\n\t\tif (this.isDone) return;\n\t\tthis.isDone = true;\n\t\tthis.superGroup.isError = true;\n\t\tvar callback = this.callback;\n\t\tcallback(err);\n\t};\n\n\tGroup.prototype.pass = function () {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tthis.args.push(arguments[i]);\n\t\t}\n\t};\n\n\t// Simple utility for passing a sync value to the next step.\n\tGroup.prototype.slot = function () {\n\t\tif (arguments.length > 0) {\n\t\t\tthis.pass.apply(this, slice.call(arguments));\n\t\t} else {\n\t\t\treturn this.slotMulti(1);\n\t\t}\n\t};\n\n\t// Register a slot in the next step and return a callback\n\tGroup.prototype.slotMulti = function (argLength) {\n\t\tif (!argLength) argLength = 1;\n\t\tvar group = this;\n\t\tvar index = group.args.length;\n\t\tgroup.args.length += argLength;\n\t\tgroup.left++;\n\t\tif (this.firstSlotCallback) { // mcav\n\t\t\tthis.firstSlotCallback();\n\t\t\tthis.firstSlotCallback = null;\n\t\t}\n\t\treturn function (err) {\n\t\t\tif (err) return group.error(err);\n\t\t\tvar values = slice.call(arguments, 1);\n\t\t\tfor (var i = 0; i < argLength; i++) {\n\t\t\t\tgroup.args[index + i] = values[i];\n\t\t\t}\n\t\t\tif (--group.left === 0) group.done();\n\t\t};\n\t};\n\n\t// Register a slot in the next function which includes first param\n\tGroup.prototype.slotPlain = function slotPlain(argLength) {\n\t\tvar group = this;\n\t\tvar slot = group.slotMulti(argLength);\n\t\treturn function () {\n\t\t\tslot.apply(group, [null].concat(slice.call(arguments)));\n\t\t}\n\t};\n\n\t// Block on this callback, but dont slot data\n\tGroup.prototype.wait = function wait() {\n\t\tvar group = this;\n\t\tgroup.left++;\n\t\tif (this.firstSlotCallback) { // mcav\n\t\t\tthis.firstSlotCallback();\n\t\t\tthis.firstSlotCallback = null;\n\t\t}\n\t\treturn function (err, data) {\n\t\t\tif (err) return group.error(err);\n\t\t\tif (--group.left === 0) group.done();\n\t\t};\n\t};\n\n\t// Wait, but don't forward error\n\tGroup.prototype.waitPlain = function waitPlain() {\n\t\tvar group = this;\n\t\tvar wait = this.wait();\n\t\treturn function () {\n\t\t\twait.apply(group, [null].concat(slice.call(arguments)));\n\t\t}\n\t};\n\n\t// Creates a nested group where several callbacks go into a single array.\n\tGroup.prototype.group = function group() {\n\t\tvar group = this;\n\t\tvar index = this.args.length++;\n        group.args[index] = [];\n\t\tvar subgroup = new Group(this.superGroup, function (err) {\n\t\t\tif (err) return group.error(err);\n\t\t\tvar data = slice.call(arguments, 1);\n\t\t\tgroup.args[index] = data;\n\t\t\tif (--group.left === 0) group.done();\n\t\t}, function () {\n\t\t\tgroup.left++;\n\t\t});\n\n\t\tvar f = function () {\n\t\t\treturn subgroup.slot.apply(subgroup, arguments);\n\t\t};\n\t\t\n\t\tcopyToFunction(subgroup, f);\n\n\t\treturn f;\n\t};\n\n\t// global group\n\tfunction SuperGroup(args) {\n\t\tvar context;\n\t\tif (typeof args[0] === \"function\") {\n\t\t\tcontext = null;\n\t\t} else {\n\t\t\tcontext = args.shift();\n\t\t}\n\t\t\n\t\tthis.currentGroup = new Group(this, function () {});\n\t\tthis.context = context;\n\t\tthis.steps = [];\n\t\tthis.resultHandlers = [];\n\t\tthis.started = false;\n\t\tthis.result = null;\n\t\tthis.hasErrorCallback = false;\n\n\t\targs.forEach(function (fn) {\n\t\t\tfn && this.next(fn);\n\t\t}, this);\n\t}\n\n\tfor (var method in Group.prototype) if (Group.prototype.hasOwnProperty(method)) {\n\t\tSuperGroup.prototype[method] = (\n\t\t\tfunction (method) {\n\t\t\t\treturn function () {\n\t\t\t\t\tif (this.currentGroup) {\n\t\t\t\t\t\treturn this.currentGroup[method].apply(this.currentGroup, arguments);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})(method);\n\t}\n\n\t/**\n\t * Call this function regardless of whether or not an error has\n\t * propagated down the chain. You'll usually want to call this at the\n\t * end of your chain.\n\t */\n\tSuperGroup.prototype.onComplete = function (cb, _onlySuccess) {\n\t\tif (!cb) { return this.f; }\n\t\tif (!_onlySuccess) {\n\t\t\tthis.hasErrorCallback = true;\n\t\t}\n\t\tif (this.result) {\n\t\t\tthis._runResult(cb, this.result);\n\t\t} else {\n\t\t\tthis.resultHandlers.push(cb);\n\t\t}\n\t\treturn this.f;\n\t}\n\t\n\t/**\n\t * If and only if there was no error (this far in the chain), call cb\n\t * WITHOUT passing any error at all. Again, error won't be null, it'll\n\t * not be passed at all. Your function should only accept the next\n\t * arguments.\n\t */\n\tSuperGroup.prototype.onSuccess = function (cb) {\n\t\tif (!cb) { return this.f; }\n\t\treturn this.onComplete(function() {\n\t\t\t!this.isError && cb.apply(this, slice.call(arguments, 1));\n\t\t}.bind(this), true);\n\t}\n\n\t/**\n\t * If and only if there was an error, call cb with the\n\t * error as an argument.\n\t */\n\tSuperGroup.prototype.onError = function (cb) {\n\t\tif (!cb) { return this.f; }\n\t\treturn this.onComplete(function() {\n\t\t\tthis.isError && cb.apply(this, arguments);\n\t\t}.bind(this)); \n\t}\n\n\t// backwards compatibility\n\tSuperGroup.prototype.cb = SuperGroup.prototype.onComplete;\n\tSuperGroup.prototype.success = SuperGroup.prototype.onSuccess;\n\tSuperGroup.prototype.error = SuperGroup.prototype.onError;\n\n\tSuperGroup.prototype.then = function (onSuccess, onError) {\n\t\tvar defer = ff.defer();\n\t\tthis.onSuccess(function () {\n\t\t\ttry {\n\t\t\t\tif (typeof onSuccess !== \"function\") {\n\t\t\t\t\tdefer.apply(this, slice.call(arguments));\n\t\t\t\t} else {\n\t\t\t\t\tvar value = onSuccess.apply(this, slice.call(arguments));\n\t\t\t\t\tif (isPromise(value)) {\n\t\t\t\t\t\tvalue.then(defer, defer.fail);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdefer(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdefer.fail(e);\n\t\t\t}\n\t\t});\n\t\tthis.onError(function () {\n\t\t\ttry {\n\t\t\t\tif (typeof onError !== \"function\") {\n\t\t\t\t\tdefer.fail.apply(this, slice.call(arguments));\n\t\t\t\t} else {\n\t\t\t\t\tvar value = onError.apply(this, slice.call(arguments));\n\t\t\t\t\tif (isPromise(value)) {\n\t\t\t\t\t\tvalue.then(defer, defer.fail);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdefer(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdefer.fail(e);\n\t\t\t}\n\t\t});\n\t\treturn defer;\n\t}\n\n\tSuperGroup.prototype.next = function (cb) {\n\t\tthis.steps.push(cb);\n\t\treturn this.f;\n\t}\n\n\tSuperGroup.prototype.timeout = function (milliseconds) {\n\t\tif (!this.result) {\n\t\t\tif (this._timeout) {\n\t\t\t\tclearTimeout(this._timeout);\n\t\t\t}\n\t\t\tthis._timeout = setTimeout(function () {\n\t\t\t\tthis.fail(new Error(\"ff timeout\"));\n\t\t\t\t// we might not have run the result handler previously:\n\t\t\t\tthis._runResultHandlers.apply(this, this.result);\n\t\t\t}.bind(this), milliseconds);\n\t\t}\n\t\t\n\t\treturn this.f;\n\t}\n\n\t//****************************************************************\n\n\t// Stepper function\n\tSuperGroup.prototype._execNextStep = function(err) {\n\t\tif (this.result) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.started = true;\n\t\t\n\t\tvar step = this.steps.shift();\n\t\tif (err || !step) {\n\t\t\tthis._runResultHandlers.apply(this, arguments);\n\t\t} else {\n\t\t\tvar group = new Group(this, this._execNextStep.bind(this));\n\t\t\ttry {\n\t\t\t\t// make sure next function isnt applied\n\t\t\t\t// until current function has completed\n\t\t\t\tgroup.left++;\n\t\t\t\tthis.currentGroup = group;\n\t\t\t\tstep.apply(this.context || this, slice.call(arguments, 1));\n\t\t\t\tgroup.left--;\n\t\t\t\tif (this.result) {\n\t\t\t\t\tthis._runResultHandlers.apply(this, this.result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} catch (e) {\n\t\t\t\tgroup.left--;\n\t\t\t\t\n\t\t\t\tif (e._rethrow) {\n\t\t\t\t\tdelete e._rethrow;\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t\tgroup.error(e);\n\t\t\t}\n\t\t\tif (group.left === 0) group.done();\n\t\t}\n\t}\n\n\t// run a single result handler\n\tSuperGroup.prototype._runResult = function (handler, args) {\n\t\t// fire in a timeout so that if any handler throws an\n\t\t// exception ff will continue to execute and the\n\t\t// exception will be reported as unhandled (in node) or in the web\n\t\t// console (in the browser)\n\t\tsetTimeout(function () {\n\t\t\thandler && handler.apply(this.context || this, args);\n\t\t}.bind(this), 0);\n\t}\n\n\t// run all the registered result handlers\n\tSuperGroup.prototype._runResultHandlers = function (err) {\n\t\tif (this._finished) { return; }\n\t\tthis._finished = true;\n\t\t\n\t\tif (this._timeout) {\n\t\t\tclearTimeout(this._timeout);\n\t\t}\n\n\t\t// if an error occurred during the callback chain and no one\n\t\t// attached an error handler, make sure we rethrow it\n\t\tif (this.isError && !this.hasErrorCallback && this.started) {\n\t\t\tthis.resultHandlers.push(function(err) {\n\t\t\t\terr._rethrow = true;\n\t\t\t\tthis.f && this.f.debug && console.log(\"Unhandled ff error:\", err, err && err.stack);\n\t\t\t\tthrow err;\n\t\t\t}.bind(this));\n\t\t}\n\t\t\n\t\tthis.result = slice.call(arguments);\n\t\t\n\t\tthis.currentGroup = null;\n\t\t\n\t\t\n\t\tvar args = arguments;\n\t\tthis.resultHandlers.forEach(function (handler) {\n\t\t\tthis._runResult(handler, args);\n\t\t}.bind(this));\n\t\t\n\t\tthis.resultHandlers.length = 0; // null it out\n\t}\n\n\t//****************************************************************\n\n\tfunction ff() {\n\t\tvar superGroup = new SuperGroup(slice.call(arguments));\n\n\t\t// execute steps in next tick\n\t\tvar f = function () {\n\t\t\treturn superGroup.slot.apply(superGroup, arguments);\n\t\t};\n\n\t\tsuperGroup.f = f;\n\t\tcopyToFunction(superGroup, f);\n\n\t\t// begin executing steps next time we yield to event loop\n\t\tsetTimeout(function(){ superGroup._execNextStep(); }, 0);\n\n\t\treturn f;\n\t}\n\n\tff.defer = function () {\n\t\tvar superGroup = new SuperGroup(slice.call(arguments));\n\n\t\tvar f = function () {\n\t\t\tif (!superGroup.started) {\n\t\t\t\tsuperGroup._execNextStep.apply(superGroup, [null].concat(slice.call(arguments)));\n\t\t\t} else {\n\t\t\t\treturn superGroup.slot.apply(superGroup, arguments);\n\t\t\t}\n\t\t};\n\t\t\n\t\tsuperGroup.f = f;\n\t\tcopyToFunction(superGroup, f);\n\n\t\treturn f;\n\t}\n\n\t//****************************************************************\n\t\n\tif (typeof define === \"function\" && define.amd) { // amd\n\t\tdefine(\"ff\", [], function () {\n\t\t\treturn ff;\n\t\t});\n\t} else if (typeof exports === \"object\") { // jsio\n\t\texports = ff;\n\t\t\n\t\tif (typeof module === \"object\") { // node\n\t\t\tmodule.exports = ff;\n\t\t}\n\t} else { // global\n\t\tthis.ff = ff;\n\t}\n}());",
            "pre": true
        },
        "node_modules/squill/cssLoad.js": {
            "path": "node_modules/squill/cssLoad.js",
            "friendlyPath": "squill.cssLoad",
            "directory": "node_modules/squill/",
            "filename": "cssLoad.js",
            "src": "jsio('import std.uri');\njsio('import util.ajax');\njsio('from util.browser import $');\n\nlogger.setLevel(0);\n\nexports.get = function(opts, cb) {\n\tif (typeof opts == 'string') {\n\t\topts = {url: opts};\n\t}\n\n\tvar win = (opts.win || window);\n\tvar doc = win.document;\n\tvar loc = win.location;\n\n\tvar parent = opts.el || doc.getElementsByTagName('head')[0];\n\n\t// use a script tag\n\tvar el = $({tag: 'link'});\n\tel.type = 'text/css';\n\tel.rel = 'stylesheet';\n\tif ('onload' in el) {\n\t\tel.onload = function () {\n\t\t\tsetTimeout(function () {\n\t\t\t\tcb && cb(null);\n\t\t\t}, 0); // wait for reflow\n\t\t};\n\n\t\tel.onerror = function (e) {\n\t\t\tcb && cb(e);\n\t\t};\n\t} else {\n\t\t// don't know when it loads :(\n\t\tsetTimeout(function () {\n\t\t\tcb && cb();\n\t\t}, 500);\n\t}\n\n\tvar url = std.uri.relativeTo(opts.url, window.location.toString());\n\n\texports._styleTags.push({\n\t\tel: el,\n\t\tsrc: url\n\t});\n\n\tparent.appendChild(el);\n\tel.href = url;\n}\n\nexports._styleTags = [];\nexports.reloadCSS = function() {\n\tfor (var i = 0, s; s = exports._styleTags[i]; ++i) {\n\t\tutil.ajax.get({url: s.src}, bind(this, function(s, err, content) {\n\t\t\tif (!err) { $.setText(s.el, content); }\n\t\t}, s));\n\t}\n}\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/preprocessors/import.js": {
            "path": "../node_modules\\jsio\\packages/preprocessors/import.js",
            "friendlyPath": "preprocessors.import",
            "directory": "../node_modules\\jsio\\packages/preprocessors",
            "filename": "import.js",
            "baseMod": "preprocessors",
            "basePath": "c:\\Users\\Surface\\cloud\\node_modules\\jsio\\packages/preprocessors",
            "src": "var importExpr = /^(\\s*)(import\\s+[^=+*\"'\\r\\n;\\/]+|from\\s+[^=+\"'\\r\\n;\\/ ]+\\s+import\\s+[^=+\"'\\r\\n;\\/]+)(;|\\/|$)/gm;\n\nfunction replace(raw, p1, p2, p3) {\n\tif (!/\\/\\//.test(p1)) {\n\t\treturn p1 + 'jsio(\\'' + p2 + '\\')' + p3;\n\t}\n\treturn raw;\n}\n\nexports = function (path, moduleDef, opts) {\n\tmoduleDef.src = moduleDef.src.replace(importExpr, replace);\n}\n",
            "pre": true
        },
        "../node_modules\\jsio\\packages/preprocessors/cls.js": {
            "path": "../node_modules\\jsio\\packages/preprocessors/cls.js",
            "friendlyPath": "preprocessors.cls",
            "directory": "../node_modules\\jsio\\packages/preprocessors",
            "filename": "cls.js",
            "src": "\n// var F = exports = Class\n// exports = Class\nvar classExport = /^(.*?)exports\\s*=\\s*Class\\s*\\(/gm;\n\n// var F = Class\n// exports.F = Class\n// var F = exports.F = Class\nvar class2Export = /^(\\s*)(.*?[ \\t]+)?([a-zA-Z0-9\\.$]+)\\s*=\\s*Class\\s*\\(/gm;\n\nfunction replacer (base, whitespace, prefix, name) {\n\tif (/\\/\\//.test(base)) {\n\t\treturn base;\n\t}\n\n\treturn whitespace + name + '=__class__;' + (prefix || '') + name + '=' + name + '(function ' + name.replace(/[\\.]/g, '_') + '(){return this.init&&this.init.apply(this,arguments)},';\n}\n\nexports = function (path, moduleDef, opts) {\n\tvar moduleCtor = moduleDef.path.replace(/(^[.\\/]+|\\.([^.]+?)$)/g, '').replace(/[\\:\\\\\\/\\-\\. ]/g, '_');\n\tmoduleDef.src = moduleDef.src\n\t\t.replace(classExport, 'var ' + moduleCtor + '=__class__;$1exports=' + moduleCtor + '(function ' + moduleCtor + '(){return this.init&&this.init.apply(this,arguments)},')\n\t\t.replace(class2Export, replacer);\n}\n",
            "pre": true
        }
    });
    ;
    jsio("import .src.serve.static.simulator.GUI, preprocessors.import, preprocessors.cls")
</script>
</html>
